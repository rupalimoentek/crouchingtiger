angular.module("fundoo.services",[]).factory("createDialog",["$document","$compile","$rootScope","$controller","$timeout",function(e,t,i,n,o){var s={id:null,template:null,templateUrl:null,title:"Default Title",backdrop:!0,success:{label:"OK",fn:null},cancel:{label:"Close",fn:null},controller:null,backdropClass:"modal-backdrop",backdropCancel:!0,footerTemplate:null,modalClass:"modal",css:{top:"100px",left:"30%",margin:"0 auto"}},a=e.find("body");return function(e,r,l){var c;angular.isObject(e)?(l=r,r=e):r.templateUrl=e;var u=(r=angular.extend({},s,r)).id?' id="'+r.id+'" ':"",d='<div class="modal-footer">'+(r.footerTemplate||'<button class="btn" ng-click="$modalCancel()">{{$modalCancelLabel}}</button><button class="btn btn-primary" ng-click="$modalSuccess()">{{$modalSuccessLabel}}</button>')+"</div>",h=r.template?angular.isString(r.template)?'<div class="modal-body">'+r.template+"</div>":'<div class="modal-body">'+r.template.html()+"</div>":'<div class="modal-body" ng-include="\''+r.templateUrl+"'\"></div>",p=angular.element('<div class="'+r.modalClass+' fade"'+u+' style="display: block;">  <div class="modal-dialog">    <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" ng-click="$modalCancel()">&times;</button>        <h2>{{$title}}</h2>      </div>'+h+d+"    </div>  </div></div>");for(c in r.css)p.css(c,r.css[c]);var f="<div ";r.backdropCancel&&(f+='ng-click="$modalCancel()"'),f+=">";var g=angular.element(f);g.addClass(r.backdropClass),g.addClass("fade in");var m=function(e){27===e.keyCode&&w.$modalCancel()},v=function(){a.unbind("keydown",m),p.remove(),r.backdrop&&g.remove()};a.bind("keydown",m);var b,y,w=r.scope||i.$new();w.$title=r.title,w.$modalClose=v,w.$modalCancel=function(){(r.cancel.fn||v).call(this),w.$modalClose()},w.$modalSuccess=function(){(r.success.fn||v).call(this),w.$modalClose()},w.$modalSuccessLabel=r.success.label,w.$modalCancelLabel=r.cancel.label,r.controller&&(y=angular.extend({$scope:w},l),b=n(r.controller,y),p.contents().data("$ngControllerController",b)),t(p)(w),t(g)(w),a.append(p),r.backdrop&&a.append(g),o(function(){p.addClass("in")},200)}}]),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){var t,i,n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(e.event.fixHooks)for(var a=n.length;a;)e.event.fixHooks[n[--a]]=e.event.mouseHooks;var r=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=o.length;t;)this.addEventListener(o[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",r.getLineHeight(this)),e.data(this,"mousewheel-page-height",r.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=o.length;t;)this.removeEventListener(o[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(n){var o,a=n||window.event,l=s.call(arguments,1),d=0,h=0,p=0,f=0,g=0;if((n=e.event.fix(a)).type="mousewheel","detail"in a&&(p=-1*a.detail),"wheelDelta"in a&&(p=a.wheelDelta),"wheelDeltaY"in a&&(p=a.wheelDeltaY),"wheelDeltaX"in a&&(h=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=-1*p,p=0),d=0===p?h:p,"deltaY"in a&&(d=p=-1*a.deltaY),"deltaX"in a&&(h=a.deltaX,0===p&&(d=-1*h)),0!==p||0!==h){if(1===a.deltaMode){var m=e.data(this,"mousewheel-line-height");d*=m,p*=m,h*=m}else if(2===a.deltaMode){var v=e.data(this,"mousewheel-page-height");d*=v,p*=v,h*=v}if(o=Math.max(Math.abs(p),Math.abs(h)),(!i||o<i)&&(i=o,u(a,o)&&(i/=40)),u(a,o)&&(d/=40,h/=40,p/=40),d=Math[d>=1?"floor":"ceil"](d/i),h=Math[h>=1?"floor":"ceil"](h/i),p=Math[p>=1?"floor":"ceil"](p/i),r.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=n.clientX-b.left,g=n.clientY-b.top}return n.deltaX=h,n.deltaY=p,n.deltaFactor=i,n.offsetX=f,n.offsetY=g,n.deltaMode=0,l.unshift(n,d,h,p),t&&clearTimeout(t),t=setTimeout(c,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function c(){i=null}function u(e,t){return r.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));!function(e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var t;try{t=require("jquery")}catch(e){t=null}module.exports=e(t)}else window&&(window.Slider=e(window.jQuery))}(function(e){var t;return windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){}),function(e){"use strict";var t=Array.prototype.slice;function i(){}!function(e){if(e){var n="undefined"==typeof console?i:function(e){console.error(e)};e.bridget=function(i,o){!function(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}(o),function(i,o){e.fn[i]=function(s){if("string"==typeof s){for(var a=t.call(arguments,1),r=0,l=this.length;r<l;r++){var c=this[r],u=e.data(c,i);if(u)if(e.isFunction(u[s])&&"_"!==s.charAt(0)){var d=u[s].apply(u,a);if(void 0!==d&&d!==u)return d}else n("no such method '"+s+"' for "+i+" instance");else n("cannot call methods on "+i+" prior to initialization; attempted to call '"+s+"'")}return this}var h=this.map(function(){var t=e.data(this,i);return t?(t.option(s),t._init()):(t=new o(this,s),e.data(this,i,t)),e(this)});return!h||h.length>1?h:h[0]}}(i,o)},e.bridget}}(e)}(e),function(e){var i=function(e){return"Invalid input value '"+e+"' passed in"},n={linear:{toValue:function(e){var t=e/100*(this.options.max-this.options.min),i=!0;if(this.options.ticks_positions.length>0){for(var n,o,s,a=0,r=1;r<this.options.ticks_positions.length;r++)if(e<=this.options.ticks_positions[r]){n=this.options.ticks[r-1],s=this.options.ticks_positions[r-1],o=this.options.ticks[r],a=this.options.ticks_positions[r];break}t=n+(e-s)/(a-s)*(o-n),i=!1}var l=(i?this.options.min:0)+Math.round(t/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function(e){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var t,i,n,o=0,s=0;s<this.options.ticks.length;s++)if(e<=this.options.ticks[s]){t=s>0?this.options.ticks[s-1]:0,n=s>0?this.options.ticks_positions[s-1]:0,i=this.options.ticks[s],o=this.options.ticks_positions[s];break}if(s>0)return n+(e-t)/(i-t)*(o-n)}return 100*(e-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(e){var t=0===this.options.min?0:Math.log(this.options.min),i=Math.log(this.options.max),n=Math.exp(t+(i-t)*e/100);return Math.round(n)===this.options.max?this.options.max:(n=this.options.min+Math.round((n-this.options.min)/this.options.step)*this.options.step)<this.options.min?this.options.min:n>this.options.max?this.options.max:n},toPercentage:function(e){if(this.options.max===this.options.min)return 0;var t=Math.log(this.options.max),i=0===this.options.min?0:Math.log(this.options.min);return 100*((0===e?0:Math.log(e))-i)/(t-i)}}};function o(t,i){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t),i=i||{};for(var o=Object.keys(this.defaultOptions),s=0;s<o.length;s++){var a=o[s],r=i[a];r=null!==(r=void 0!==r?r:l(this.element,a))?r:this.defaultOptions[a],this.options||(this.options={}),this.options[a]=r}function l(e,t){var i="data-slider-"+t.replace(/_/g,"-"),n=e.getAttribute(i);try{return JSON.parse(n)}catch(e){return n}}"auto"===this.options.rtl&&(this.options.rtl="rtl"===window.getComputedStyle(this.element).direction),"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var c,u,d,h,p,f=this.element.style.width,g=!1,m=this.element.parentNode;if(this.sliderElem)g=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var v=document.createElement("div");v.className="slider-track",(u=document.createElement("div")).className="slider-track-low",(c=document.createElement("div")).className="slider-selection",(d=document.createElement("div")).className="slider-track-high",(h=document.createElement("div")).className="slider-handle min-slider-handle",h.setAttribute("role","slider"),h.setAttribute("aria-valuemin",this.options.min),h.setAttribute("aria-valuemax",this.options.max),(p=document.createElement("div")).className="slider-handle max-slider-handle",p.setAttribute("role","slider"),p.setAttribute("aria-valuemin",this.options.min),p.setAttribute("aria-valuemax",this.options.max),v.appendChild(u),v.appendChild(c),v.appendChild(d),this.rangeHighlightElements=[];var b=this.options.rangeHighlights;if(Array.isArray(b)&&b.length>0)for(var y=0;y<b.length;y++){var w=document.createElement("div"),x=b[y].class||"";w.className="slider-rangeHighlight slider-selection "+x,this.rangeHighlightElements.push(w),v.appendChild(w)}var C=Array.isArray(this.options.labelledby);if(C&&this.options.labelledby[0]&&h.setAttribute("aria-labelledby",this.options.labelledby[0]),C&&this.options.labelledby[1]&&p.setAttribute("aria-labelledby",this.options.labelledby[1]),!C&&this.options.labelledby&&(h.setAttribute("aria-labelledby",this.options.labelledby),p.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",s=0;s<this.options.ticks.length;s++){var k=document.createElement("div");if(k.className="slider-tick",this.options.ticks_tooltip){var $=this._addTickListener(),T=$.addMouseEnter(this,k,s),S=$.addMouseLeave(this,k);this.ticksCallbackMap[s]={mouseEnter:T,mouseLeave:S}}this.ticks.push(k),this.ticksContainer.appendChild(k)}c.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",s=0;s<this.options.ticks_labels.length;s++){var E=document.createElement("div"),P=0===this.options.ticks_positions.length,D=this.options.reversed&&P?this.options.ticks_labels.length-(s+1):s;E.className="slider-tick-label",E.innerHTML=this.options.ticks_labels[D],this.tickLabels.push(E),this.tickLabelContainer.appendChild(E)}var M=function(e){var t=document.createElement("div");t.className="tooltip-arrow";var i=document.createElement("div");i.className="tooltip-inner",e.appendChild(t),e.appendChild(i)},_=document.createElement("div");_.className="tooltip tooltip-main",_.setAttribute("role","presentation"),M(_);var O=document.createElement("div");O.className="tooltip tooltip-min",O.setAttribute("role","presentation"),M(O);var I=document.createElement("div");I.className="tooltip tooltip-max",I.setAttribute("role","presentation"),M(I),this.sliderElem.appendChild(v),this.sliderElem.appendChild(_),this.sliderElem.appendChild(O),this.sliderElem.appendChild(I),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(h),this.sliderElem.appendChild(p),m.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(e&&(this.$element=e(this.element),this.$sliderElem=e(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),n[this.options.scale]&&(this.options.scale=n[this.options.scale]),!0===g&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(e){this._removeProperty(this.trackLow,e),this._removeProperty(this.trackSelection,e),this._removeProperty(this.trackHigh,e)},this),[this.handle1,this.handle2].forEach(function(e){this._removeProperty(e,"left"),this._removeProperty(e,"right"),this._removeProperty(e,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(e){this._removeProperty(e,"left"),this._removeProperty(e,"right"),this._removeProperty(e,"top"),this._removeProperty(e,"margin-left"),this._removeProperty(e,"margin-right"),this._removeProperty(e,"margin-top"),this._removeClass(e,"right"),this._removeClass(e,"left"),this._removeClass(e,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=f,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=u||this.trackLow,this.trackSelection=c||this.trackSelection,this.trackHigh=d||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=h||this.handle1,this.handle2=p||this.handle2,!0===g)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),s=0;s<this.ticks.length;s++)this._removeClass(this.ticks[s],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),s=0;s<this.ticks.length;s++)this._addClass(this.ticks[s],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){var A=!1;try{var L=Object.defineProperty({},"passive",{get:function(){A=!0}});window.addEventListener("test",null,L)}catch(e){}var F=!!A&&{passive:!0};this.sliderElem.addEventListener("touchstart",this.touchstart,F),this.sliderElem.addEventListener("touchmove",this.touchmove,F)}if(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var N=this._addTickListener(),R=N.addMouseEnter(this,this.handle1),H=N.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:R,mouseLeave:H},R=N.addMouseEnter(this,this.handle2),H=N.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:R,mouseLeave:H}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}if((t=function(e,t){return o.call(this,e,t),this}).prototype={_init:function(){},constructor:t,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(e){return Array.isArray(e)?e[0]+" : "+e[1]:e},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(e,t,i){e||(e=0);var n=this.getValue();this._state.value=this._validateInputValue(e);var o=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=o(this._state.value[0]),this._state.value[1]=o(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=o(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var s=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(s),!0===t&&this._trigger("slide",s),n!==s&&!0===i&&this._trigger("change",{oldValue:n,newValue:s}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),e&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(e,t){return this._bindNonQueryEventHandler(e,t),this},off:function(t,i){e?(this.$element.off(t,i),this.$sliderElem.off(t,i)):this._unbindNonQueryEventHandler(t,i)},getAttribute:function(e){return e?this.options[e]:this.options},setAttribute:function(e,t){return this.options[e]=t,this},refresh:function(){return this._removeSliderEventHandlers(),o.call(this,this.element,this.options),e&&e.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var e=this.ticksContainer.getElementsByClassName("slider-tick"),t=0;t<e.length;t++)e[t].removeEventListener("mouseenter",this.ticksCallbackMap[t].mouseEnter,!1),e[t].removeEventListener("mouseleave",this.ticksCallbackMap[t].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(e,t){void 0===this.eventToCallbackMap[e]&&(this.eventToCallbackMap[e]=[]),this.eventToCallbackMap[e].push(t)},_unbindNonQueryEventHandler:function(e,t){var i=this.eventToCallbackMap[e];if(void 0!==i)for(var n=0;n<i.length;n++)if(i[n]===t){i.splice(n,1);break}},_cleanUpEventCallbacksMap:function(){for(var e=Object.keys(this.eventToCallbackMap),t=0;t<e.length;t++){var i=e[t];delete this.eventToCallbackMap[i]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(e){var t=this.options.formatter(e?e.value[0]:this._state.value[0]),i=n(e||this._state,this.options.reversed);function n(e,t){return t?[100-e.percentage[0],this.options.range?100-e.percentage[1]:e.percentage[1]]:[e.percentage[0],e.percentage[1]]}this._setText(this.tooltipInner,t),this.tooltip.style[this.stylePos]=i[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px")},_addTickListener:function(){return{addMouseEnter:function(e,t,i){var n=function(){var t=e._state,n=i>=0?i:this.attributes["aria-valuenow"].value,o=parseInt(n,10);t.value[0]=o,t.percentage[0]=e.options.ticks_positions[o],e._setToolTipOnMouseOver(t),e._showTooltip()};return t.addEventListener("mouseenter",n,!1),n},addMouseLeave:function(e,t){var i=function(){e._hideTooltip()};return t.addEventListener("mouseleave",i,!1),i}}},_layout:function(){var e,t;if(e=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=e[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),isNaN(this.options.formatter(this._state.value[0]))&&this.handle1.setAttribute("aria-valuetext",this.options.formatter(this._state.value[0])),this.handle2.style[this.stylePos]=e[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),isNaN(this.options.formatter(this._state.value[1]))&&this.handle2.setAttribute("aria-valuetext",this.options.formatter(this._state.value[1])),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var i=0;i<this.options.rangeHighlights.length;i++){var n=this._toPercentage(this.options.rangeHighlights[i].start),o=this._toPercentage(this.options.rangeHighlights[i].end);if(this.options.reversed){var s=100-o;o=100-n,n=s}var a=this._createHighlightRange(n,o);a?"vertical"===this.options.orientation?(this.rangeHighlightElements[i].style.top=a.start+"%",this.rangeHighlightElements[i].style.height=a.size+"%"):(this.options.rtl?this.rangeHighlightElements[i].style.right=a.start+"%":this.rangeHighlightElements[i].style.left=a.start+"%",this.rangeHighlightElements[i].style.width=a.size+"%"):this.rangeHighlightElements[i].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var r,l="vertical"===this.options.orientation?"height":"width";r="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var c=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var u=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[r]=-c/2+"px"),u=this.tickLabelContainer.offsetHeight;else for(d=0;d<this.tickLabelContainer.childNodes.length;d++)this.tickLabelContainer.childNodes[d].offsetHeight>u&&(u=this.tickLabelContainer.childNodes[d].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=u+"px")}for(var d=0;d<this.options.ticks.length;d++){var h=this.options.ticks_positions[d]||this._toPercentage(this.options.ticks[d]);this.options.reversed&&(h=100-h),this.ticks[d].style[this.stylePos]=h+"%",this._removeClass(this.ticks[d],"in-selection"),this.options.range?h>=e[0]&&h<=e[1]&&this._addClass(this.ticks[d],"in-selection"):"after"===this.options.selection&&h>=e[0]?this._addClass(this.ticks[d],"in-selection"):"before"===this.options.selection&&h<=e[0]&&this._addClass(this.ticks[d],"in-selection"),this.tickLabels[d]&&(this.tickLabels[d].style[l]=c+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[d]?(this.tickLabels[d].style.position="absolute",this.tickLabels[d].style[this.stylePos]=h+"%",this.tickLabels[d].style[r]=-c/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[d].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[d].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[r]=this.sliderElem.offsetWidth/2*-1+"px"))}}if(this.options.range){t=this.options.formatter(this._state.value),this._setText(this.tooltipInner,t),this.tooltip.style[this.stylePos]=(e[1]+e[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");var p=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,p);var f=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,f),this.tooltip_min.style[this.stylePos]=e[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=e[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetWidth/2+"px")}else t=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,t),this.tooltip.style[this.stylePos]=e[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(e[0],e[1])+"%",this.trackSelection.style.top=Math.min(e[0],e[1])+"%",this.trackSelection.style.height=Math.abs(e[0]-e[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(e[0],e[1])-Math.abs(e[0]-e[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(e[0],e[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(e[0],e[1])+"%":this.trackSelection.style.left=Math.min(e[0],e[1])+"%",this.trackSelection.style.width=Math.abs(e[0]-e[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(e[0],e[1])-Math.abs(e[0]-e[1])+"%";var g=this.tooltip_min.getBoundingClientRect(),m=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?g.right>m.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):g.right>m.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(e,t){return this._isHighlightRange(e,t)?e>t?{start:t,size:e-t}:{start:e,size:t-e}:null},_isHighlightRange:function(e,t){return 0<=e&&e<=100&&0<=t&&t<=100},_resize:function(e){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},_mousedown:function(e){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var t=this._getPercentage(e);if(this.options.range){var i=Math.abs(this._state.percentage[0]-t),n=Math.abs(this._state.percentage[1]-t);this._state.dragged=i<n?0:1,this._adjustPercentageForRangeSliders(t)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=t,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var o=this._calculateValue();return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!1,!0),e.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(e){if(void 0!==e.changedTouches){var t=e.changedTouches[0];this.touchX=t.pageX,this.touchY=t.pageY}else this._mousedown(e)},_triggerFocusOnHandle:function(e){0===e&&this.handle1.focus(),1===e&&this.handle2.focus()},_keydown:function(e,t){if(!this._state.enabled)return!1;var i;switch(t.keyCode){case 37:case 40:i=-1;break;case 39:case 38:i=1}if(i){if(this.options.natural_arrow_keys){var n="vertical"===this.options.orientation&&!this.options.reversed,o="horizontal"===this.options.orientation&&this.options.reversed;(n||o)&&(i=-i)}var s=this._state.value[e]+i*this.options.step,a=s/this.options.max*100;if(this._state.keyCtrl=e,this.options.range)this._adjustPercentageForRangeSliders(a),s=[this._state.keyCtrl?this._state.value[0]:s,this._state.keyCtrl?s:this._state.value[1]];return this._trigger("slideStart",s),this._setDataVal(s),this.setValue(s,!0,!0),this._setDataVal(s),this._trigger("slideStop",s),this._layout(),this._pauseEvent(t),delete this._state.keyCtrl,!1}},_pauseEvent:function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1},_mousemove:function(e){if(!this._state.enabled)return!1;var t=this._getPercentage(e);this._adjustPercentageForRangeSliders(t),this._state.percentage[this._state.dragged]=t,this._layout();var i=this._calculateValue(!0);return this.setValue(i,!0,!0),!1},_touchmove:function(e){if(void 0!==e.changedTouches){var t=e.changedTouches[0],i=t.pageX-this.touchX,n=t.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&i<=5&&i>=-5&&(n>=15||n<=-15)?this._mousedown(e):n<=5&&n>=-5&&(i>=15||i<=-15)&&this._mousedown(e))}},_adjustPercentageForRangeSliders:function(e){if(this.options.range){var t=this._getNumDigitsAfterDecimalPlace(e);t=t?t-1:0;var i=this._applyToFixedAndParseFloat(e,t);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],t)<i?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],t)>i?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._state.value[1]/this.options.max*100<e?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._state.value[0]/this.options.max*100>e&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var e=this._calculateValue(!0);return this._layout(),this._setDataVal(e),this._trigger("slideStop",e),!1},_calculateValue:function(e){var t;if(this.options.range?(t=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(t[0]=this._toValue(this._state.percentage[0]),t[0]=this._applyPrecision(t[0])),100!==this._state.percentage[1]&&(t[1]=this._toValue(this._state.percentage[1]),t[1]=this._applyPrecision(t[1]))):(t=this._toValue(this._state.percentage[0]),t=parseFloat(t),t=this._applyPrecision(t)),e){for(var i=[t,1/0],n=0;n<this.options.ticks.length;n++){var o=Math.abs(this.options.ticks[n]-t);o<=i[1]&&(i=[this.options.ticks[n],o])}if(i[1]<=this.options.ticks_snap_bounds)return i[0]}return t},_applyPrecision:function(e){var t=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(e,t)},_getNumDigitsAfterDecimalPlace:function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_applyToFixedAndParseFloat:function(e,t){var i=e.toFixed(t);return parseFloat(i)},_getPercentage:function(e){!this.touchCapable||"touchstart"!==e.type&&"touchmove"!==e.type||(e=e.touches[0]);var t=e[this.mousePos]-this._state.offset[this.stylePos];"right"===this.stylePos&&(t=-t);var i=t/this._state.size*100;return i=Math.round(i/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(i=100-i),Math.max(0,Math.min(100,i))},_validateInputValue:function(e){if(isNaN(+e)){if(Array.isArray(e))return this._validateArray(e),e;throw new Error(i(e))}return+e},_validateArray:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("number"!=typeof n)throw new Error(i(n))}},_setDataVal:function(e){this.element.setAttribute("data-value",e),this.element.setAttribute("value",e),this.element.value=e},_trigger:function(t,i){i=i||0===i?i:void 0;var n=this.eventToCallbackMap[t];if(n&&n.length)for(var o=0;o<n.length;o++){(0,n[o])(i)}e&&this._triggerJQueryEvent(t,i)},_triggerJQueryEvent:function(e,t){var i={type:e,value:t};this.$element.trigger(i),this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(e,t){void 0!==e.textContent?e.textContent=t:void 0!==e.innerText&&(e.innerText=t)},_removeClass:function(e,t){for(var i=t.split(" "),n=e.className,o=0;o<i.length;o++){var s=i[o],a=new RegExp("(?:\\s|^)"+s+"(?:\\s|$)");n=n.replace(a," ")}e.className=n.trim()},_addClass:function(e,t){for(var i=t.split(" "),n=e.className,o=0;o<i.length;o++){var s=i[o];new RegExp("(?:\\s|^)"+s+"(?:\\s|$)").test(n)||(n+=" "+s)}e.className=n.trim()},_offsetLeft:function(e){return e.getBoundingClientRect().left},_offsetRight:function(e){return e.getBoundingClientRect().right},_offsetTop:function(e){for(var t=e.offsetTop;(e=e.offsetParent)&&!isNaN(e.offsetTop);)t+=e.offsetTop,"BODY"!==e.tagName&&(t-=e.scrollTop);return t},_offset:function(e){return{left:this._offsetLeft(e),right:this._offsetRight(e),top:this._offsetTop(e)}},_css:function(t,i,n){if(e)e.style(t,i,n);else{var o=i.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()});t.style[o]=n}},_toValue:function(e){return this.options.scale.toValue.apply(this,[e])},_toPercentage:function(e){return this.options.scale.toPercentage.apply(this,[e])},_setTooltipPosition:function(){var e=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var t,i="left"===(t=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right")?"right":"left";e.forEach(function(e){this._addClass(e,t),e.style[i]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?e.forEach(function(e){this._addClass(e,"bottom"),e.style.top="22px"}.bind(this)):e.forEach(function(e){this._addClass(e,"top"),e.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},e&&e.fn){var s=void 0;e.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),s="bootstrapSlider"):(e.bridget("slider",t),s="slider"),e.bridget("bootstrapSlider",t),e(function(){e("input[data-provide=slider]")[s]()})}}(e),t}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/popup.html","uib/template/datepicker/year.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$injector",function(e,t){var i=t.has("$animateCss")?t.get("$animateCss"):null;return{link:function(t,n,o){function s(){n.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function a(){n.css({height:"0"}),n.removeClass("collapsing").addClass("collapse")}t.$eval(o.uibCollapse)||n.addClass("in").addClass("collapse").css({height:"auto"}),t.$watch(o.uibCollapse,function(t){t?function(){if(!n.hasClass("collapse")&&!n.hasClass("in"))return a();n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(n,{removeClass:"in",to:{height:"0"}}).start().finally(a):e.removeClass(n,"in",{to:{height:"0"}}).then(a)}():(n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(n,{addClass:"in",easing:"ease",to:{height:n[0].scrollHeight+"px"}}).start().finally(s):e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(s))})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,i){this.groups=[],this.closeOthers=function(n){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):i.closeOthers)&&angular.forEach(this.groups,function(e){e!==n&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(i){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,i,n){n.addGroup(e),e.openClass=i.openClass||"panel-open",e.panelClass=i.panelClass||"panel-default",e.$watch("isOpen",function(i){t.toggleClass(e.openClass,!!i),i&&n.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,i,n,o){n.setHeading(o(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(e,t,i,n){e.$watch(function(){return n[i.uibAccordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,i,n){e.closeable=!!t.close;var o=angular.isDefined(t.dismissOnTimeout)?i(t.dismissOnTimeout)(e.$parent):null;o&&n(function(){e.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,i,n,o){var s=o[0],a=o[1],r=e(n.uibUncheckable);i.find("input").css({display:"none"}),a.$render=function(){i.toggleClass(s.activeClass,angular.equals(a.$modelValue,t.$eval(n.uibBtnRadio)))},i.on(s.toggleEvent,function(){if(!n.disabled){var e=i.hasClass(s.activeClass);e&&!angular.isDefined(n.uncheckable)||t.$apply(function(){a.$setViewValue(e?null:t.$eval(n.uibBtnRadio)),a.$render()})}}),n.uibUncheckable&&t.$watch(r,function(e){n.$set("uncheckable",e?"":null)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,i,n){var o=n[0],s=n[1];function a(){return r(i.btnCheckboxTrue,!0)}function r(t,i){return angular.isDefined(t)?e.$eval(t):i}t.find("input").css({display:"none"}),s.$render=function(){t.toggleClass(o.activeClass,angular.equals(s.$modelValue,a()))},t.on(o.toggleEvent,function(){i.disabled||e.$apply(function(){s.$setViewValue(t.hasClass(o.activeClass)?r(i.btnCheckboxFalse,!1):a()),s.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,i,n,o){var s,a,r=this,l=r.slides=e.slides=[],c="uib-slideDirection",u=-1,d=[];r.currentSlide=null;var h=!1;function p(){for(;d.length;)d.shift()}function f(e){if(angular.isUndefined(l[e].index))return l[e];for(var t=0,i=l.length;t<i;++t)if(l[t].index===e)return l[t]}function g(){s&&(i.cancel(s),s=null)}function m(){g();var t=+e.interval;!isNaN(t)&&t>0&&(s=i(v,t))}function v(){var t=+e.interval;a&&!isNaN(t)&&t>0&&l.length?e.next():e.pause()}r.addSlide=function(t,i){t.$element=i,l.push(t),1===l.length||t.active?(e.$currentTransition&&(e.$currentTransition=null),r.select(l[l.length-1]),1===l.length&&e.play()):t.active=!1},r.getCurrentIndex=function(){return r.currentSlide&&angular.isDefined(r.currentSlide.index)?+r.currentSlide.index:u},r.next=e.next=function(){var t=(r.getCurrentIndex()+1)%l.length;if(0!==t||!e.noWrap())return r.select(f(t),"next");e.pause()},r.prev=e.prev=function(){var t=r.getCurrentIndex()-1<0?l.length-1:r.getCurrentIndex()-1;if(!e.noWrap()||t!==l.length-1)return r.select(f(t),"prev");e.pause()},r.removeSlide=function(e){angular.isDefined(e.index)&&l.sort(function(e,t){return+e.index>+t.index});var t=d.indexOf(e);-1!==t&&d.splice(t,1);var i=l.indexOf(e);l.splice(i,1),n(function(){l.length>0&&e.active?i>=l.length?r.select(l[i-1]):r.select(l[i]):u>i&&u--}),0===l.length&&(r.currentSlide=null,p())},r.select=e.select=function(i,n){var s=e.indexOfSlide(i);void 0===n&&(n=s>r.getCurrentIndex()?"next":"prev"),i&&i!==r.currentSlide&&!e.$currentTransition?function i(n,s,a){if(h)return;angular.extend(n,{direction:a,active:!0});angular.extend(r.currentSlide||{},{direction:a,active:!1});o.enabled(t)&&!e.$currentTransition&&n.$element&&r.slides.length>1&&(n.$element.data(c,n.direction),r.currentSlide&&r.currentSlide.$element&&r.currentSlide.$element.data(c,n.direction),e.$currentTransition=!0,o.on("addClass",n.$element,function(t,n){if("close"===n&&(e.$currentTransition=null,o.off("addClass",t),d.length)){var s=d.pop(),a=e.indexOfSlide(s),l=a>r.getCurrentIndex()?"next":"prev";p(),i(s,a,l)}}));r.currentSlide=n;u=s;m()}(i,s,n):i&&i!==r.currentSlide&&e.$currentTransition&&(d.push(i),i.active=!1)},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:l.indexOf(e)},e.isActive=function(e){return r.currentSlide===e},e.pause=function(){e.noPause||(a=!1,g())},e.play=function(){a||(a=!0,m())},e.$on("$destroy",function(){h=!0,g()}),e.$watch("noTransition",function(e){o.enabled(t,!e)}),e.$watch("interval",m),e.$watchCollection("slides",function(t){t.length||(e.$currentTransition=null,p())})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,i,n){n.addSlide(e,t),e.$on("$destroy",function(){n.removeSlide(e)}),e.$watch("active",function(t){t&&n.select(e)})}}}).animation(".item",["$animateCss",function(e){function t(e,t,i){e.removeClass(t),i&&i()}return{beforeAddClass:function(i,n,o){if("active"===n){var s=i.data("uib-slideDirection"),a="next"===s?"left":"right",r=t.bind(this,i,a+" "+s,o);return i.addClass(s),e(i,{addClass:a}).start().done(r),function(){!0}}o()},beforeRemoveClass:function(i,n,o){if("active"===n){var s="next"===i.data("uib-slideDirection")?"left":"right",a=t.bind(this,i,s,o);return e(i,{addClass:s}).start().done(a),function(){!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","orderByFilter",function(e,t,i){var n,o,s=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function a(e){return parseInt(e,10)}function r(e,t){var i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function l(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function c(e,t,i){return l(e,(i=i?-1:1)*(r(t,e.getTimezoneOffset())-e.getTimezoneOffset()))}this.init=function(){n=t.id,this.parsers={},o=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e}},{key:"yy",regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|")},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),i=t[1],n=t[2],o=t[3];this.hours+=a(i+n),this.minutes+=a(i+o)}},{key:"ww",regex:"[0-4][0-9]|5[0-3]"},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]"},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s")},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|")},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|")},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|")}]},this.init(),this.parse=function(a,r,l){if(!angular.isString(a)||!r)return a;r=(r=t.DATETIME_FORMATS[r]||r).replace(s,"\\$&"),t.id!==n&&this.init(),this.parsers[r]||(this.parsers[r]=function(e){var t=[],n=e.split(""),s=e.indexOf("'");if(s>-1){var a=!1;e=e.split("");for(var r=s;r<e.length;r++)a?("'"===e[r]&&(r+1<e.length&&"'"===e[r+1]?(e[r+1]="$",n[r+1]=""):(n[r]="",a=!1)),e[r]="$"):"'"===e[r]&&(e[r]="$",n[r]="",a=!0);e=e.join("")}return angular.forEach(o,function(i){var o=e.indexOf(i.key);if(o>-1){e=e.split(""),n[o]="("+i.regex+")",e[o]="$";for(var s=o+1,a=o+i.key.length;s<a;s++)n[s]="",e[s]="$";e=e.join(""),t.push({index:o,apply:i.apply,matcher:i.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:i(t,"index")}}(r));var c=this.parsers[r],u=c.regex,d=c.map,h=a.match(u),p=!1;if(h&&h.length){var f,g;angular.isDate(l)&&!isNaN(l.getTime())?f={year:l.getFullYear(),month:l.getMonth(),date:l.getDate(),hours:l.getHours(),minutes:l.getMinutes(),seconds:l.getSeconds(),milliseconds:l.getMilliseconds()}:(l&&e.warn("dateparser:","baseDate is not a valid date"),f={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var m=1,v=h.length;m<v;m++){var b=d[m-1];"Z"===b.matcher&&(p=!0),b.apply&&b.apply.call(f,h[m])}var y=p?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,w=p?Date.prototype.setUTCHours:Date.prototype.setHours;return function(e,t,i){if(i<1)return!1;if(1===t&&i>28)return 29===i&&(e%4==0&&e%100!=0||e%400==0);if(3===t||5===t||8===t||10===t)return i<31;return!0}(f.year,f.month,f.date)&&(!angular.isDate(l)||isNaN(l.getTime())||p?(g=new Date(0),y.call(g,f.year,f.month,f.date),w.call(g,f.hours||0,f.minutes||0,f.seconds||0,f.milliseconds||0)):(g=new Date(l),y.call(g,f.year,f.month,f.date),w.call(g,f.hours,f.minutes,f.seconds,f.milliseconds))),g}},this.toTimezone=function(e,t){return e&&t?c(e,t):e},this.fromTimezone=function(e,t){return e&&t?c(e,t,!0):e},this.timezoneToOffset=r,this.addDateMinutes=l,this.convertTimezoneToLocal=c}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,i=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(n,o){var s=[],a=[],r={},l=o.uibIsClass.match(t),c=l[2],u=l[1].split(",");return function(t,n,o){s.push(t),a.push({scope:t,element:n}),u.forEach(function(n,o){!function(t,n){var o=t.match(i),s=n.$eval(o[1]),l=o[2],u=r[t];if(!u){var d=function(t){var i=null;a.some(function(e){var n=e.scope.$eval(c);if(n===t)return i=e,!0}),u.lastActivated!==i&&(u.lastActivated&&e.removeClass(u.lastActivated.element,s),i&&e.addClass(i.element,s),u.lastActivated=i)};r[t]=u={lastActivated:null,scope:n,watchFn:d,compareWithExp:l,watcher:n.$watch(l,d)}}u.watchFn(n.$eval(l))}(n,t)}),t.$on("$destroy",d)};function d(e){var t=e.targetScope,i=s.indexOf(t);if(s.splice(i,1),a.splice(i,1),s.length){var n=s[0];angular.forEach(r,function(e){e.scope===t&&(e.watcher=n.$watch(e.compareWithExp,e.watchFn),e.scope=n)})}else r={}}}}}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var i,n={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/};return{getRawNode:function(e){return e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(i){var n,o=(i=this.getRawNode(i)).offsetParent||e[0].documentElement;for(;o&&o!==e[0].documentElement&&(n=o,"static"===(t.getComputedStyle(n).position||"static"));)o=o.offsetParent;return o||e[0].documentElement},scrollbarWidth:function(){if(angular.isUndefined(i)){var t=angular.element('<div style="position: absolute; top: -9999px; width: 50px; height: 50px; overflow: scroll;"></div>');e.find("body").append(t),i=t[0].offsetWidth-t[0].clientWidth,i=isFinite(i)?i:0,t.remove()}return i},scrollParent:function(i,o){i=this.getRawNode(i);var s=o?n.hidden:n.normal,a=e[0].documentElement,r=t.getComputedStyle(i),l="absolute"===r.position,c=i.parentElement||a;if(c===a||"fixed"===r.position)return a;for(;c.parentElement&&c!==a;){var u=t.getComputedStyle(c);if(l&&"static"!==u.position&&(l=!1),!l&&s.test(u.overflow+u.overflowY+u.overflowX))break;c=c.parentElement}return c},position:function(i,n){i=this.getRawNode(i);var o=this.offset(i);if(n){var s=t.getComputedStyle(i);o.top-=this.parseStyle(s.marginTop),o.left-=this.parseStyle(s.marginLeft)}var a=this.offsetParent(i),r={top:0,left:0};return a!==e[0].documentElement&&((r=this.offset(a)).top+=a.clientTop-a.scrollTop,r.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(o.width)?o.width:i.offsetWidth),height:Math.round(angular.isNumber(o.height)?o.height:i.offsetHeight),top:Math.round(o.top-r.top),left:Math.round(o.left-r.left)}},offset:function(i){var n=(i=this.getRawNode(i)).getBoundingClientRect();return{width:Math.round(angular.isNumber(n.width)?n.width:i.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:i.offsetHeight),top:Math.round(n.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(n.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(i,n,o){o=!1!==o;var s=(i=this.getRawNode(i)).getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},r=n?e[0].documentElement:this.scrollParent(i),l=r.getBoundingClientRect();if(a.top=l.top+r.clientTop,a.left=l.left+r.clientLeft,r===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+r.clientHeight,a.right=a.left+r.clientWidth,o){var c=t.getComputedStyle(r);a.top+=this.parseStyle(c.paddingTop),a.bottom-=this.parseStyle(c.paddingBottom),a.left+=this.parseStyle(c.paddingLeft),a.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(s.top-a.top),bottom:Math.round(a.bottom-s.bottom),left:Math.round(s.left-a.left),right:Math.round(a.right-s.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),(e=e.split("-"))[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,i,n,s){e=this.getRawNode(e),i=this.getRawNode(i);var a=angular.isDefined(i.offsetWidth)?i.offsetWidth:i.prop("offsetWidth"),r=angular.isDefined(i.offsetHeight)?i.offsetHeight:i.prop("offsetHeight");n=this.parsePlacement(n);var l=s?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(n[2]){var u=this.viewportOffset(e),d=t.getComputedStyle(i),h={width:a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:r+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(n[0]="top"===n[0]&&h.height>u.top&&h.height<=u.bottom?"bottom":"bottom"===n[0]&&h.height>u.bottom&&h.height<=u.top?"top":"left"===n[0]&&h.width>u.left&&h.width<=u.right?"right":"right"===n[0]&&h.width>u.right&&h.width<=u.left?"left":n[0],n[1]="top"===n[1]&&h.height-l.height>u.bottom&&h.height-l.height<=u.top?"bottom":"bottom"===n[1]&&h.height-l.height>u.top&&h.height-l.height<=u.bottom?"top":"left"===n[1]&&h.width-l.width>u.right&&h.width-l.width<=u.left?"right":"right"===n[1]&&h.width-l.width>u.left&&h.width-l.width<=u.right?"left":n[1],"center"===n[1])if(o.vertical.test(n[0])){var p=l.width/2-a/2;u.left+p<0&&h.width-l.width<=u.right?n[1]="left":u.right+p<0&&h.width-l.width<=u.left&&(n[1]="right")}else{var f=l.height/2-h.height/2;u.top+f<0&&h.height-l.height<=u.bottom?n[1]="top":u.bottom+f<0&&h.height-l.height<=u.top&&(n[1]="bottom")}}switch(n[0]){case"top":c.top=l.top-r;break;case"bottom":c.top=l.top+l.height;break;case"left":c.left=l.left-a;break;case"right":c.left=l.left+l.width}switch(n[1]){case"top":c.top=l.top;break;case"bottom":c.top=l.top+l.height-r;break;case"left":c.left=l.left;break;case"right":c.left=l.left+l.width-a;break;case"center":o.vertical.test(n[0])?c.left=l.left+l.width/2-a/2:c.top=l.top+l.height/2-r/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],c},positionArrow:function(e,i){var n=!0,s=(e=this.getRawNode(e)).querySelector(".tooltip-inner");if(s||(n=!1,s=e.querySelector(".popover-inner")),s){var a=n?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(a)if("center"!==(i=this.parsePlacement(i))[1]){var r="border-"+i[0]+"-width",l=t.getComputedStyle(a)[r],c="border-";o.vertical.test(i[0])?c+=i[0]+"-"+i[1]:c+=i[1]+"-"+i[0],c+="-radius";var u=t.getComputedStyle(n?s:e)[c],d={top:"auto",bottom:"auto",left:"auto",right:"auto",margin:0};switch(i[0]){case"top":d.bottom=n?"0":"-"+l;break;case"bottom":d.top=n?"0":"-"+l;break;case"left":d.right=n?"0":"-"+l;break;case"right":d.left=n?"0":"-"+l}d[i[1]]=u,angular.element(a).css(d)}else angular.element(a).css({top:"",bottom:"",right:"",left:"",margin:""})}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRows:4,yearColumns:5,minDate:null,maxDate:null,shortcutPropagation:!1,ngModelOptions:{}}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","uibDateParser",function(e,t,i,n,o,s,a,r,l){var c=this,u={$setViewValue:angular.noop},d={};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle"],function(i){c[i]=angular.isDefined(t[i])?n(t[i])(e.$parent):a[i]}),angular.forEach(["showWeeks","startingDay","yearRows","yearColumns","shortcutPropagation"],function(i){c[i]=angular.isDefined(t[i])?e.$parent.$eval(t[i]):a[i]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(t[i],function(e){c[i]=e?angular.isDate(e)?l.fromTimezone(new Date(e),d.timezone):new Date(s(e,"medium")):null,c.refreshView()}):c[i]=a[i]?l.fromTimezone(new Date(a[i]),d.timezone):null}),angular.forEach(["minMode","maxMode"],function(i){t[i]?e.$parent.$watch(t[i],function(n){c[i]=e[i]=angular.isDefined(n)?n:t[i],("minMode"===i&&c.modes.indexOf(e.datepickerMode)<c.modes.indexOf(c[i])||"maxMode"===i&&c.modes.indexOf(e.datepickerMode)>c.modes.indexOf(c[i]))&&(e.datepickerMode=c[i])}):c[i]=e[i]=a[i]||null}),e.datepickerMode=e.datepickerMode||a.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=l.fromTimezone(e.$parent.$eval(t.initDate),d.timezone)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(u.$isEmpty(u.$modelValue)||u.$invalid)&&(c.activeDate=l.fromTimezone(e,d.timezone),c.refreshView())})):this.activeDate=new Date,e.disabled=angular.isDefined(t.disabled)||!1,angular.isDefined(t.ngDisabled)&&e.$parent.$watch(t.ngDisabled,function(t){e.disabled=t,c.refreshView()}),e.isActive=function(t){return 0===c.compare(t.date,c.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(e){u=e,d=e.$options||a.ngModelOptions,u.$modelValue&&(this.activeDate=u.$modelValue),u.$render=function(){c.render()}},this.render=function(){if(u.$viewValue){var e=new Date(u.$viewValue);!isNaN(e)?this.activeDate=l.fromTimezone(e,d.timezone):r||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=u.$viewValue?new Date(u.$viewValue):null;t=l.fromTimezone(t,d.timezone),u.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,i){var n=u.$viewValue?new Date(u.$viewValue):null;n=l.fromTimezone(n,d.timezone);var o={date:t,label:s(t,i.replace(/d!/,"dd")).replace(/M!/,"MM"),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date),customClass:this.customClass(t)||null};return n&&0===this.compare(t,n)&&(e.selectedDt=o),c.activeDate&&0===this.compare(o.date,c.activeDate)&&(e.activeDt=o),o},this.isDisabled=function(i){return e.disabled||this.minDate&&this.compare(i,this.minDate)<0||this.maxDate&&this.compare(i,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:i,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var i=[];e.length>0;)i.push(e.splice(0,t));return i},e.select=function(t){if(e.datepickerMode===c.minMode){var i=u.$viewValue?l.fromTimezone(new Date(u.$viewValue),d.timezone):new Date(0,0,0,0,0,0,0);i.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),i=l.toTimezone(i,d.timezone),u.$setViewValue(i),u.$render()}else c.activeDate=t,e.datepickerMode=c.modes[c.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=c.activeDate.getFullYear()+e*(c.step.years||0),i=c.activeDate.getMonth()+e*(c.step.months||0);c.activeDate.setFullYear(t,i,1),c.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===c.maxMode&&1===t||e.datepickerMode===c.minMode&&-1===t||(e.datepickerMode=c.modes[c.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};e.$on("uib:datepicker.focus",function(){c.element[0].focus()}),e.keydown=function(t){var i=e.keys[t.which];if(i&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),c.shortcutPropagation||t.stopPropagation(),"enter"===i||"space"===i){if(c.isDisabled(c.activeDate))return;e.select(c.activeDate)}else!t.ctrlKey||"up"!==i&&"down"!==i?(c.handleKeyDown(i,t),c.refreshView()):e.toggleMode("up"===i?1:-1)}}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,i){var n=[31,28,31,30,31,30,31,31,30,31,30,31];function o(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?n[t]:29}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var i=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1}this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var i,n=new Array(t),o=new Date(e),s=0;s<t;)i=new Date(o),n[s++]=i,o.setDate(o.getDate()+1);return n},this._refreshView=function(){var t=this.activeDate.getFullYear(),n=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,n,1);var a=this.startingDay-o.getDay(),r=a>0?7-a:-a,l=new Date(o);r>0&&l.setDate(1-r);for(var c=this.getDates(l,42),u=0;u<42;u++)c[u]=angular.extend(this.createDateObject(c[u],this.formatDay),{secondary:c[u].getMonth()!==n,uid:e.uniqueId+"-"+u});e.labels=new Array(7);for(var d=0;d<7;d++)e.labels[d]={abbr:i(c[d].date,this.formatDayHeader),full:i(c[d].date,"EEEE")};if(e.title=i(this.activeDate,this.formatDayTitle),e.rows=this.split(c,7),e.showWeeks){e.weekNumbers=[];for(var h=(11-this.startingDay)%7,p=e.rows.length,f=0;f<p;f++)e.weekNumbers.push(s(e.rows[f][h].date))}},this.compare=function(e,t){var i=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate());return i.setFullYear(e.getFullYear()),n.setFullYear(t.getFullYear()),i-n},this.handleKeyDown=function(e,t){var i=this.activeDate.getDate();if("left"===e)i-=1;else if("up"===e)i-=7;else if("right"===e)i+=1;else if("down"===e)i+=7;else if("pageup"===e||"pagedown"===e){var n=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(n,1),i=Math.min(o(this.activeDate.getFullYear(),this.activeDate.getMonth()),i)}else"home"===e?i=1:"end"===e&&(i=o(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(i)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,i){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,n=new Array(12),o=this.activeDate.getFullYear(),s=0;s<12;s++)(t=new Date(this.activeDate)).setFullYear(o,s,1),n[s]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+s});e.title=i(this.activeDate,this.formatMonthTitle),e.rows=this.split(n,3)},this.compare=function(e,t){var i=new Date(e.getFullYear(),e.getMonth()),n=new Date(t.getFullYear(),t.getMonth());return i.setFullYear(e.getFullYear()),n.setFullYear(t.getFullYear()),i-n},this.handleKeyDown=function(e,t){var i=this.activeDate.getMonth();if("left"===e)i-=1;else if("up"===e)i-=3;else if("right"===e)i+=1;else if("down"===e)i+=3;else if("pageup"===e||"pagedown"===e){var n=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(n)}else"home"===e?i=0:"end"===e&&(i=11);this.activeDate.setMonth(i)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,i){var n,o;function s(e){return parseInt((e-1)/o,10)*o+1}this.element=t,this.yearpickerInit=function(){n=this.yearColumns,o=this.yearRows*n,this.step={years:o}},this._refreshView=function(){for(var t,i=new Array(o),a=0,r=s(this.activeDate.getFullYear());a<o;a++)(t=new Date(this.activeDate)).setFullYear(r+a,0,1),i[a]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+a});e.title=[i[0].label,i[o-1].label].join(" - "),e.rows=this.split(i,n),e.columns=n},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var i=this.activeDate.getFullYear();"left"===e?i-=1:"up"===e?i-=n:"right"===e?i+=1:"down"===e?i+=n:"pageup"===e||"pagedown"===e?i+=("pageup"===e?-1:1)*o:"home"===e?i=s(this.activeDate.getFullYear()):"end"===e&&(i=s(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(i)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,i,n){var o=n[0],s=n[1];o.init(s)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(e,t,i,n){var o=n[0];n[1].init(o)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(e,t,i,n){var o=n[0];n[1].init(o)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(e,t,i,n){var o=n[0];angular.extend(o,n[1]),o.yearpickerInit(),o.refreshView()}}}).constant("uibDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepicker/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0,altInputFormats:[]}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig",function(e,t,i,n,o,s,a,r,l,c,u,d,h){var p,f,g,m,v,b,y,w,x,C,k,$,T={},S=!1;function E(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function P(t){var i=c.parse(t,p,e.date);if(isNaN(i))for(var n=0;n<$.length;n++)if(i=c.parse(t,$[n],e.date),!isNaN(i))return i;return i}function D(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=P(e);if(!isNaN(t))return c.toTimezone(t,C.timezone)}return x.$options&&x.$options.allowInvalid?e:void 0}function M(e,t){var n=e||t;return!i.ngRequired&&!n||(angular.isNumber(n)&&(n=new Date(n)),!n||(!(!angular.isDate(n)||isNaN(n))||!!angular.isString(n)&&!isNaN(P(t))))}function _(i){if(e.isOpen||!e.disabled){var n=k[0],o=t[0].contains(i.target),s=void 0!==n.contains&&n.contains(i.target);!e.isOpen||o||s||e.$apply(function(){e.isOpen=!1})}}function O(i){27===i.which&&e.isOpen?(i.preventDefault(),i.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==i.which||e.isOpen||(i.preventDefault(),i.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}e.watchData={},this.init=function(r){if(x=r,C=r.$options||h.ngModelOptions,f=angular.isDefined(i.closeOnDateSelection)?e.$parent.$eval(i.closeOnDateSelection):u.closeOnDateSelection,g=angular.isDefined(i.datepickerAppendToBody)?e.$parent.$eval(i.datepickerAppendToBody):u.appendToBody,m=angular.isDefined(i.onOpenFocus)?e.$parent.$eval(i.onOpenFocus):u.onOpenFocus,v=angular.isDefined(i.datepickerPopupTemplateUrl)?i.datepickerPopupTemplateUrl:u.datepickerPopupTemplateUrl,b=angular.isDefined(i.datepickerTemplateUrl)?i.datepickerTemplateUrl:u.datepickerTemplateUrl,$=angular.isDefined(i.altInputFormats)?e.$parent.$eval(i.altInputFormats):u.altInputFormats,e.showButtonBar=angular.isDefined(i.showButtonBar)?e.$parent.$eval(i.showButtonBar):u.showButtonBar,u.html5Types[i.type]?(p=u.html5Types[i.type],S=!0):(p=i.uibDatepickerPopup||u.datepickerPopup,i.$observe("uibDatepickerPopup",function(e,t){var i=e||u.datepickerPopup;if(i!==p&&(p=i,x.$modelValue=null,!p))throw new Error("uibDatepickerPopup must have a date format specified.")})),!p)throw new Error("uibDatepickerPopup must have a date format specified.");if(S&&i.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");if(y=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),e.ngModelOptions=angular.copy(C),e.ngModelOptions.timezone=null,y.attr({"ng-model":"date","ng-model-options":"ngModelOptions","ng-change":"dateSelection(date)","template-url":v}),(w=angular.element(y.children()[0])).attr("template-url",b),S&&"month"===i.type&&(w.attr("datepicker-mode",'"month"'),w.attr("min-mode","month")),i.datepickerOptions){var d=e.$parent.$eval(i.datepickerOptions);d&&d.initDate&&(e.initDate=c.fromTimezone(d.initDate,C.timezone),w.attr("init-date","initDate"),delete d.initDate),angular.forEach(d,function(e,t){w.attr(E(t),e)})}angular.forEach(["minMode","maxMode"],function(t){i[t]&&(e.$parent.$watch(function(){return i[t]},function(i){e.watchData[t]=i}),w.attr(E(t),"watchData."+t))}),angular.forEach(["datepickerMode","shortcutPropagation"],function(t){if(i[t]){var n=o(i[t]),s={get:function(){return n(e.$parent)}};if(w.attr(E(t),"watchData."+t),"datepickerMode"===t){var a=n.assign;s.set=function(t){a(e.$parent,t)}}Object.defineProperty(e.watchData,t,s)}}),angular.forEach(["minDate","maxDate","initDate"],function(t){if(i[t]){var n=o(i[t]);e.$parent.$watch(n,function(i){"minDate"!==t&&"maxDate"!==t||(T[t]=angular.isDate(i)?c.fromTimezone(new Date(i),C.timezone):new Date(l(i,"medium"))),e.watchData[t]=T[t]||c.fromTimezone(new Date(i),C.timezone)}),w.attr(E(t),"watchData."+t)}}),i.dateDisabled&&w.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRows","yearColumns"],function(e){angular.isDefined(i[e])&&w.attr(E(e),i[e])}),i.customClass&&w.attr("custom-class","customClass({ date: date, mode: mode })"),S?x.$formatters.push(function(t){return e.date=c.fromTimezone(t,C.timezone),t}):(x.$$parserName="date",x.$validators.date=M,x.$parsers.unshift(D),x.$formatters.push(function(t){return x.$isEmpty(t)?(e.date=t,t):(e.date=c.fromTimezone(t,C.timezone),p=p.replace(/M!/,"MM").replace(/d!/,"dd"),l(e.date,p))})),x.$viewChangeListeners.push(function(){e.date=P(x.$viewValue)}),t.bind("keydown",O),k=n(y)(e),y.remove(),g?s.find("body").append(k):t.after(k),e.$on("$destroy",function(){!0===e.isOpen&&(a.$$phase||e.$apply(function(){e.isOpen=!1})),k.remove(),t.unbind("keydown",O),s.unbind("click",_)})},e.getText=function(t){return e[t+"Text"]||u[t+"Text"]},e.isDisabled=function(t){return"today"===t&&(t=new Date),e.watchData.minDate&&e.compare(t,T.minDate)<0||e.watchData.maxDate&&e.compare(t,T.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(i){angular.isDefined(i)&&(e.date=i);var n=e.date?l(e.date,p):null;t.val(n),x.$setViewValue(n),f&&(e.isOpen=!1,t[0].focus())},e.keydown=function(i){27===i.which&&(i.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t){if("today"===t){var i=new Date;angular.isDate(e.date)?(t=new Date(e.date)).setFullYear(i.getFullYear(),i.getMonth(),i.getDate()):t=new Date(i.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(){e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(i.disabled)||!1,i.ngDisabled&&e.$parent.$watch(o(i.ngDisabled),function(t){e.disabled=t}),e.$watch("isOpen",function(i){i?e.disabled?e.isOpen=!1:(e.position=g?r.offset(t):r.position(t),e.position.top=e.position.top+t.prop("offsetHeight"),d(function(){m&&e.$broadcast("uib:datepicker.focus"),s.bind("click",_)},0,!1)):s.unbind("click",_)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(e,t,i,n){var o=n[0];n[1].init(o)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,i){var n;return function(){var o=this,s=Array.prototype.slice.call(arguments);n&&e.cancel(n),n=e(function(){t.apply(o,s)},i)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var i=null;this.open=function(t){i||(e.on("click",n),e.on("keydown",o)),i&&i!==t&&(i.isOpen=!1),i=t},this.close=function(t){i===t&&(i=null,e.off("click",n),e.off("keydown",o))};var n=function(e){if(i&&!(e&&"disabled"===i.getAutoClose()||e&&3===e.which)){var n=i.getToggleElement();if(!(e&&n&&n[0].contains(e.target))){var o=i.getDropdownElement();e&&"outsideClick"===i.getAutoClose()&&o&&o[0].contains(e.target)||(i.isOpen=!1,t.$$phase||i.$apply())}}},o=function(e){27===e.which?(i.focusToggleElement(),n()):i.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&i.isOpen&&(e.preventDefault(),e.stopPropagation(),i.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,i,n,o,s,a,r,l,c,u){var d,h,p=this,f=e.$new(),g=o.appendToOpenClass,m=o.openClass,v=angular.noop,b=i.onToggle?n(i.onToggle):angular.noop,y=!1,w=null,x=!1,C=l.find("body");t.addClass("dropdown"),this.init=function(){if(i.isOpen&&(h=n(i.isOpen),v=h.assign,e.$watch(h,function(e){f.isOpen=!!e})),angular.isDefined(i.dropdownAppendTo)){var o=n(i.dropdownAppendTo)(f);o&&(w=angular.element(o))}y=angular.isDefined(i.dropdownAppendToBody),x=angular.isDefined(i.keyboardNav),y&&!w&&(w=C),w&&p.dropdownMenu&&(w.append(p.dropdownMenu),t.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return p.toggleElement},f.getAutoClose=function(){return i.autoClose||"always"},f.getElement=function(){return t},f.isKeynavEnabled=function(){return x},f.focusDropdownEntry=function(e){var i=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===i.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=i.length-1}i[p.selectedOption].focus()},f.getDropdownElement=function(){return p.dropdownMenu},f.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},f.$watch("isOpen",function(i,n){if(w&&p.dropdownMenu){var o,l,h=r.positionElements(t,p.dropdownMenu,"bottom-left",!0);if(o={top:h.top+"px",display:i?"block":"none"},(l=p.dropdownMenu.hasClass("dropdown-menu-right"))?(o.left="auto",o.right=window.innerWidth-(h.left+t.prop("offsetWidth"))+"px"):(o.left=h.left+"px",o.right="auto"),!y){var x=r.offset(w);o.top=h.top-x.top+"px",l?o.right=window.innerWidth-(h.left-x.left+t.prop("offsetWidth"))+"px":o.left=h.left-x.left+"px"}p.dropdownMenu.css(o)}var C=w||t;if(a[i?"addClass":"removeClass"](C,w?g:m).then(function(){angular.isDefined(i)&&i!==n&&b(e,{open:!!i})}),i)p.dropdownMenuTemplateUrl&&u(p.dropdownMenuTemplateUrl).then(function(e){d=f.$new(),c(e.trim())(d,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),f.focusToggleElement(),s.open(f);else{if(p.dropdownMenuTemplateUrl){d&&d.$destroy();var k=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(k),p.dropdownMenu=k}s.close(f),p.selectedOption=null}angular.isFunction(v)&&v(e,i)}),e.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,i,n){n.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,i,n){if(n&&!angular.isDefined(i.dropdownNested)){t.addClass("dropdown-menu");var o=i.templateUrl;o&&(n.dropdownMenuTemplateUrl=o),n.dropdownMenu||(n.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,i,n){if(n){t.addClass("dropdown-toggle"),n.toggleElement=t;var o=function(o){o.preventDefault(),t.hasClass("disabled")||i.disabled||e.$apply(function(){n.toggle()})};t.bind("click",o),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(n.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",o)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,i){e.push({key:t,value:i})},get:function(t){for(var i=0;i<e.length;i++)if(t===e[i].key)return e[i]},keys:function(){for(var t=[],i=0;i<e.length;i++)t.push(e[i].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var i=-1,n=0;n<e.length;n++)if(t===e[n].key){i=n;break}return e.splice(i,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,i){e[t]||(e[t]=[]),e[t].push(i)},remove:function(t,i){var n=e[t];if(n){var o=n.indexOf(i);-1!==o&&n.splice(o,1),n.length||delete e[t]}}}}}}).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,i){var n=e.resolver?t.get(e.resolver):null;return{resolve:function(e,o,s,a){if(n)return n.resolve(e,o,s,a);var r=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?r.push(i.resolve(t.invoke(e))):angular.isString(e)?r.push(i.resolve(t.get(e))):r.push(i.resolve(e))}),i.all(r).then(function(t){var i={},n=0;return angular.forEach(e,function(e,o){i[o]=t[n++]}),i})}}}]}).directive("uibModalBackdrop",["$animateCss","$injector","$uibModalStack",function(e,t,i){return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),n}};function n(t,n,o){o.modalInClass&&(e(n,{addClass:o.modalInClass}).start(),t.$on(i.NOW_CLOSING_EVENT,function(i,s){var a=s();t.modalOptions.animation?e(n,{removeClass:o.modalInClass}).start().then(a):a()}))}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$animateCss","$document",function(e,t,i,n,o){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(s,a,r){a.addClass(r.windowClass||""),a.addClass(r.windowTopClass||""),s.size=r.size,s.close=function(t){var i=e.getTop();i&&i.value.backdrop&&"static"!==i.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(i.key,"backdrop click"))},a.on("click",s.close),s.$isRendered=!0;var l=t.defer();r.$observe("modalRender",function(e){"true"===e&&l.resolve()}),l.promise.then(function(){var l=null;r.modalInClass&&(l=n(a,{addClass:r.modalInClass}).start(),s.$on(e.NOW_CLOSING_EVENT,function(e,t){var o=t();n?n(a,{removeClass:r.modalInClass}).start().then(o):i.removeClass(a,r.modalInClass).then(o)})),t.when(l).then(function(){if(!o[0].activeElement||!a[0].contains(o[0].activeElement)){var e=a[0].querySelector("[autofocus]");e?e.focus():a[0].focus()}});var c=e.getTop();c&&e.modalRendered(c.key)})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,i,n,o){o(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap",function(e,t,i,n,o,s,a,r){var l,c,u,d="modal-open",h=r.createNew(),p=a.createNew(),f={NOW_CLOSING_EVENT:"modal.stack.now-closing"};function g(){for(var e=-1,t=h.keys(),i=0;i<t.length;i++)h.get(t[i]).value.backdrop&&(e=i);return e}function m(e,t){var i=h.get(e).value,n=i.appendTo;h.remove(e),b(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||d;p.remove(t,e),n.toggleClass(t,p.hasKey(t)),v(!0)}),function(){if(l&&-1===g()){b(l,c,function(){null}),l=void 0,c=void 0}}(),t&&t.focus?t.focus():n.focus&&n.focus()}function v(e){var t;h.length()>0&&(t=h.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function b(e,i,n,o){var a,r=null;return i.$broadcast(f.NOW_CLOSING_EVENT,function(){return a||(a=s.defer(),r=a.promise),function(){a.resolve()}}),s.when(r).then(function s(){if(s.done)return;s.done=!0;t(e,{event:"leave"}).start().then(function(){e.remove(),o&&o.resolve()});i.$destroy();n&&n()})}function y(e){if(e.isDefaultPrevented())return e;var t=h.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),o.$apply(function(){f.dismiss(t.key,"escape key press")}));break;case 9:f.loadFocusElementList(t);var i=!1;e.shiftKey?f.isFocusInFirstItem(e)&&(i=f.focusLastFocusableElement()):f.isFocusInLastItem(e)&&(i=f.focusFirstFocusableElement()),i&&(e.preventDefault(),e.stopPropagation())}}function w(e,t,i){return!e.value.modalScope.$broadcast("modal.closing",t,i).defaultPrevented}return o.$watch(g,function(e){c&&(c.index=e)}),i.on("keydown",y),o.$on("$destroy",function(){i.off("keydown",y)}),f.open=function(t,s){var a=i[0].activeElement,r=s.openedClass||d;v(!1),h.add(t,{deferred:s.deferred,renderDeferred:s.renderDeferred,closedDeferred:s.closedDeferred,modalScope:s.scope,backdrop:s.backdrop,keyboard:s.keyboard,openedClass:s.openedClass,windowTopClass:s.windowTopClass,animation:s.animation,appendTo:s.appendTo}),p.put(r,t);var u=s.appendTo,m=g();if(!u.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");m>=0&&!l&&((c=o.$new(!0)).modalOptions=s,c.index=m,(l=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr("backdrop-class",s.backdropClass),s.animation&&l.attr("modal-animation","true"),n(l)(c),e.enter(l,u));var b=angular.element('<div uib-modal-window="modal-window"></div>');b.attr({"template-url":s.windowTemplateUrl,"window-class":s.windowClass,"window-top-class":s.windowTopClass,size:s.size,index:h.length()-1,animate:"animate"}).html(s.content),s.animation&&b.attr("modal-animation","true"),e.enter(b,u).then(function(){n(b)(s.scope),e.addClass(u,r)}),h.top().value.modalDomEl=b,h.top().value.modalOpener=a,f.clearFocusListCache()},f.close=function(e,t){var i=h.get(e);return i&&w(i,t,!0)?(i.value.modalScope.$$uibDestructionScheduled=!0,i.value.deferred.resolve(t),m(e,i.value.modalOpener),!0):!i},f.dismiss=function(e,t){var i=h.get(e);return i&&w(i,t,!1)?(i.value.modalScope.$$uibDestructionScheduled=!0,i.value.deferred.reject(t),m(e,i.value.modalOpener),!0):!i},f.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},f.getTop=function(){return h.top()},f.modalRendered=function(e){var t=h.get(e);t&&t.value.renderDeferred.resolve()},f.focusFirstFocusableElement=function(){return u.length>0&&(u[0].focus(),!0)},f.focusLastFocusableElement=function(){return u.length>0&&(u[u.length-1].focus(),!0)},f.isFocusInFirstItem=function(e){return u.length>0&&(e.target||e.srcElement)===u[0]},f.isFocusInLastItem=function(e){return u.length>0&&(e.target||e.srcElement)===u[u.length-1]},f.clearFocusListCache=function(){u=[],0},f.loadFocusElementList=function(e){if((void 0===u||!u.length)&&e){var t=e.value.modalDomEl;t&&t.length&&(u=t[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"))}},f}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,i,n,o,s,a,r){var l={};var c=null;return l.getPromiseChain=function(){return c},l.open=function(l){var u=i.defer(),d=i.defer(),h=i.defer(),p=i.defer(),f={result:u.promise,opened:d.promise,closed:h.promise,rendered:p.promise,close:function(e){return r.close(f,e)},dismiss:function(e){return r.dismiss(f,e)}};if((l=angular.extend({},e.options,l)).resolve=l.resolve||{},l.appendTo=l.appendTo||n.find("body").eq(0),!l.template&&!l.templateUrl)throw new Error("One of template or templateUrl options is required.");var g,m,v=i.all([(g=l,g.template?i.when(g.template):o(angular.isFunction(g.templateUrl)?g.templateUrl():g.templateUrl)),a.resolve(l.resolve,{},null,null)]);function b(){return v}return m=c=i.all([c]).then(b,b).then(function(e){var i=l.scope||t,n=i.$new();n.$close=f.close,n.$dismiss=f.dismiss,n.$on("$destroy",function(){n.$$uibDestructionScheduled||n.$dismiss("$uibUnscheduledDestruction")});var o,a={};l.controller&&(a.$scope=n,a.$uibModalInstance=f,angular.forEach(e[1],function(e,t){a[t]=e}),o=s(l.controller,a),l.controllerAs&&(l.bindToController&&(o.$close=n.$close,o.$dismiss=n.$dismiss,angular.extend(o,i)),n[l.controllerAs]=o)),r.open(f,{scope:n,deferred:u,renderDeferred:p,closedDeferred:h,content:e[0],animation:l.animation,backdrop:l.backdrop,keyboard:l.keyboard,backdropClass:l.backdropClass,windowTopClass:l.windowTopClass,windowClass:l.windowClass,windowTemplateUrl:l.windowTemplateUrl,size:l.size,openedClass:l.openedClass,appendTo:l.appendTo}),d.resolve(!0)},function(e){d.reject(e),u.reject(e)}).finally(function(){c===m&&(c=null)}),f},l}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,i,n){t.setNumPages=n.numPages?e(n.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t.init=function(o,s){t.ngModelCtrl=o,t.config=s,o.$render=function(){t.render()},n.itemsPerPage?i.$parent.$watch(e(n.itemsPerPage),function(e){t.itemsPerPage=parseInt(e,10),i.totalPages=t.calculateTotalPages(),t.updatePage()}):t.itemsPerPage=s.itemsPerPage,i.$watch("totalItems",function(e,n){(angular.isDefined(e)||e!==n)&&(i.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(i.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){i.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},i.selectPage=function(e,n){n&&n.preventDefault(),(!i.ngDisabled||!n)&&i.page!==e&&e>0&&e<=i.totalPages&&(n&&n.target&&n.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},i.getText=function(e){return i[e+"Text"]||t.config[e+"Text"]},i.noPrevious=function(){return 1===i.page},i.noNext=function(){return i.page===i.totalPages},t.updatePage=function(){t.setNumPages(i.$parent,i.totalPages),i.page>i.totalPages?i.selectPage(i.totalPages):t.ngModelCtrl.$render()}}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,i,n){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):n.align,i.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(t,i,n,o){var s=o[0],a=o[1];a&&s.init(a,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,i,n,o){var s=this,a=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):o.maxSize,r=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):o.rotate,l=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):o.forceEllipses,c=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):o.boundaryLinkNumbers;function u(e,t,i){return{number:e,text:t,active:i}}e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):o.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):o.directionLinks,n.create(this,e,t),t.maxSize&&e.$parent.$watch(i(t.maxSize),function(e){a=parseInt(e,10),s.render()});var d=this.render;this.render=function(){d(),e.page>0&&e.page<=e.totalPages&&(e.pages=function(e,t){var i=[],n=1,o=t,s=angular.isDefined(a)&&a<t;s&&(r?(o=(n=Math.max(e-Math.floor(a/2),1))+a-1)>t&&(n=(o=t)-a+1):(n=(Math.ceil(e/a)-1)*a+1,o=Math.min(n+a-1,t)));for(var d=n;d<=o;d++){var h=u(d,d,d===e);i.push(h)}if(s&&a>0&&(!r||l||c)){if(n>1){if(!c||n>3){var p=u(n-1,"...",!1);i.unshift(p)}if(c){if(3===n){var f=u(2,"2",!1);i.unshift(f)}var g=u(1,"1",!1);i.unshift(g)}}if(o<t){if(!c||o<t-2){var m=u(o+1,"...",!1);i.push(m)}if(c){if(o===t-2){var v=u(t-1,t-1,!1);i.push(v)}var b=u(t,t,!1);i.push(b)}}}return i}(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(e,i,n,o){var s=o[0],a=o[1];a&&s.init(a,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var e={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},t={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(t,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(n,o,s,a,r,l,c,u,d){var h=d.createNew();function p(e){if(27===e.which){var t=h.top();t&&(t.value.close(),h.removeTop(),t=null)}}return a.on("keypress",p),c.$on("$destroy",function(){a.off("keypress",p)}),function(n,c,d,p){function f(e){var i=(e||p.trigger||d).split(" ");return{show:i,hide:i.map(function(e){return t[e]||e})}}p=angular.extend({},e,i,p);var g=n.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}),m=l.startSymbol(),v=l.endSymbol(),b="<div "+g+'-popup title="'+m+"title"+v+'" '+(p.useContentExp?'content-exp="contentExp()" ':'content="'+m+"content"+v+'" ')+'placement="'+m+"placement"+v+'" popup-class="'+m+"popupClass"+v+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(e,t){var i=o(b);return function(e,t,o,l){var d,g,m,v,b,y,w=!!angular.isDefined(p.appendToBody)&&p.appendToBody,x=f(void 0),C=angular.isDefined(o[c+"Enable"]),k=e.$new(!0),$=!1,T=!!angular.isDefined(o[c+"IsOpen"])&&u(o[c+"IsOpen"]),S=!!p.useContentExp&&u(o[n]),E=[],P=function(){d&&d.html()&&(y||(y=s(function(){d.css({top:0,left:0});var e=r.positionElements(t,d,k.placement,w);d.css({top:e.top+"px",left:e.left+"px",visibility:"visible"}),p.placementClassPrefix&&d.removeClass("top bottom left right"),d.removeClass(p.placementClassPrefix+"top "+p.placementClassPrefix+"top-left "+p.placementClassPrefix+"top-right "+p.placementClassPrefix+"bottom "+p.placementClassPrefix+"bottom-left "+p.placementClassPrefix+"bottom-right "+p.placementClassPrefix+"left "+p.placementClassPrefix+"left-top "+p.placementClassPrefix+"left-bottom "+p.placementClassPrefix+"right "+p.placementClassPrefix+"right-top "+p.placementClassPrefix+"right-bottom");var i=e.placement.split("-");d.addClass(i[0],p.placementClassPrefix+e.placement),r.positionArrow(d,e.placement),y=null},0,!1)))};function D(){k.isOpen?_():M()}function M(){C&&!e.$eval(o[c+"Enable"])||(L(),function(){k.title=o[c+"Title"],k.content=S?S(e):o[n];k.popupClass=o[c+"Class"],k.placement=angular.isDefined(o[c+"Placement"])?o[c+"Placement"]:p.placement;var t=parseInt(o[c+"PopupDelay"],10),i=parseInt(o[c+"PopupCloseDelay"],10);k.popupDelay=isNaN(t)?p.popupDelay:t,k.popupCloseDelay=isNaN(i)?p.popupCloseDelay:i}(),k.popupDelay?v||(v=s(O,k.popupDelay,!1)):O())}function _(){I(),k.popupCloseDelay?b||(b=s(A,k.popupCloseDelay,!1)):A()}function O(){if(I(),L(),!k.content)return angular.noop;!function(){if(d)return;g=k.$new(),d=i(g,function(e){w?a.find("body").append(e):t.after(e)}),function(){E.length=0,S?(E.push(e.$watch(S,function(e){k.content=e,!e&&k.isOpen&&A()})),E.push(g.$watch(function(){$||($=!0,g.$$postDigest(function(){$=!1,k&&k.isOpen&&P()}))}))):E.push(o.$observe(n,function(e){k.content=e,!e&&k.isOpen?A():P()}));E.push(o.$observe(c+"Title",function(e){k.title=e,k.isOpen&&P()})),E.push(o.$observe(c+"Placement",function(e){k.placement=e||p.placement,k.isOpen&&P()}))}()}(),k.$evalAsync(function(){k.isOpen=!0,N(!0),P()})}function I(){v&&(s.cancel(v),v=null),y&&(s.cancel(y),y=null)}function A(){k&&k.$evalAsync(function(){k.isOpen=!1,N(!1),k.animation?m||(m=s(F,150,!1)):F()})}function L(){b&&(s.cancel(b),b=null),m&&(s.cancel(m),m=null)}function F(){I(),L(),E.length&&(angular.forEach(E,function(e){e()}),E.length=0),d&&(d.remove(),d=null),g&&(g.$destroy(),g=null)}function N(t){T&&angular.isFunction(T.assign)&&T.assign(e,t)}function R(e){k&&k.isOpen&&d&&(t[0].contains(e.target)||d[0].contains(e.target)||_())}k.origScope=e,k.isOpen=!1,h.add(k,{close:A}),k.contentExp=function(){return k.content},o.$observe("disabled",function(e){e&&I(),e&&k.isOpen&&A()}),T&&e.$watch(T,function(e){k&&!e===k.isOpen&&D()});var H,j=function(){x.show.forEach(function(e){"outsideClick"===e?t.off("click",D):(t.off(e,M),t.off(e,D))}),x.hide.forEach(function(e){"outsideClick"===e?a.off("click",R):t.off(e,_)})};H=o[c+"Trigger"],j(),"none"!==(x=f(H)).show&&x.show.forEach(function(e,i){"outsideClick"===e?(t.on("click",D),a.on("click",R)):e===x.hide[i]?t.on(e,D):e&&(t.on(e,M),t.on(x.hide[i],_)),t.on("keypress",function(e){27===e.which&&_()})});var z,U=e.$eval(o[c+"Animation"]);k.animation=angular.isDefined(U)?!!U:p.animation;var B=c+"AppendToBody";z=B in o&&void 0===o[B]||e.$eval(o[B]),(w=angular.isDefined(z)?z:w)&&e.$on("$locationChangeSuccess",function(){k.isOpen&&A()}),e.$on("$destroy",function(){j(),F(),h.remove(k),k=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,i,n){return{link:function(o,s,a){var r,l,c,u=o.$eval(a.tooltipTemplateTranscludeScope),d=0,h=function(){l&&(l.remove(),l=null),r&&(r.$destroy(),r=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};o.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(t){var a=++d;t?(n(t,!0).then(function(n){if(a===d){var o=u.$new(),l=i(n)(o,function(t){h(),e.enter(t,s)});c=l,(r=o).$emit("$includeContentLoaded",t)}},function(){a===d&&(h(),o.$emit("$includeContentError",t))}),o.$emit("$includeContentRequested",t)):h()}),o.$on("$destroy",h)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,i,n){if(t.placement){var o=e.parsePlacement(t.placement);i.addClass(o[0])}else i.addClass("top");t.popupClass&&i.addClass(t.popupClass),t.animation()&&i.addClass(n.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,i){var n=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):i.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:i.max,this.addBar=function(t,i,s){o||i.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.title=s&&angular.isDefined(s.title)?s.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=n.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){i=null,n.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("max",function(t){n.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,i,n){n.addBar(e,t,i)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,i,n){n.addBar(e,angular.element(t.children()[0]),{title:i.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,i){var n={$setViewValue:angular.noop};this.init=function(o){(n=o).$render=this.render,n.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):i.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):i.stateOff;var s=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):i.titles;this.titles=angular.isArray(s)&&s.length>0?s:i.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):i.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,i=e.length;t<i;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(n.$setViewValue(n.$viewValue===t?0:t),n.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=n.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=n.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(e,t,i,n){var o=n[0],s=n[1];o.init(s)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var t,i=this,n=i.tabs=e.tabs=[];i.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},i.addTab=function(e){n.push(e),1===n.length&&!1!==e.active?e.active=!0:e.active?i.select(e):e.active=!1},i.removeTab=function(e){var o=n.indexOf(e);if(e.active&&n.length>1&&!t){var s=o===n.length-1?o-1:o+1;i.select(n[s])}n.splice(o,1)},e.$on("$destroy",function(){t=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"uib/template/tabs/tabset.html",link:function(e,t,i){e.vertical=!!angular.isDefined(i.vertical)&&e.$parent.$eval(i.vertical),e.justified=!!angular.isDefined(i.justified)&&e.$parent.$eval(i.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:"uib/template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,i,n,o,s){t.$watch("active",function(e){e&&o.select(t)}),t.disabled=!1,n.disable&&t.$parent.$watch(e(n.disable),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},o.addTab(t),t.$on("$destroy",function(){o.removeTab(t)}),t.$transcludeFn=s}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:"^uibTabset",link:function(e,t,i){var n=e.$eval(i.uibTabContentTransclude);n.$transcludeFn(n.$parent,function(e){angular.forEach(e,function(e){!function(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase())}(e)?t.append(e):n.headingElement=e})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,i,n,o,s,a){var r=new Date,l={$setViewValue:angular.noop},c=angular.isDefined(i.meridians)?e.$parent.$eval(i.meridians):a.meridians||s.DATETIME_FORMATS.AMPMS;e.tabindex=angular.isDefined(i.tabindex)?i.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,n){(l=t).$render=this.render,l.$formatters.unshift(function(e){return e?new Date(e):null});var o=n.eq(0),s=n.eq(1),r=n.eq(2);(angular.isDefined(i.mousewheel)?e.$parent.$eval(i.mousewheel):a.mousewheel)&&this.setupMousewheelEvents(o,s,r),(angular.isDefined(i.arrowkeys)?e.$parent.$eval(i.arrowkeys):a.arrowkeys)&&this.setupArrowkeyEvents(o,s,r),e.readonlyInput=angular.isDefined(i.readonlyInput)?e.$parent.$eval(i.readonlyInput):a.readonlyInput,this.setupInputEvents(o,s,r)};var u=a.hourStep;i.hourStep&&e.$parent.$watch(n(i.hourStep),function(e){u=+e});var d,h,p=a.minuteStep;i.minuteStep&&e.$parent.$watch(n(i.minuteStep),function(e){p=+e}),e.$parent.$watch(n(i.min),function(e){var t=new Date(e);d=isNaN(t)?void 0:t}),e.$parent.$watch(n(i.max),function(e){var t=new Date(e);h=isNaN(t)?void 0:t});var f=!1;i.ngDisabled&&e.$parent.$watch(n(i.ngDisabled),function(e){f=e}),e.noIncrementHours=function(){var e=k(r,60*u);return f||e>h||e<r&&e<d},e.noDecrementHours=function(){var e=k(r,60*-u);return f||e<d||e>r&&e>h},e.noIncrementMinutes=function(){var e=k(r,p);return f||e>h||e<r&&e<d},e.noDecrementMinutes=function(){var e=k(r,-p);return f||e<d||e>r&&e>h},e.noIncrementSeconds=function(){var e=$(r,g);return f||e>h||e<r&&e<d},e.noDecrementSeconds=function(){var e=$(r,-g);return f||e<d||e>r&&e>h},e.noToggleMeridian=function(){return r.getHours()<12?f||k(r,720)>h:f||k(r,-720)<d};var g=a.secondStep;function m(){var t=+e.hours;if(e.showMeridian?t>0&&t<13:t>=0&&t<24)return e.showMeridian&&(12===t&&(t=0),e.meridian===c[1]&&(t+=12)),t}function v(){var t=+e.minutes;return t>=0&&t<60?t:void 0}function b(e){return null===e?"":angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function y(e){w(),l.$setViewValue(new Date(r)),x(e)}function w(){l.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function x(t){if(l.$modelValue){var i=r.getHours(),n=r.getMinutes(),o=r.getSeconds();e.showMeridian&&(i=0===i||12===i?12:i%12),e.hours="h"===t?i:b(i),"m"!==t&&(e.minutes=b(n)),e.meridian=r.getHours()<12?c[0]:c[1],"s"!==t&&(e.seconds=b(o)),e.meridian=r.getHours()<12?c[0]:c[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=c[0]}function C(e){r=$(r,e),y()}function k(e,t){return $(e,60*t)}function $(e,t){var i=new Date(e.getTime()+1e3*t),n=new Date(e);return n.setHours(i.getHours(),i.getMinutes(),i.getSeconds()),n}i.secondStep&&e.$parent.$watch(n(i.secondStep),function(e){g=+e}),e.showSeconds=a.showSeconds,i.showSeconds&&e.$parent.$watch(n(i.showSeconds),function(t){e.showSeconds=!!t}),e.showMeridian=a.showMeridian,i.showMeridian&&e.$parent.$watch(n(i.showMeridian),function(t){if(e.showMeridian=!!t,l.$error.time){var i=m(),n=v();angular.isDefined(i)&&angular.isDefined(n)&&(r.setHours(i),y())}else x()}),this.setupMousewheelEvents=function(t,i,n){var o=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){f||e.$apply(o(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),i.bind("mousewheel wheel",function(t){f||e.$apply(o(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){f||e.$apply(o(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,i,n){t.bind("keydown",function(t){f||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),i.bind("keydown",function(t){f||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),n.bind("keydown",function(t){f||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,i,n){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var o=function(t,i,n){l.$setViewValue(null),l.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(i)&&(e.invalidMinutes=i),angular.isDefined(n)&&(e.invalidSeconds=n)};e.updateHours=function(){var e=m(),t=v();l.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(r.setHours(e),r.setMinutes(t),r<d||r>h?o(!0):y("h")):o(!0)},t.bind("blur",function(t){l.$setTouched(),null===e.hours||""===e.hours?o(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=b(e.hours)})}),e.updateMinutes=function(){var e=v(),t=m();l.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(r.setHours(t),r.setMinutes(e),r<d||r>h?o(void 0,!0):y("m")):o(void 0,!0)},i.bind("blur",function(t){l.$setTouched(),null===e.minutes?o(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=b(e.minutes)})}),e.updateSeconds=function(){var t=function(){var t=+e.seconds;return t>=0&&t<60?t:void 0}();l.$setDirty(),angular.isDefined(t)?(r.setSeconds(t),y("s")):o(void 0,void 0,!0)},n.bind("blur",function(t){!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=b(e.seconds)})})},this.render=function(){var t=l.$viewValue;isNaN(t)?(l.$setValidity("time",!1),o.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(r=t),r<d||r>h?(l.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):w(),x())},e.showSpinners=angular.isDefined(i.showSpinners)?e.$parent.$eval(i.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||C(60*u*60)},e.decrementHours=function(){e.noDecrementHours()||C(60*-u*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||C(60*p)},e.decrementMinutes=function(){e.noDecrementMinutes()||C(60*-p)},e.incrementSeconds=function(){e.noIncrementSeconds()||C(g)},e.decrementSeconds=function(){e.noDecrementSeconds()||C(-g)},e.toggleMeridian=function(){var t=v(),i=m();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(i)?C(720*(r.getHours()<12?60:-60)):e.meridian=e.meridian===c[0]?c[1]:c[0])},e.blur=function(){l.$setTouched()}}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(t,i){return i.templateUrl||e.templateUrl},link:function(e,t,i,n){var o=n[0],s=n[1];s&&o.init(s,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var n=i.match(t);if(!n)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:n[3],source:e(n[4]),viewMapper:e(n[2]||n[1]),modelMapper:e(n[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,i,n,o,s,a,r,l,c,u,d,h){var p,f,g=[9,13,27,38,40],m=e.$eval(i.typeaheadMinLength);m||0===m||(m=1);var v=e.$eval(i.typeaheadWaitMs)||0,b=!1!==e.$eval(i.typeaheadEditable);e.$watch(i.typeaheadEditable,function(e){b=!1!==e});var y,w,x=o(i.typeaheadLoading).assign||angular.noop,C=o(i.typeaheadOnSelect),k=!!angular.isDefined(i.typeaheadSelectOnBlur)&&e.$eval(i.typeaheadSelectOnBlur),$=o(i.typeaheadNoResults).assign||angular.noop,T=i.typeaheadInputFormatter?o(i.typeaheadInputFormatter):void 0,S=!!i.typeaheadAppendToBody&&e.$eval(i.typeaheadAppendToBody),E=i.typeaheadAppendTo?e.$eval(i.typeaheadAppendTo):null,P=!1!==e.$eval(i.typeaheadFocusFirst),D=!!i.typeaheadSelectOnExact&&e.$eval(i.typeaheadSelectOnExact),M=o(i.typeaheadIsOpen).assign||angular.noop,_=e.$eval(i.typeaheadShowHint)||!1,O=o(i.ngModel),I=o(i.ngModel+"($$$p)"),A=h.parse(i.uibTypeahead),L=e.$new(),F=e.$on("$destroy",function(){L.$destroy()});L.$on("$destroy",F);var N,R,H="typeahead-"+L.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":H}),_&&((N=angular.element("<div></div>")).css("position","relative"),t.after(N),(R=t.clone()).attr("placeholder",""),R.val(""),R.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),N.append(R),R.after(t));var j=angular.element("<div uib-typeahead-popup></div>");j.attr({id:H,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(i.typeaheadTemplateUrl)&&j.attr("template-url",i.typeaheadTemplateUrl),angular.isDefined(i.typeaheadPopupTemplateUrl)&&j.attr("popup-template-url",i.typeaheadPopupTemplateUrl);var z=function(){L.matches=[],L.activeIdx=-1,t.attr("aria-expanded",!1),_&&R.val("")},U=function(e){return H+"-option-"+e};L.$watch("activeIdx",function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",U(e))});var B=function(i,n){var o={$viewValue:i};x(e,!0),$(e,!1),s.when(A.source(e,o)).then(function(s){var a=i===p.$viewValue;if(a&&y)if(s&&s.length>0){L.activeIdx=P?0:-1,$(e,!1),L.matches.length=0;for(var r=0;r<s.length;r++)o[A.itemName]=s[r],L.matches.push({id:U(r),label:A.viewMapper(L,o),model:s[r]});if(L.query=i,G(),t.attr("aria-expanded",!0),D&&1===L.matches.length&&function(e,t){return!!(L.matches.length>t&&e)&&e.toUpperCase()===L.matches[t].label.toUpperCase()}(i,0)&&(angular.isNumber(L.debounceUpdate)||angular.isObject(L.debounceUpdate)?u(function(){L.select(0,n)},angular.isNumber(L.debounceUpdate)?L.debounceUpdate:L.debounceUpdate.default):L.select(0,n)),_){var l=L.matches[0].label;i.length>0&&l.slice(0,i.length).toUpperCase()===i.toUpperCase()?R.val(i+l.slice(i.length)):R.val("")}}else z(),$(e,!0);a&&x(e,!1)},function(){z(),x(e,!1),$(e,!0)})};S&&(angular.element(l).on("resize",V),r.find("body").on("scroll",V));var W,q=u(function(){L.matches.length&&G(),L.moveInProgress=!1},200);function V(){L.moveInProgress||(L.moveInProgress=!0,L.$digest()),q()}function G(){L.position=S?d.offset(t):d.position(t),L.position.top+=t.prop("offsetHeight")}L.moveInProgress=!1,L.query=void 0;var Y=function(){W&&a.cancel(W)};z(),L.assignIsOpen=function(t){M(e,t)},L.select=function(n,o){var s,r,l={};w=!0,l[A.itemName]=r=L.matches[n].model,s=A.modelMapper(e,l),function(t,i){angular.isFunction(O(e))&&f&&f.$options&&f.$options.getterSetter?I(t,{$$$p:i}):O.assign(t,i)}(e,s),p.$setValidity("editable",!0),p.$setValidity("parse",!0),C(e,{$item:r,$model:s,$label:A.viewMapper(e,l),$event:o}),z(),!1!==L.$eval(i.typeaheadFocusOnSelect)&&a(function(){t[0].focus()},0,!1)},t.on("keydown",function(e){if(0!==L.matches.length&&-1!==g.indexOf(e.which)){if(-1===L.activeIdx&&(9===e.which||13===e.which))return z(),void L.$digest();var t;switch(e.preventDefault(),e.which){case 9:case 13:L.$apply(function(){angular.isNumber(L.debounceUpdate)||angular.isObject(L.debounceUpdate)?u(function(){L.select(L.activeIdx,e)},angular.isNumber(L.debounceUpdate)?L.debounceUpdate:L.debounceUpdate.default):L.select(L.activeIdx,e)});break;case 27:e.stopPropagation(),z(),L.$digest();break;case 38:L.activeIdx=(L.activeIdx>0?L.activeIdx:L.matches.length)-1,L.$digest(),(t=j.find("li")[L.activeIdx]).parentNode.scrollTop=t.offsetTop;break;case 40:L.activeIdx=(L.activeIdx+1)%L.matches.length,L.$digest(),(t=j.find("li")[L.activeIdx]).parentNode.scrollTop=t.offsetTop}}}),t.bind("focus",function(e){y=!0,0!==m||p.$viewValue||a(function(){B(p.$viewValue,e)},0)}),t.bind("blur",function(e){k&&L.matches.length&&-1!==L.activeIdx&&!w&&(w=!0,L.$apply(function(){angular.isObject(L.debounceUpdate)&&angular.isNumber(L.debounceUpdate.blur)?u(function(){L.select(L.activeIdx,e)},L.debounceUpdate.blur):L.select(L.activeIdx,e)})),!b&&p.$error.editable&&(p.$viewValue="",t.val("")),y=!1,w=!1});var K=function(e){t[0]!==e.target&&3!==e.which&&0!==L.matches.length&&(z(),c.$$phase||L.$digest())};r.on("click",K),e.$on("$destroy",function(){r.off("click",K),(S||E)&&X.remove(),S&&(angular.element(l).off("resize",V),r.find("body").off("scroll",V)),j.remove(),_&&N.remove()});var X=n(j)(L);S?r.find("body").append(X):E?angular.element(E).eq(0).append(X):t.after(X),this.init=function(t,i){p=t,f=i,L.debounceUpdate=p.$options&&o(p.$options.debounce)(e),p.$parsers.unshift(function(t){return y=!0,0===m||t&&t.length>=m?v>0?(Y(),function(e){W=a(function(){B(e)},v)}(t)):B(t):(x(e,!1),Y(),z()),b?t:t?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),null)}),p.$formatters.push(function(t){var i,n={};return b||p.$setValidity("editable",!0),T?(n.$model=t,T(e,n)):(n[A.itemName]=t,i=A.viewMapper(e,n),n[A.itemName]=void 0,i!==A.viewMapper(e,n)?i:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,i,n){n[2].init(n[0],n[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,i,n){t.templateUrl=n.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(i,n){var o=t.debounce();angular.isNumber(o)||angular.isObject(o)?e(function(){t.select({activeIdx:i,evt:n})},angular.isNumber(o)?o:o.default):t.select({activeIdx:i,evt:n})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,i){return{scope:{index:"=",match:"=",query:"="},link:function(n,o,s){var a=i(s.templateUrl)(n.$parent)||"uib/template/typeahead/typeahead-match.html";e(a).then(function(e){var i=angular.element(e.trim());o.replaceWith(i),t(i)(n)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,i){var n;return n=t.has("$sanitize"),function(t,o){return!n&&function(e){return/<.*>/g.test(e)}(t)&&i.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(o.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):t,n||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <div tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></div>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/popup.html",'<ul class="uib-datepicker-popup dropdown-menu" dropdown-nested ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px" class="uib-button-bar">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}" class="uib-tab">\n  <div ng-click="select()" uib-tab-heading-transclude>{{heading}}</div>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input style="width:50px;" type="text" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>')}),angular.module("ui.bootstrap.tabs").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.uib-tab > div{position:relative;display:block;padding:10px 15px;outline:0;color:#337ab7;}.uib-tab > div:focus,.uib-tab > div:hover{background-color:#eee;color:#23527c;}.uib-tab.disabled > div{color:#777;}.uib-tab.disabled > div:focus,.uib-tab.disabled > div:hover{color:#777;cursor:not-allowed;background-color:transparent;}.nav-tabs > .uib-tab > div{margin-right:2px;line-height:1.42857143;border:1px solid transparent;border-radius:4px 4px 0 0;}.nav-tabs > .uib-tab > div:hover{border-color:#eee #eee #ddd;}.nav-tabs > .uib-tab.active > div,.nav-tabs > .uib-tab.active > div:focus,.nav-tabs > .uib-tab.active > div:hover{color:#555;cursor:default;background-color:#fff;border-color:#ddd #ddd transparent #ddd;}.nav-pills > .uib-tab > div{border-radius:4px;}.nav-pills > .uib-tab.active > div,.nav-pills > .uib-tab.active > div:focus,.nav-pills > .uib-tab.active > div:hover{color:#fff;background-color:#337ab7;}</style>')}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){var t,i=0,n=Array.prototype.slice;return e.cleanData=(t=e.cleanData,function(i){var n,o,s;for(s=0;null!=(o=i[s]);s++)try{(n=e._data(o,"events"))&&n.remove&&e(o).triggerHandler("remove")}catch(e){}t(i)}),e.widget=function(t,i,n){var o,s,a,r={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return n||(n=i,i=e.Widget),e.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},o=e[l][t],s=e[l][t]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},e.extend(s,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),(a=new i).options=e.widget.extend({},a.options),e.each(n,function(t,n){e.isFunction(n)?r[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function o(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=s,t}}():r[t]=n}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||t},r,{constructor:s,namespace:l,widgetName:t,widgetFullName:c}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete o._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var i,o,s=n.call(arguments,1),a=0,r=s.length;a<r;a++)for(i in s[a])o=s[a][i],s[a].hasOwnProperty(i)&&void 0!==o&&(e.isPlainObject(o)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],o):e.widget.extend({},o):t[i]=o);return t},e.widget.bridge=function(t,i){var o=i.prototype.widgetFullName||t;e.fn[t]=function(s){var a="string"==typeof s,r=n.call(arguments,1),l=this;return a?this.length||"instance"!==s?this.each(function(){var i,n=e.data(this,o);return"instance"===s?(l=n,!1):n?e.isFunction(n[s])&&"_"!==s.charAt(0)?(i=n[s].apply(n,r))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}):l=void 0:(r.length&&(s=e.widget.extend.apply(null,[s].concat(r))),this.each(function(){var t=e.data(this,o);t?(t.option(s||{}),t._init&&t._init()):e.data(this,o,new i(s,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,o,s,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},t=(n=t.split(".")).shift(),n.length){for(o=a[t]=e.widget.extend({},this.options[t]),s=0;s<n.length-1;s++)o[n[s]]=o[n[s]]||{},o=o[n[s]];if(t=n.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,n,o;for(i in t)o=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&o&&o.length&&(n=e(o.get()),this._removeClass(o,i),n.addClass(this._classes({element:n,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var i=[],n=this;function o(o,s){var a,r;for(r=0;r<o.length;r++)a=n.classesElementLookup[o[r]]||e(),a=t.add?e(e.unique(a.get().concat(t.element.get()))):e(a.not(t.element).get()),n.classesElementLookup[o[r]]=a,i.push(o[r]),s&&t.classes[o[r]]&&i.push(t.classes[o[r]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&o(t.keys.match(/\S+/g)||[],!0),t.extra&&o(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(n,o){-1!==e.inArray(t.target,o)&&(i.classesElementLookup[n]=e(o.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"==typeof n?n:i;var o="string"==typeof e||null===e,s={extra:o?t:i,keys:o?e:t,element:o?this.element:e,add:n};return s.element.toggleClass(this._classes(s),n),this},_on:function(t,i,n){var o,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,a){function r(){if(t||!0!==s.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?s[a]:a).apply(s,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,u=l[2];u?o.on(c,u,r):i.on(c,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,n){var o,s,a=this.options[t];if(n=n||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(e.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,s){var a;"string"==typeof o&&(o={effect:o});var r=o?!0===o||"number"==typeof o?i:o.effect||i:t;"number"==typeof(o=o||{})&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),a&&e.effects&&e.effects.effect[r]?n[t](o):r!==t&&n[r]?n[r](o.duration,o.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}}),e.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,o=1===i.which,s=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(o&&!s&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){e.fn.extend({slimScroll:function(i){var n=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);return this.each(function(){var o,s,a,r,l,c,u,d,h="<div></div>",p=30,f=!1,g=e(this);if(g.parent().hasClass(n.wrapperClass)){var m=g.scrollTop();if(C=g.siblings("."+n.barClass),x=g.siblings("."+n.railClass),S(),e.isPlainObject(i)){if("height"in i&&"auto"==i.height){g.parent().css("height","auto"),g.css("height","auto");var v=g.parent().parent().height();g.parent().css("height",v),g.css("height",v)}else if("height"in i){var b=i.height;g.parent().css("height",b),g.css("height",b)}if("scrollTo"in i)m=parseInt(n.scrollTo);else if("scrollBy"in i)m+=parseInt(n.scrollBy);else if("destroy"in i)return C.remove(),x.remove(),void g.unwrap();T(m,!1,!0)}}else if(!(e.isPlainObject(i)&&"destroy"in i)){n.height="auto"==n.height?g.parent().height():n.height;var y=e(h).addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height});g.css({overflow:"hidden",width:n.width,height:n.height});var w,x=e(h).addClass(n.railClass).css({width:n.size,height:"100%",position:"absolute",top:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.railBorderRadius,background:n.railColor,opacity:n.railOpacity,zIndex:90}),C=e(h).addClass(n.barClass).css({background:n.color,width:n.size,position:"absolute",top:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.borderRadius,BorderRadius:n.borderRadius,MozBorderRadius:n.borderRadius,WebkitBorderRadius:n.borderRadius,zIndex:99}),k="right"==n.position?{right:n.distance}:{left:n.distance};x.css(k),C.css(k),g.wrap(y),g.parent().append(C),g.parent().append(x),n.railDraggable&&C.bind("mousedown",function(i){var n=e(document);return a=!0,t=parseFloat(C.css("top")),pageY=i.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,C.css("top",currTop),T(0,C.position().top,!1)}),n.bind("mouseup.slimscroll",function(e){a=!1,P(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),x.hover(function(){E()},function(){P()}),C.hover(function(){s=!0},function(){s=!1}),g.hover(function(){o=!0,E(),P()},function(){o=!1,P()}),g.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(l=e.originalEvent.touches[0].pageY)}),g.bind("touchmove",function(e){(f||e.originalEvent.preventDefault(),e.originalEvent.touches.length)&&(T((l-e.originalEvent.touches[0].pageY)/n.touchScrollStep,!0),l=e.originalEvent.touches[0].pageY)}),S(),"bottom"===n.start?(C.css({top:g.outerHeight()-C.outerHeight()}),T(0,!0)):"top"!==n.start&&(T(e(n.start).position().top,null,!0),n.alwaysVisible||C.hide()),w=this,window.addEventListener?(w.addEventListener("DOMMouseScroll",$,!1),w.addEventListener("mousewheel",$,!1)):document.attachEvent("onmousewheel",$)}function $(t){if(o){var i=0;(t=t||window.event).wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3);var s=t.target||t.srcTarget||t.srcElement;e(s).closest("."+n.wrapperClass).is(g.parent())&&T(i,!0),t.preventDefault&&!f&&t.preventDefault(),f||(t.returnValue=!1)}}function T(e,t,i){f=!1;var o=e,s=g.outerHeight()-C.outerHeight();if(t&&(o=parseInt(C.css("top"))+e*parseInt(n.wheelStep)/100*C.outerHeight(),o=Math.min(Math.max(o,0),s),o=e>0?Math.ceil(o):Math.floor(o),C.css({top:o+"px"})),o=(u=parseInt(C.css("top"))/(g.outerHeight()-C.outerHeight()))*(g[0].scrollHeight-g.outerHeight()),i){var a=(o=e)/g[0].scrollHeight*g.outerHeight();a=Math.min(Math.max(a,0),s),C.css({top:a+"px"})}g.scrollTop(o),g.trigger("slimscrolling",~~o),E(),P()}function S(){c=Math.max(g.outerHeight()/g[0].scrollHeight*g.outerHeight(),p),C.css({height:c+"px"});var e=c==g.outerHeight()?"none":"block";C.css({display:e})}function E(){if(S(),clearTimeout(r),u==~~u){if(f=n.allowPageScroll,d!=u){var e=0==~~u?"top":"bottom";g.trigger("slimscroll",e)}}else f=!1;d=u,c>=g.outerHeight()?f=!0:(C.stop(!0,!0).fadeIn("fast"),n.railVisible&&x.stop(!0,!0).fadeIn("fast"))}function P(){n.alwaysVisible||(r=setTimeout(function(){n.disableFadeOut&&o||s||a||(C.fadeOut("slow"),x.fadeOut("slow"))},1e3))}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,n,o){return jQuery.easing[jQuery.easing.def](e,t,i,n,o)},easeInQuad:function(e,t,i,n,o){return n*(t/=o)*t+i},easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i},easeInOutQuad:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,n,o){return n*(t/=o)*t*t+i},easeOutCubic:function(e,t,i,n,o){return n*((t=t/o-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,n,o){return n*(t/=o)*t*t*t+i},easeOutQuart:function(e,t,i,n,o){return-n*((t=t/o-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t*t+i:-n/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,n,o){return n*(t/=o)*t*t*t*t+i},easeOutQuint:function(e,t,i,n,o){return n*((t=t/o-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,n,o){return(t/=o/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,n,o){return-n*Math.cos(t/o*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,o){return n*Math.sin(t/o*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,o){return-n/2*(Math.cos(Math.PI*t/o)-1)+i},easeInExpo:function(e,t,i,n,o){return 0==t?i:n*Math.pow(2,10*(t/o-1))+i},easeOutExpo:function(e,t,i,n,o){return t==o?i+n:n*(1-Math.pow(2,-10*t/o))+i},easeInOutExpo:function(e,t,i,n,o){return 0==t?i:t==o?i+n:(t/=o/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(2-Math.pow(2,-10*--t))+i},easeInCirc:function(e,t,i,n,o){return-n*(Math.sqrt(1-(t/=o)*t)-1)+i},easeOutCirc:function(e,t,i,n,o){return n*Math.sqrt(1-(t=t/o-1)*t)+i},easeInOutCirc:function(e,t,i,n,o){return(t/=o/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,n,o){var s=1.70158,a=0,r=n;if(0==t)return i;if(1==(t/=o))return i+n;if(a||(a=.3*o),r<Math.abs(n)){r=n;s=a/4}else s=a/(2*Math.PI)*Math.asin(n/r);return-r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*o-s)*Math.PI/a)+i},easeOutElastic:function(e,t,i,n,o){var s=1.70158,a=0,r=n;if(0==t)return i;if(1==(t/=o))return i+n;if(a||(a=.3*o),r<Math.abs(n)){r=n;s=a/4}else s=a/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*t)*Math.sin(2*(t*o-s)*Math.PI/a)+n+i},easeInOutElastic:function(e,t,i,n,o){var s=1.70158,a=0,r=n;if(0==t)return i;if(2==(t/=o/2))return i+n;if(a||(a=.3*o*1.5),r<Math.abs(n)){r=n;s=a/4}else s=a/(2*Math.PI)*Math.asin(n/r);return t<1?-.5*r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*o-s)*Math.PI/a)+i:r*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*o-s)*Math.PI/a)*.5+n+i},easeInBack:function(e,t,i,n,o,s){return void 0==s&&(s=1.70158),n*(t/=o)*t*((s+1)*t-s)+i},easeOutBack:function(e,t,i,n,o,s){return void 0==s&&(s=1.70158),n*((t=t/o-1)*t*((s+1)*t+s)+1)+i},easeInOutBack:function(e,t,i,n,o,s){return void 0==s&&(s=1.70158),(t/=o/2)<1?n/2*t*t*((1+(s*=1.525))*t-s)+i:n/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+i},easeInBounce:function(e,t,i,n,o){return n-jQuery.easing.easeOutBounce(e,o-t,0,n,o)+i},easeOutBounce:function(e,t,i,n,o){return(t/=o)<1/2.75?7.5625*n*t*t+i:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+i:n*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,n,o){return t<o/2?.5*jQuery.easing.easeInBounce(e,2*t,0,n,o)+i:.5*jQuery.easing.easeOutBounce(e,2*t-o,0,n,o)+.5*n+i}}),function(e){e.color={},e.color.make=function(t,i,n,o){var s={};return s.r=t||0,s.g=i||0,s.b=n||0,s.a=null!=o?o:1,s.add=function(e,t){for(var i=0;i<e.length;++i)s[e.charAt(i)]+=t;return s.normalize()},s.scale=function(e,t){for(var i=0;i<e.length;++i)s[e.charAt(i)]*=t;return s.normalize()},s.toString=function(){return s.a>=1?"rgb("+[s.r,s.g,s.b].join(",")+")":"rgba("+[s.r,s.g,s.b,s.a].join(",")+")"},s.normalize=function(){function e(e,t,i){return t<e?e:t>i?i:t}return s.r=e(0,parseInt(s.r),255),s.g=e(0,parseInt(s.g),255),s.b=e(0,parseInt(s.b),255),s.a=e(0,s.a,1),s},s.clone=function(){return e.color.make(s.r,s.b,s.g,s.a)},s.normalize()},e.color.extract=function(t,i){var n;do{if(""!=(n=t.css(i).toLowerCase())&&"transparent"!=n)break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),e.color.parse(n)},e.color.parse=function(i){var n,o=e.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return o(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return o(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return o(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return o(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return o(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return o(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var s=e.trim(i).toLowerCase();return"transparent"==s?o(255,255,255,0):o((n=t[s]||[0,0,0])[0],n[1],n[2])};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(e){var t=Object.prototype.hasOwnProperty;function i(t,i){var n=i.children("."+t)[0];if(null==n&&((n=document.createElement("canvas")).className=t,e(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(i),!n.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");n=window.G_vmlCanvasManager.initElement(n)}this.element=n;var o=this.context=n.getContext("2d"),s=window.devicePixelRatio||1,a=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1;this.pixelRatio=s/a,this.resize(i.width(),i.height()),this.textContainer=null,this.text={},this._textCache={}}function n(t,n,o,s){var a=[],r={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},l=null,c=null,u=null,d=null,h=null,p=[],f=[],g={left:0,right:0,top:0,bottom:0},m=0,v=0,b={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},y=this;function w(e,t){t=[y].concat(t);for(var i=0;i<e.length;++i)e[i].apply(this,t)}function x(t){a=function(t){for(var i=[],n=0;n<t.length;++n){var o=e.extend(!0,{},r.series);null!=t[n].data?(o.data=t[n].data,delete t[n].data,e.extend(!0,o,t[n]),t[n].data=o.data):o.data=t[n],i.push(o)}return i}(t),function(){var t,i=a.length,n=-1;for(t=0;t<a.length;++t){var o=a[t].color;null!=o&&(i--,"number"==typeof o&&o>n&&(n=o))}i<=n&&(i=n+1);var s,l=[],c=r.colors,u=c.length,d=0;for(t=0;t<i;t++)s=e.color.parse(c[t%u]||"#666"),t%u==0&&t&&(d=d>=0?d<.5?-d-.2:0:-d),l[t]=s.scale("rgb",1+d);var h,g=0;for(t=0;t<a.length;++t){if(null==(h=a[t]).color?(h.color=l[g].toString(),++g):"number"==typeof h.color&&(h.color=l[h.color].toString()),null==h.lines.show){var m,v=!0;for(m in h)if(h[m]&&h[m].show){v=!1;break}v&&(h.lines.show=!0)}null==h.lines.zero&&(h.lines.zero=!!h.lines.fill),h.xaxis=T(p,C(h,"x")),h.yaxis=T(f,C(h,"y"))}}(),function(){var t,i,n,o,s,r,l,c,u,d,h,p,f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,m=Number.MAX_VALUE;function v(e,t,i){t<e.datamin&&t!=-m&&(e.datamin=t),i>e.datamax&&i!=m&&(e.datamax=i)}for(e.each(k(),function(e,t){t.datamin=f,t.datamax=g,t.used=!1}),t=0;t<a.length;++t)(s=a[t]).datapoints={points:[]},w(b.processRawData,[s,s.data,s.datapoints]);for(t=0;t<a.length;++t){if(s=a[t],h=s.data,!(p=s.datapoints.format)){if((p=[]).push({x:!0,number:!0,required:!0}),p.push({y:!0,number:!0,required:!0}),s.bars.show||s.lines.show&&s.lines.fill){var y=!!(s.bars.show&&s.bars.zero||s.lines.show&&s.lines.zero);p.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:y}),s.bars.horizontal&&(delete p[p.length-1].y,p[p.length-1].x=!0)}s.datapoints.format=p}if(null==s.datapoints.pointsize){s.datapoints.pointsize=p.length,l=s.datapoints.pointsize,r=s.datapoints.points;var x=s.lines.show&&s.lines.steps;for(s.xaxis.used=s.yaxis.used=!0,i=n=0;i<h.length;++i,n+=l){var C=null==(d=h[i]);if(!C)for(o=0;o<l;++o)c=d[o],(u=p[o])&&(u.number&&null!=c&&(c=+c,isNaN(c)?c=null:c==1/0?c=m:c==-1/0&&(c=-m)),null==c&&(u.required&&(C=!0),null!=u.defaultValue&&(c=u.defaultValue))),r[n+o]=c;if(C)for(o=0;o<l;++o)null!=(c=r[n+o])&&!1!==(u=p[o]).autoscale&&(u.x&&v(s.xaxis,c,c),u.y&&v(s.yaxis,c,c)),r[n+o]=null;else if(x&&n>0&&null!=r[n-l]&&r[n-l]!=r[n]&&r[n-l+1]!=r[n+1]){for(o=0;o<l;++o)r[n+l+o]=r[n+o];r[n+1]=r[n-l+1],n+=l}}}}for(t=0;t<a.length;++t)s=a[t],w(b.processDatapoints,[s,s.datapoints]);for(t=0;t<a.length;++t){s=a[t],r=s.datapoints.points,l=s.datapoints.pointsize,p=s.datapoints.format;var $=f,T=f,S=g,E=g;for(i=0;i<r.length;i+=l)if(null!=r[i])for(o=0;o<l;++o)c=r[i+o],(u=p[o])&&!1!==u.autoscale&&c!=m&&c!=-m&&(u.x&&(c<$&&($=c),c>S&&(S=c)),u.y&&(c<T&&(T=c),c>E&&(E=c)));if(s.bars.show){var P;switch(s.bars.align){case"left":P=0;break;case"right":P=-s.bars.barWidth;break;default:P=-s.bars.barWidth/2}s.bars.horizontal?(T+=P,E+=P+s.bars.barWidth):($+=P,S+=P+s.bars.barWidth)}v(s.xaxis,$,S),v(s.yaxis,T,E)}e.each(k(),function(e,t){t.datamin==f&&(t.datamin=null),t.datamax==g&&(t.datamax=null)})}()}function C(e,t){var i=e[t+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function k(){return e.grep(p.concat(f),function(e){return e})}function $(e){var t,i,n={};for(t=0;t<p.length;++t)(i=p[t])&&i.used&&(n["x"+i.n]=i.c2p(e.left));for(t=0;t<f.length;++t)(i=f[t])&&i.used&&(n["y"+i.n]=i.c2p(e.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function T(t,i){return t[i-1]||(t[i-1]={n:i,direction:t==p?"x":"y",options:e.extend(!0,{},t==p?r.xaxis:r.yaxis)}),t[i-1]}function S(){F&&clearTimeout(F),u.unbind("mousemove",N),u.unbind("mouseleave",R),u.unbind("click",H),w(b.shutdown,[u])}function E(t){var i=t.labelWidth,n=t.labelHeight,o=t.options.position,s="x"===t.direction,a=t.options.tickLength,c=r.grid.axisMargin,u=r.grid.labelMargin,d=!0,h=!0,m=!0,v=!1;e.each(s?p:f,function(e,i){i&&(i.show||i.reserveSpace)&&(i===t?v=!0:i.options.position===o&&(v?h=!1:d=!1),v||(m=!1))}),h&&(c=0),null==a&&(a=m?"full":5),isNaN(+a)||(u+=+a),s?(n+=u,"bottom"==o?(g.bottom+=n+c,t.box={top:l.height-g.bottom,height:n}):(t.box={top:g.top+c,height:n},g.top+=n+c)):(i+=u,"left"==o?(t.box={left:g.left+c,width:i},g.left+=i+c):(g.right+=i+c,t.box={left:l.width-g.right,width:i})),t.position=o,t.tickLength=a,t.box.padding=u,t.innermost=d}function P(){var i,n=k(),o=r.grid.show;for(var s in g){var c=r.grid.margin||0;g[s]="number"==typeof c?c:c[s]||0}for(var s in w(b.processOffset,[g]),g)"object"==typeof r.grid.borderWidth?g[s]+=o?r.grid.borderWidth[s]:0:g[s]+=o?r.grid.borderWidth:0;if(e.each(n,function(e,t){var i=t.options;t.show=null==i.show?t.used:i.show,t.reserveSpace=null==i.reserveSpace?t.show:i.reserveSpace,function(e){var t=e.options,i=+(null!=t.min?t.min:e.datamin),n=+(null!=t.max?t.max:e.datamax),o=n-i;if(0==o){var s=0==n?1:.01;null==t.min&&(i-=s),null!=t.max&&null==t.min||(n+=s)}else{var a=t.autoscaleMargin;null!=a&&(null==t.min&&(i-=o*a)<0&&null!=e.datamin&&e.datamin>=0&&(i=0),null==t.max&&(n+=o*a)>0&&null!=e.datamax&&e.datamax<=0&&(n=0))}e.min=i,e.max=n}(t)}),o){var u=e.grep(n,function(e){return e.show||e.reserveSpace});for(e.each(u,function(t,i){!function(t){var i,n=t.options;i="number"==typeof n.ticks&&n.ticks>0?n.ticks:.3*Math.sqrt("x"==t.direction?l.width:l.height);var o=(t.max-t.min)/i,s=-Math.floor(Math.log(o)/Math.LN10),a=n.tickDecimals;null!=a&&s>a&&(s=a);var r,c=Math.pow(10,-s),u=o/c;u<1.5?r=1:u<3?(r=2,u>2.25&&(null==a||s+1<=a)&&(r=2.5,++s)):r=u<7.5?5:10;r*=c,null!=n.minTickSize&&r<n.minTickSize&&(r=n.minTickSize);if(t.delta=o,t.tickDecimals=Math.max(0,null!=a?a:s),t.tickSize=n.tickSize||r,"time"==n.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");t.tickGenerator||(t.tickGenerator=function(e){var t,i,n,o=[],s=(i=e.min,(n=e.tickSize)*Math.floor(i/n)),a=0,r=Number.NaN;do{t=r,r=s+a*e.tickSize,o.push(r),++a}while(r<e.max&&r!=t);return o},t.tickFormatter=function(e,t){var i=t.tickDecimals?Math.pow(10,t.tickDecimals):1,n=""+Math.round(e*i)/i;if(null!=t.tickDecimals){var o=n.indexOf("."),s=-1==o?0:n.length-o-1;if(s<t.tickDecimals)return(s?n:n+".")+(""+i).substr(1,t.tickDecimals-s)}return n});e.isFunction(n.tickFormatter)&&(t.tickFormatter=function(e,t){return""+n.tickFormatter(e,t)});if(null!=n.alignTicksWithAxis){var d=("x"==t.direction?p:f)[n.alignTicksWithAxis-1];if(d&&d.used&&d!=t){var h=t.tickGenerator(t);if(h.length>0&&(null==n.min&&(t.min=Math.min(t.min,h[0])),null==n.max&&h.length>1&&(t.max=Math.max(t.max,h[h.length-1]))),t.tickGenerator=function(e){var t,i,n=[];for(i=0;i<d.ticks.length;++i)t=(d.ticks[i].v-d.min)/(d.max-d.min),t=e.min+t*(e.max-e.min),n.push(t);return n},!t.mode&&null==n.tickDecimals){var g=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),m=t.tickGenerator(t);m.length>1&&/\..*0$/.test((m[1]-m[0]).toFixed(g))||(t.tickDecimals=g)}}}}(i),function(t){var i,n,o=t.options.ticks,s=[];null==o||"number"==typeof o&&o>0?s=t.tickGenerator(t):o&&(s=e.isFunction(o)?o(t):o);for(t.ticks=[],i=0;i<s.length;++i){var a=null,r=s[i];"object"==typeof r?(n=+r[0],r.length>1&&(a=r[1])):n=+r,null==a&&(a=t.tickFormatter(n,t)),isNaN(n)||t.ticks.push({v:n,label:a})}}(i),function(e,t){e.options.autoscaleMargin&&t.length>0&&(null==e.options.min&&(e.min=Math.min(e.min,t[0].v)),null==e.options.max&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v)))}(i,i.ticks),function(e){for(var t=e.options,i=e.ticks||[],n=t.labelWidth||0,o=t.labelHeight||0,s=n||("x"==e.direction?Math.floor(l.width/(i.length||1)):null),a=e.direction+"Axis "+e.direction+e.n+"Axis",r="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+a,c=t.font||"flot-tick-label tickLabel",u=0;u<i.length;++u){var d=i[u];if(d.label){var h=l.getTextInfo(r,d.label,c,null,s);n=Math.max(n,h.width),o=Math.max(o,h.height)}}e.labelWidth=t.labelWidth||n,e.labelHeight=t.labelHeight||o}(i)}),i=u.length-1;i>=0;--i)E(u[i]);!function(){var t,i=r.grid.minBorderMargin;if(null==i)for(i=0,t=0;t<a.length;++t)i=Math.max(i,2*(a[t].points.radius+a[t].points.lineWidth/2));var n={left:i,right:i,top:i,bottom:i};e.each(k(),function(e,t){t.reserveSpace&&t.ticks&&t.ticks.length&&("x"===t.direction?(n.left=Math.max(n.left,t.labelWidth/2),n.right=Math.max(n.right,t.labelWidth/2)):(n.bottom=Math.max(n.bottom,t.labelHeight/2),n.top=Math.max(n.top,t.labelHeight/2)))}),g.left=Math.ceil(Math.max(n.left,g.left)),g.right=Math.ceil(Math.max(n.right,g.right)),g.top=Math.ceil(Math.max(n.top,g.top)),g.bottom=Math.ceil(Math.max(n.bottom,g.bottom))}(),e.each(u,function(e,t){!function(e){"x"==e.direction?(e.box.left=g.left-e.labelWidth/2,e.box.width=l.width-g.left-g.right+e.labelWidth):(e.box.top=g.top-e.labelHeight/2,e.box.height=l.height-g.bottom-g.top+e.labelHeight)}(t)})}m=l.width-g.left-g.right,v=l.height-g.bottom-g.top,e.each(n,function(e,t){!function(e){function t(e){return e}var i,n,o=e.options.transform||t,s=e.options.inverseTransform;"x"==e.direction?(i=e.scale=m/Math.abs(o(e.max)-o(e.min)),n=Math.min(o(e.max),o(e.min))):(i=-(i=e.scale=v/Math.abs(o(e.max)-o(e.min))),n=Math.max(o(e.max),o(e.min))),e.p2c=o==t?function(e){return(e-n)*i}:function(e){return(o(e)-n)*i},e.c2p=s?function(e){return s(n+e/i)}:function(e){return n+e/i}}(t)}),o&&e.each(k(),function(e,t){var i,n,o,s,a,r=t.box,c=t.direction+"Axis "+t.direction+t.n+"Axis",u="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+c,d=t.options.font||"flot-tick-label tickLabel";if(l.removeText(u),t.show&&0!=t.ticks.length)for(var h=0;h<t.ticks.length;++h)!(i=t.ticks[h]).label||i.v<t.min||i.v>t.max||("x"==t.direction?(s="center",n=g.left+t.p2c(i.v),"bottom"==t.position?o=r.top+r.padding:(o=r.top+r.height-r.padding,a="bottom")):(a="middle",o=g.top+t.p2c(i.v),"left"==t.position?(n=r.left+r.width-r.padding,s="right"):n=r.left+r.padding),l.addText(u,n,o,i.label,d,null,null,s,a))}),function(){null!=r.legend.container?e(r.legend.container).html(""):t.find(".legend").remove();if(!r.legend.show)return;for(var i,n,o=[],s=[],l=!1,c=r.legend.labelFormatter,u=0;u<a.length;++u)(i=a[u]).label&&(n=c?c(i.label,i):i.label)&&s.push({label:n,color:i.color});if(r.legend.sorted)if(e.isFunction(r.legend.sorted))s.sort(r.legend.sorted);else if("reverse"==r.legend.sorted)s.reverse();else{var d="descending"!=r.legend.sorted;s.sort(function(e,t){return e.label==t.label?0:e.label<t.label!=d?1:-1})}for(var u=0;u<s.length;++u){var h=s[u];u%r.legend.noColumns==0&&(l&&o.push("</tr>"),o.push("<tr>"),l=!0),o.push('<td class="legendColorBox"><div style="border:1px solid '+r.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+h.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+h.label+"</td>")}l&&o.push("</tr>");if(0==o.length)return;var p='<table style="font-size:smaller;color:'+r.grid.color+'">'+o.join("")+"</table>";if(null!=r.legend.container)e(r.legend.container).html(p);else{var f="",m=r.legend.position,v=r.legend.margin;null==v[0]&&(v=[v,v]),"n"==m.charAt(0)?f+="top:"+(v[1]+g.top)+"px;":"s"==m.charAt(0)&&(f+="bottom:"+(v[1]+g.bottom)+"px;"),"e"==m.charAt(1)?f+="right:"+(v[0]+g.right)+"px;":"w"==m.charAt(1)&&(f+="left:"+(v[0]+g.left)+"px;");var b=e('<div class="legend">'+p.replace('style="','style="position:absolute;'+f+";")+"</div>").appendTo(t);if(0!=r.legend.backgroundOpacity){var y=r.legend.backgroundColor;null==y&&((y=(y=r.grid.backgroundColor)&&"string"==typeof y?e.color.parse(y):e.color.extract(b,"background-color")).a=1,y=y.toString());var w=b.children();e('<div style="position:absolute;width:'+w.width()+"px;height:"+w.height()+"px;"+f+"background-color:"+y+';"> </div>').prependTo(b).css("opacity",r.legend.backgroundOpacity)}}}()}function D(){l.clear(),w(b.drawBackground,[d]);var e=r.grid;e.show&&e.backgroundColor&&(d.save(),d.translate(g.left,g.top),d.fillStyle=Y(r.grid.backgroundColor,v,0,"rgba(255, 255, 255, 0)"),d.fillRect(0,0,m,v),d.restore()),e.show&&!e.aboveData&&_();for(var t=0;t<a.length;++t)w(b.drawSeries,[d,a[t]]),O(a[t]);w(b.draw,[d]),e.show&&e.aboveData&&_(),l.render(),z()}function M(e,t){for(var i,n,o,s,a=k(),r=0;r<a.length;++r)if((i=a[r]).direction==t&&(e[s=t+i.n+"axis"]||1!=i.n||(s=t+"axis"),e[s])){n=e[s].from,o=e[s].to;break}if(e[s]||(i="x"==t?p[0]:f[0],n=e[t+"1"],o=e[t+"2"]),null!=n&&null!=o&&n>o){var l=n;n=o,o=l}return{from:n,to:o,axis:i}}function _(){var t,i,n,o;d.save(),d.translate(g.left,g.top);var s=r.grid.markings;if(s)for(e.isFunction(s)&&((i=y.getAxes()).xmin=i.xaxis.min,i.xmax=i.xaxis.max,i.ymin=i.yaxis.min,i.ymax=i.yaxis.max,s=s(i)),t=0;t<s.length;++t){var a=s[t],l=M(a,"x"),c=M(a,"y");if(null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),null==c.from&&(c.from=c.axis.min),null==c.to&&(c.to=c.axis.max),!(l.to<l.axis.min||l.from>l.axis.max||c.to<c.axis.min||c.from>c.axis.max)){l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max),c.from=Math.max(c.from,c.axis.min),c.to=Math.min(c.to,c.axis.max);var u=l.from===l.to,h=c.from===c.to;if(!u||!h)if(l.from=Math.floor(l.axis.p2c(l.from)),l.to=Math.floor(l.axis.p2c(l.to)),c.from=Math.floor(c.axis.p2c(c.from)),c.to=Math.floor(c.axis.p2c(c.to)),u||h){var p=a.lineWidth||r.grid.markingsLineWidth,f=p%2?.5:0;d.beginPath(),d.strokeStyle=a.color||r.grid.markingsColor,d.lineWidth=p,u?(d.moveTo(l.to+f,c.from),d.lineTo(l.to+f,c.to)):(d.moveTo(l.from,c.to+f),d.lineTo(l.to,c.to+f)),d.stroke()}else d.fillStyle=a.color||r.grid.markingsColor,d.fillRect(l.from,c.to,l.to-l.from,c.from-c.to)}}i=k(),n=r.grid.borderWidth;for(var b=0;b<i.length;++b){var w,x,C,$,T=i[b],S=T.box,E=T.tickLength;if(T.show&&0!=T.ticks.length){for(d.lineWidth=1,"x"==T.direction?(w=0,x="full"==E?"top"==T.position?0:v:S.top-g.top+("top"==T.position?S.height:0)):(x=0,w="full"==E?"left"==T.position?0:m:S.left-g.left+("left"==T.position?S.width:0)),T.innermost||(d.strokeStyle=T.options.color,d.beginPath(),C=$=0,"x"==T.direction?C=m+1:$=v+1,1==d.lineWidth&&("x"==T.direction?x=Math.floor(x)+.5:w=Math.floor(w)+.5),d.moveTo(w,x),d.lineTo(w+C,x+$),d.stroke()),d.strokeStyle=T.options.tickColor,d.beginPath(),t=0;t<T.ticks.length;++t){var P=T.ticks[t].v;C=$=0,isNaN(P)||P<T.min||P>T.max||"full"==E&&("object"==typeof n&&n[T.position]>0||n>0)&&(P==T.min||P==T.max)||("x"==T.direction?(w=T.p2c(P),$="full"==E?-v:E,"top"==T.position&&($=-$)):(x=T.p2c(P),C="full"==E?-m:E,"left"==T.position&&(C=-C)),1==d.lineWidth&&("x"==T.direction?w=Math.floor(w)+.5:x=Math.floor(x)+.5),d.moveTo(w,x),d.lineTo(w+C,x+$))}d.stroke()}}n&&(o=r.grid.borderColor,"object"==typeof n||"object"==typeof o?("object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),"object"!=typeof o&&(o={top:o,right:o,bottom:o,left:o}),n.top>0&&(d.strokeStyle=o.top,d.lineWidth=n.top,d.beginPath(),d.moveTo(0-n.left,0-n.top/2),d.lineTo(m,0-n.top/2),d.stroke()),n.right>0&&(d.strokeStyle=o.right,d.lineWidth=n.right,d.beginPath(),d.moveTo(m+n.right/2,0-n.top),d.lineTo(m+n.right/2,v),d.stroke()),n.bottom>0&&(d.strokeStyle=o.bottom,d.lineWidth=n.bottom,d.beginPath(),d.moveTo(m+n.right,v+n.bottom/2),d.lineTo(0,v+n.bottom/2),d.stroke()),n.left>0&&(d.strokeStyle=o.left,d.lineWidth=n.left,d.beginPath(),d.moveTo(0-n.left/2,v+n.bottom),d.lineTo(0-n.left/2,0),d.stroke())):(d.lineWidth=n,d.strokeStyle=r.grid.borderColor,d.strokeRect(-n/2,-n/2,m+n,v+n))),d.restore()}function O(e){e.lines.show&&function(e){function t(e,t,i,n,o){var s=e.points,a=e.pointsize,r=null,l=null;d.beginPath();for(var c=a;c<s.length;c+=a){var u=s[c-a],h=s[c-a+1],p=s[c],f=s[c+1];if(null!=u&&null!=p){if(h<=f&&h<o.min){if(f<o.min)continue;u=(o.min-h)/(f-h)*(p-u)+u,h=o.min}else if(f<=h&&f<o.min){if(h<o.min)continue;p=(o.min-h)/(f-h)*(p-u)+u,f=o.min}if(h>=f&&h>o.max){if(f>o.max)continue;u=(o.max-h)/(f-h)*(p-u)+u,h=o.max}else if(f>=h&&f>o.max){if(h>o.max)continue;p=(o.max-h)/(f-h)*(p-u)+u,f=o.max}if(u<=p&&u<n.min){if(p<n.min)continue;h=(n.min-u)/(p-u)*(f-h)+h,u=n.min}else if(p<=u&&p<n.min){if(u<n.min)continue;f=(n.min-u)/(p-u)*(f-h)+h,p=n.min}if(u>=p&&u>n.max){if(p>n.max)continue;h=(n.max-u)/(p-u)*(f-h)+h,u=n.max}else if(p>=u&&p>n.max){if(u>n.max)continue;f=(n.max-u)/(p-u)*(f-h)+h,p=n.max}u==r&&h==l||d.moveTo(n.p2c(u)+t,o.p2c(h)+i),r=p,l=f,d.lineTo(n.p2c(p)+t,o.p2c(f)+i)}}d.stroke()}d.save(),d.translate(g.left,g.top),d.lineJoin="round";var i=e.lines.lineWidth,n=e.shadowSize;if(i>0&&n>0){d.lineWidth=n,d.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;t(e.datapoints,Math.sin(o)*(i/2+n/2),Math.cos(o)*(i/2+n/2),e.xaxis,e.yaxis),d.lineWidth=n/2,t(e.datapoints,Math.sin(o)*(i/2+n/4),Math.cos(o)*(i/2+n/4),e.xaxis,e.yaxis)}d.lineWidth=i,d.strokeStyle=e.color;var s=A(e.lines,e.color,0,v);s&&(d.fillStyle=s,function(e,t,i){var n=e.points,o=e.pointsize,s=Math.min(Math.max(0,i.min),i.max),a=0,r=!1,l=1,c=0,u=0;for(;!(o>0&&a>n.length+o);){var h=n[(a+=o)-o],p=n[a-o+l],f=n[a],g=n[a+l];if(r){if(o>0&&null!=h&&null==f){u=a,o=-o,l=2;continue}if(o<0&&a==c+o){d.fill(),r=!1,l=1,a=c=u+(o=-o);continue}}if(null!=h&&null!=f){if(h<=f&&h<t.min){if(f<t.min)continue;p=(t.min-h)/(f-h)*(g-p)+p,h=t.min}else if(f<=h&&f<t.min){if(h<t.min)continue;g=(t.min-h)/(f-h)*(g-p)+p,f=t.min}if(h>=f&&h>t.max){if(f>t.max)continue;p=(t.max-h)/(f-h)*(g-p)+p,h=t.max}else if(f>=h&&f>t.max){if(h>t.max)continue;g=(t.max-h)/(f-h)*(g-p)+p,f=t.max}if(r||(d.beginPath(),d.moveTo(t.p2c(h),i.p2c(s)),r=!0),p>=i.max&&g>=i.max)d.lineTo(t.p2c(h),i.p2c(i.max)),d.lineTo(t.p2c(f),i.p2c(i.max));else if(p<=i.min&&g<=i.min)d.lineTo(t.p2c(h),i.p2c(i.min)),d.lineTo(t.p2c(f),i.p2c(i.min));else{var m=h,v=f;p<=g&&p<i.min&&g>=i.min?(h=(i.min-p)/(g-p)*(f-h)+h,p=i.min):g<=p&&g<i.min&&p>=i.min&&(f=(i.min-p)/(g-p)*(f-h)+h,g=i.min),p>=g&&p>i.max&&g<=i.max?(h=(i.max-p)/(g-p)*(f-h)+h,p=i.max):g>=p&&g>i.max&&p<=i.max&&(f=(i.max-p)/(g-p)*(f-h)+h,g=i.max),h!=m&&d.lineTo(t.p2c(m),i.p2c(p)),d.lineTo(t.p2c(h),i.p2c(p)),d.lineTo(t.p2c(f),i.p2c(g)),f!=v&&(d.lineTo(t.p2c(f),i.p2c(g)),d.lineTo(t.p2c(v),i.p2c(g)))}}}}(e.datapoints,e.xaxis,e.yaxis));i>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis);d.restore()}(e),e.bars.show&&function(e){var t;switch(d.save(),d.translate(g.left,g.top),d.lineWidth=e.bars.lineWidth,d.strokeStyle=e.color,e.bars.align){case"left":t=0;break;case"right":t=-e.bars.barWidth;break;default:t=-e.bars.barWidth/2}var i=e.bars.fill?function(t,i){return A(e.bars,e.color,t,i)}:null;(function(t,i,n,o,s,a){for(var r=t.points,l=t.pointsize,c=0;c<r.length;c+=l)null!=r[c]&&I(r[c],r[c+1],r[c+2],i,n,o,s,a,d,e.bars.horizontal,e.bars.lineWidth)})(e.datapoints,t,t+e.bars.barWidth,i,e.xaxis,e.yaxis),d.restore()}(e),e.points.show&&function(e){function t(e,t,i,n,o,s,a,r){for(var l=e.points,c=e.pointsize,u=0;u<l.length;u+=c){var h=l[u],p=l[u+1];null==h||h<s.min||h>s.max||p<a.min||p>a.max||(d.beginPath(),h=s.p2c(h),p=a.p2c(p)+n,"circle"==r?d.arc(h,p,t,0,o?Math.PI:2*Math.PI,!1):r(d,h,p,t,o),d.closePath(),i&&(d.fillStyle=i,d.fill()),d.stroke())}}d.save(),d.translate(g.left,g.top);var i=e.points.lineWidth,n=e.shadowSize,o=e.points.radius,s=e.points.symbol;0==i&&(i=1e-4);if(i>0&&n>0){var a=n/2;d.lineWidth=a,d.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,o,null,a+a/2,!0,e.xaxis,e.yaxis,s),d.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,o,null,a/2,!0,e.xaxis,e.yaxis,s)}d.lineWidth=i,d.strokeStyle=e.color,t(e.datapoints,o,A(e.points,e.color),0,!1,e.xaxis,e.yaxis,s),d.restore()}(e)}function I(e,t,i,n,o,s,a,r,l,c,u){var d,h,p,f,g,m,v,b,y;c?(b=m=v=!0,g=!1,f=t+n,p=t+o,(h=e)<(d=i)&&(y=h,h=d,d=y,g=!0,m=!1)):(g=m=v=!0,b=!1,d=e+n,h=e+o,(f=t)<(p=i)&&(y=f,f=p,p=y,b=!0,v=!1)),h<a.min||d>a.max||f<r.min||p>r.max||(d<a.min&&(d=a.min,g=!1),h>a.max&&(h=a.max,m=!1),p<r.min&&(p=r.min,b=!1),f>r.max&&(f=r.max,v=!1),d=a.p2c(d),p=r.p2c(p),h=a.p2c(h),f=r.p2c(f),s&&(l.fillStyle=s(p,f),l.fillRect(d,f,h-d,p-f)),u>0&&(g||m||v||b)&&(l.beginPath(),l.moveTo(d,p),g?l.lineTo(d,f):l.moveTo(d,f),v?l.lineTo(h,f):l.moveTo(h,f),m?l.lineTo(h,p):l.moveTo(h,p),b?l.lineTo(d,p):l.moveTo(d,p),l.stroke()))}function A(t,i,n,o){var s=t.fill;if(!s)return null;if(t.fillColor)return Y(t.fillColor,n,o,i);var a=e.color.parse(i);return a.a="number"==typeof s?s:.4,a.normalize(),a.toString()}y.setData=x,y.setupGrid=P,y.draw=D,y.getPlaceholder=function(){return t},y.getCanvas=function(){return l.element},y.getPlotOffset=function(){return g},y.width=function(){return m},y.height=function(){return v},y.offset=function(){var e=u.offset();return e.left+=g.left,e.top+=g.top,e},y.getData=function(){return a},y.getAxes=function(){var t={};return e.each(p.concat(f),function(e,i){i&&(t[i.direction+(1!=i.n?i.n:"")+"axis"]=i)}),t},y.getXAxes=function(){return p},y.getYAxes=function(){return f},y.c2p=$,y.p2c=function(e){var t,i,n,o={};for(t=0;t<p.length;++t)if((i=p[t])&&i.used&&(n="x"+i.n,null==e[n]&&1==i.n&&(n="x"),null!=e[n])){o.left=i.p2c(e[n]);break}for(t=0;t<f.length;++t)if((i=f[t])&&i.used&&(n="y"+i.n,null==e[n]&&1==i.n&&(n="y"),null!=e[n])){o.top=i.p2c(e[n]);break}return o},y.getOptions=function(){return r},y.highlight=B,y.unhighlight=W,y.triggerRedrawOverlay=z,y.pointOffset=function(e){return{left:parseInt(p[C(e,"x")-1].p2c(+e.x)+g.left,10),top:parseInt(f[C(e,"y")-1].p2c(+e.y)+g.top,10)}},y.shutdown=S,y.destroy=function(){S(),t.removeData("plot").empty(),a=[],r=null,l=null,c=null,u=null,d=null,h=null,p=[],f=[],b=null,L=[],y=null},y.resize=function(){var e=t.width(),i=t.height();l.resize(e,i),c.resize(e,i)},y.hooks=b,function(){for(var t={Canvas:i},n=0;n<s.length;++n){var o=s[n];o.init(y,t),o.options&&e.extend(!0,r,o.options)}}(),function(i){e.extend(!0,r,i),i&&i.colors&&(r.colors=i.colors);null==r.xaxis.color&&(r.xaxis.color=e.color.parse(r.grid.color).scale("a",.22).toString());null==r.yaxis.color&&(r.yaxis.color=e.color.parse(r.grid.color).scale("a",.22).toString());null==r.xaxis.tickColor&&(r.xaxis.tickColor=r.grid.tickColor||r.xaxis.color);null==r.yaxis.tickColor&&(r.yaxis.tickColor=r.grid.tickColor||r.yaxis.color);null==r.grid.borderColor&&(r.grid.borderColor=r.grid.color);null==r.grid.tickColor&&(r.grid.tickColor=e.color.parse(r.grid.color).scale("a",.22).toString());var n,o,s,a=t.css("font-size"),l=a?+a.replace("px",""):13,c={style:t.css("font-style"),size:Math.round(.8*l),variant:t.css("font-variant"),weight:t.css("font-weight"),family:t.css("font-family")};for(s=r.xaxes.length||1,n=0;n<s;++n)(o=r.xaxes[n])&&!o.tickColor&&(o.tickColor=o.color),o=e.extend(!0,{},r.xaxis,o),r.xaxes[n]=o,o.font&&(o.font=e.extend({},c,o.font),o.font.color||(o.font.color=o.color),o.font.lineHeight||(o.font.lineHeight=Math.round(1.15*o.font.size)));for(s=r.yaxes.length||1,n=0;n<s;++n)(o=r.yaxes[n])&&!o.tickColor&&(o.tickColor=o.color),o=e.extend(!0,{},r.yaxis,o),r.yaxes[n]=o,o.font&&(o.font=e.extend({},c,o.font),o.font.color||(o.font.color=o.color),o.font.lineHeight||(o.font.lineHeight=Math.round(1.15*o.font.size)));r.xaxis.noTicks&&null==r.xaxis.ticks&&(r.xaxis.ticks=r.xaxis.noTicks);r.yaxis.noTicks&&null==r.yaxis.ticks&&(r.yaxis.ticks=r.yaxis.noTicks);r.x2axis&&(r.xaxes[1]=e.extend(!0,{},r.xaxis,r.x2axis),r.xaxes[1].position="top",null==r.x2axis.min&&(r.xaxes[1].min=null),null==r.x2axis.max&&(r.xaxes[1].max=null));r.y2axis&&(r.yaxes[1]=e.extend(!0,{},r.yaxis,r.y2axis),r.yaxes[1].position="right",null==r.y2axis.min&&(r.yaxes[1].min=null),null==r.y2axis.max&&(r.yaxes[1].max=null));r.grid.coloredAreas&&(r.grid.markings=r.grid.coloredAreas);r.grid.coloredAreasColor&&(r.grid.markingsColor=r.grid.coloredAreasColor);r.lines&&e.extend(!0,r.series.lines,r.lines);r.points&&e.extend(!0,r.series.points,r.points);r.bars&&e.extend(!0,r.series.bars,r.bars);null!=r.shadowSize&&(r.series.shadowSize=r.shadowSize);null!=r.highlightColor&&(r.series.highlightColor=r.highlightColor);for(n=0;n<r.xaxes.length;++n)T(p,n+1).options=r.xaxes[n];for(n=0;n<r.yaxes.length;++n)T(f,n+1).options=r.yaxes[n];for(var u in b)r.hooks[u]&&r.hooks[u].length&&(b[u]=b[u].concat(r.hooks[u]));w(b.processOptions,[r])}(o),function(){t.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),"static"==t.css("position")&&t.css("position","relative");l=new i("flot-base",t),c=new i("flot-overlay",t),d=l.context,h=c.context,u=e(c.element).unbind();var n=t.data("plot");n&&(n.shutdown(),c.clear());t.data("plot",y)}(),x(n),P(),D(),function(){r.grid.hoverable&&(u.mousemove(N),u.bind("mouseleave",R));r.grid.clickable&&u.click(H);w(b.bindEvents,[u])}();var L=[],F=null;function N(e){r.grid.hoverable&&j("plothover",e,function(e){return 0!=e.hoverable})}function R(e){r.grid.hoverable&&j("plothover",e,function(e){return!1})}function H(e){j("plotclick",e,function(e){return 0!=e.clickable})}function j(e,i,n){var o=u.offset(),s=i.pageX-o.left-g.left,l=i.pageY-o.top-g.top,c=$({left:s,top:l});c.pageX=i.pageX,c.pageY=i.pageY;var d=function(e,t,i){var n,o,s,l=r.grid.mouseActiveRadius,c=l*l+1,u=null;for(n=a.length-1;n>=0;--n)if(i(a[n])){var d=a[n],h=d.xaxis,p=d.yaxis,f=d.datapoints.points,g=h.c2p(e),m=p.c2p(t),v=l/h.scale,b=l/p.scale;if(s=d.datapoints.pointsize,h.options.inverseTransform&&(v=Number.MAX_VALUE),p.options.inverseTransform&&(b=Number.MAX_VALUE),d.lines.show||d.points.show)for(o=0;o<f.length;o+=s){var y=f[o],w=f[o+1];if(null!=y&&!(y-g>v||y-g<-v||w-m>b||w-m<-b)){var x=Math.abs(h.p2c(y)-e),C=Math.abs(p.p2c(w)-t),k=x*x+C*C;k<c&&(c=k,u=[n,o/s])}}if(d.bars.show&&!u){var $,T;switch(d.bars.align){case"left":$=0;break;case"right":$=-d.bars.barWidth;break;default:$=-d.bars.barWidth/2}for(T=$+d.bars.barWidth,o=0;o<f.length;o+=s){y=f[o],w=f[o+1];var S=f[o+2];null!=y&&(a[n].bars.horizontal?g<=Math.max(S,y)&&g>=Math.min(S,y)&&m>=w+$&&m<=w+T:g>=y+$&&g<=y+T&&m>=Math.min(S,w)&&m<=Math.max(S,w))&&(u=[n,o/s])}}}return u?(n=u[0],o=u[1],s=a[n].datapoints.pointsize,{datapoint:a[n].datapoints.points.slice(o*s,(o+1)*s),dataIndex:o,series:a[n],seriesIndex:n}):null}(s,l,n);if(d&&(d.pageX=parseInt(d.series.xaxis.p2c(d.datapoint[0])+o.left+g.left,10),d.pageY=parseInt(d.series.yaxis.p2c(d.datapoint[1])+o.top+g.top,10)),r.grid.autoHighlight){for(var h=0;h<L.length;++h){var p=L[h];p.auto!=e||d&&p.series==d.series&&p.point[0]==d.datapoint[0]&&p.point[1]==d.datapoint[1]||W(p.series,p.point)}d&&B(d.series,d.datapoint,e)}t.trigger(e,[c,d])}function z(){var e=r.interaction.redrawOverlayInterval;-1!=e?F||(F=setTimeout(U,e)):U()}function U(){var e,t;for(F=null,h.save(),c.clear(),h.translate(g.left,g.top),e=0;e<L.length;++e)(t=L[e]).series.bars.show?G(t.series,t.point):V(t.series,t.point);h.restore(),w(b.drawOverlay,[h])}function B(e,t,i){if("number"==typeof e&&(e=a[e]),"number"==typeof t){var n=e.datapoints.pointsize;t=e.datapoints.points.slice(n*t,n*(t+1))}var o=q(e,t);-1==o?(L.push({series:e,point:t,auto:i}),z()):i||(L[o].auto=!1)}function W(e,t){if(null==e&&null==t)return L=[],void z();if("number"==typeof e&&(e=a[e]),"number"==typeof t){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var n=q(e,t);-1!=n&&(L.splice(n,1),z())}function q(e,t){for(var i=0;i<L.length;++i){var n=L[i];if(n.series==e&&n.point[0]==t[0]&&n.point[1]==t[1])return i}return-1}function V(t,i){var n=i[0],o=i[1],s=t.xaxis,a=t.yaxis,r="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(n<s.min||n>s.max||o<a.min||o>a.max)){var l=t.points.radius+t.points.lineWidth/2;h.lineWidth=l,h.strokeStyle=r;var c=1.5*l;n=s.p2c(n),o=a.p2c(o),h.beginPath(),"circle"==t.points.symbol?h.arc(n,o,c,0,2*Math.PI,!1):t.points.symbol(h,n,o,c,!1),h.closePath(),h.stroke()}}function G(t,i){var n,o="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),s=o;switch(t.bars.align){case"left":n=0;break;case"right":n=-t.bars.barWidth;break;default:n=-t.bars.barWidth/2}h.lineWidth=t.bars.lineWidth,h.strokeStyle=o,I(i[0],i[1],i[2]||0,n,n+t.bars.barWidth,function(){return s},t.xaxis,t.yaxis,h,t.bars.horizontal,t.bars.lineWidth)}function Y(t,i,n,o){if("string"==typeof t)return t;for(var s=d.createLinearGradient(0,n,0,i),a=0,r=t.colors.length;a<r;++a){var l=t.colors[a];if("string"!=typeof l){var c=e.color.parse(o);null!=l.brightness&&(c=c.scale("rgb",l.brightness)),null!=l.opacity&&(c.a*=l.opacity),l=c.toString()}s.addColorStop(a/(r-1),l)}return s}}e.fn.detach||(e.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),i.prototype.resize=function(e,t){if(e<=0||t<=0)throw new Error("Invalid dimensions for plot, width = "+e+", height = "+t);var i=this.element,n=this.context,o=this.pixelRatio;this.width!=e&&(i.width=e*o,i.style.width=e+"px",this.width=e),this.height!=t&&(i.height=t*o,i.style.height=t+"px",this.height=t),n.restore(),n.save(),n.scale(o,o)},i.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},i.prototype.render=function(){var e=this._textCache;for(var i in e)if(t.call(e,i)){var n=this.getTextLayer(i),o=e[i];for(var s in n.hide(),o)if(t.call(o,s)){var a=o[s];for(var r in a)if(t.call(a,r)){for(var l,c=a[r].positions,u=0;l=c[u];u++)l.active?l.rendered||(n.append(l.element),l.rendered=!0):(c.splice(u--,1),l.rendered&&l.element.detach());0==c.length&&delete a[r]}}n.show()}},i.prototype.getTextLayer=function(t){var i=this.text[t];return null==i&&(null==this.textContainer&&(this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),i=this.text[t]=e("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),i},i.prototype.getTextInfo=function(t,i,n,o,s){var a,r,l,c;if(i=""+i,a="object"==typeof n?n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:n,null==(r=this._textCache[t])&&(r=this._textCache[t]={}),null==(l=r[a])&&(l=r[a]={}),null==(c=l[i])){var u=e("<div></div>").html(i).css({position:"absolute","max-width":s,top:-9999}).appendTo(this.getTextLayer(t));"object"==typeof n?u.css({font:a,color:n.color}):"string"==typeof n&&u.addClass(n),c=l[i]={width:u.outerWidth(!0),height:u.outerHeight(!0),element:u,positions:[]},u.detach()}return c},i.prototype.addText=function(e,t,i,n,o,s,a,r,l){var c=this.getTextInfo(e,n,o,s,a),u=c.positions;"center"==r?t-=c.width/2:"right"==r&&(t-=c.width),"middle"==l?i-=c.height/2:"bottom"==l&&(i-=c.height);for(var d,h=0;d=u[h];h++)if(d.x==t&&d.y==i)return void(d.active=!0);d={active:!0,rendered:!1,element:u.length?c.element.clone():c.element,x:t,y:i},u.push(d),d.element.css({top:Math.round(i),left:Math.round(t),"text-align":r})},i.prototype.removeText=function(e,i,n,o,s,a){if(null==o){var r=this._textCache[e];if(null!=r)for(var l in r)if(t.call(r,l)){var c=r[l];for(var u in c)if(t.call(c,u))for(var d=c[u].positions,h=0;p=d[h];h++)p.active=!1}}else{var p;for(d=this.getTextInfo(e,o,s,a).positions,h=0;p=d[h];h++)p.x==i&&p.y==n&&(p.active=!1)}},e.plot=function(t,i,o){return new n(e(t),i,o,e.plot.plugins)},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(t,i){return this.each(function(){e.plot(this,t,i)})}}(jQuery),function(e){function t(e,t){return t*Math.floor(e/t)}function i(e,t,i,n){if("function"==typeof e.strftime)return e.strftime(t);var o,s=function(e,t){return e=""+e,t=""+(null==t?"0":t),1==e.length?t+e:e},a=[],r=!1,l=e.getHours(),c=l<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==n&&(n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),o=l>12?l-12:0==l?12:l;for(var u=0;u<t.length;++u){var d=t.charAt(u);if(r){switch(d){case"a":d=""+n[e.getDay()];break;case"b":d=""+i[e.getMonth()];break;case"d":d=s(e.getDate());break;case"e":d=s(e.getDate()," ");break;case"h":case"H":d=s(l);break;case"I":d=s(o);break;case"l":d=s(o," ");break;case"m":d=s(e.getMonth()+1);break;case"M":d=s(e.getMinutes());break;case"q":d=""+(Math.floor(e.getMonth()/3)+1);break;case"S":d=s(e.getSeconds());break;case"y":d=s(e.getFullYear()%100);break;case"Y":d=""+e.getFullYear();break;case"p":d=c?"am":"pm";break;case"P":d=c?"AM":"PM";break;case"w":d=""+e.getDay()}a.push(d),r=!1}else"%"==d?r=!0:a.push(d)}return a.join("")}function n(e){function t(e,t,i,n){e[t]=function(){return i[n].apply(i,arguments)}}var i={date:e};void 0!=e.strftime&&t(i,"strftime",e,"strftime"),t(i,"getTime",e,"getTime"),t(i,"setTime",e,"setTime");for(var n=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],o=0;o<n.length;o++)t(i,"get"+n[o],e,"getUTC"+n[o]),t(i,"set"+n[o],e,"setUTC"+n[o]);return i}function o(e,t){if("browser"==t.timezone)return new Date(e);if(t.timezone&&"utc"!=t.timezone){if("undefined"!=typeof timezoneJS&&void 0!==timezoneJS.Date){var i=new timezoneJS.Date;return i.setTimezone(t.timezone),i.setTime(e),i}return n(new Date(e))}return n(new Date(e))}var s={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},a=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],r=a.concat([[3,"month"],[6,"month"],[1,"year"]]),l=a.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:function(n){n.hooks.processOptions.push(function(n,a){e.each(n.getAxes(),function(e,n){var a=n.options;"time"==a.mode&&(n.tickGenerator=function(e){var i=[],n=o(e.min,a),c=0,u=a.tickSize&&"quarter"===a.tickSize[1]||a.minTickSize&&"quarter"===a.minTickSize[1]?l:r;null!=a.minTickSize&&(c="number"==typeof a.tickSize?a.tickSize:a.minTickSize[0]*s[a.minTickSize[1]]);for(var d=0;d<u.length-1&&!(e.delta<(u[d][0]*s[u[d][1]]+u[d+1][0]*s[u[d+1][1]])/2&&u[d][0]*s[u[d][1]]>=c);++d);var h=u[d][0],p=u[d][1];if("year"==p){if(null!=a.minTickSize&&"year"==a.minTickSize[1])h=Math.floor(a.minTickSize[0]);else{var f=Math.pow(10,Math.floor(Math.log(e.delta/s.year)/Math.LN10)),g=e.delta/s.year/f;h=g<1.5?1:g<3?2:g<7.5?5:10,h*=f}h<1&&(h=1)}e.tickSize=a.tickSize||[h,p];var m=e.tickSize[0];p=e.tickSize[1];var v=m*s[p];"second"==p?n.setSeconds(t(n.getSeconds(),m)):"minute"==p?n.setMinutes(t(n.getMinutes(),m)):"hour"==p?n.setHours(t(n.getHours(),m)):"month"==p?n.setMonth(t(n.getMonth(),m)):"quarter"==p?n.setMonth(3*t(n.getMonth()/3,m)):"year"==p&&n.setFullYear(t(n.getFullYear(),m)),n.setMilliseconds(0),v>=s.minute&&n.setSeconds(0),v>=s.hour&&n.setMinutes(0),v>=s.day&&n.setHours(0),v>=4*s.day&&n.setDate(1),v>=2*s.month&&n.setMonth(t(n.getMonth(),3)),v>=2*s.quarter&&n.setMonth(t(n.getMonth(),6)),v>=s.year&&n.setMonth(0);var b,y=0,w=Number.NaN;do{if(b=w,w=n.getTime(),i.push(w),"month"==p||"quarter"==p)if(m<1){n.setDate(1);var x=n.getTime();n.setMonth(n.getMonth()+("quarter"==p?3:1));var C=n.getTime();n.setTime(w+y*s.hour+(C-x)*m),y=n.getHours(),n.setHours(0)}else n.setMonth(n.getMonth()+m*("quarter"==p?3:1));else"year"==p?n.setFullYear(n.getFullYear()+m):n.setTime(w+v)}while(w<e.max&&w!=b);return i},n.tickFormatter=function(e,t){var n=o(e,t.options);if(null!=a.timeformat)return i(n,a.timeformat,a.monthNames,a.dayNames);var r=t.options.tickSize&&"quarter"==t.options.tickSize[1]||t.options.minTickSize&&"quarter"==t.options.minTickSize[1],l=t.tickSize[0]*s[t.tickSize[1]],c=t.max-t.min,u=a.twelveHourClock?" %p":"",d=a.twelveHourClock?"%I":"%H";return i(n,l<s.minute?d+":%M:%S"+u:l<s.day?c<2*s.day?d+":%M"+u:"%b %d "+d+":%M"+u:l<s.month?"%b %d":r&&l<s.quarter||!r&&l<s.year?c<s.year?"%b":"%b %Y":r&&l<s.year?c<s.year?"Q%q":"Q%q %Y":"%Y",a.monthNames,a.dayNames)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"}),e.plot.formatDate=i,e.plot.dateGenerator=o}(jQuery),angular.module("watchDom",[]).constant("watchDomOptions",{attributes:!0,characterData:!0,childList:!0}).service("watchDom",["$window","watchDomOptions",function(e,t){this.$watch=function(i,n,o){if(!angular.isElement(i))throw new TypeError("watchDom expects its 1st argument to be a DOMElement, but was given ",i);if(!angular.isFunction(n))throw new TypeError("watchDom expects its 2nd argument to be a Function, but was given ",n);var s=new e.MutationObserver(function(e){n(e,e.oldValue)});return s.observe(i,angular.extend({},t,o)),s.disconnect.bind(s)}}]),angular.module("turn/stickyTableHeader2",["watchDom"]).value("stickyTableHeaderOptions2",{cloneClassName:"sticky-clone2",stuckClassName:"sticky-stuck2",interval:10,observeHeaderInterval:100}).service("stickyTableHeaderUtil2",function(){this.guard=function(e,t){return function(){return!!t()&&e.apply(this,arguments)}}}).directive("stickyTableHeader2",["$timeout","$window","stickyTableHeaderOptions2","stickyTableHeaderUtil2","watchDom",function(e,t,i,n,o){var s=i,a=n;return{restrict:"A",scope:{disabled:"=",rows:"="},template:'<div class="transclude-header2" ng-transclude></div>',transclude:!0,link:function(i,n){function r(e){return a.guard(e,l)}function l(){return i.clone}angular.extend(i,{stuck:!1,mutationObserver:null,offset:{},tr:n.find("tr")[0],clone:null,windowEvents:{},createClone:function(){if("Win32"!==navigator.platform||!navigator.userAgent.includes("Chrome"))return angular.element(i.tr).clone(!0,!0).addClass(s.cloneClassName).appendTo(n.find("thead"));console.log("removed sticky header of sub-groups table due to potential bug")},resetClone:_.debounce(function(){i.removeClones(),i.clone=i.createClone(),e(i.sizeClone)},200),removeClones:function(){i.stuck=!1,n.find("."+s.cloneClassName).remove()},setClonedCellWidths:r(function(){var e=i.clone.find("th"),t=n.find("th");angular.forEach(e,function(e,i){angular.element(e).css("width",angular.element(t[i]).css("width"))})}),setCloneGutter:r(function(){i.clone.css({width:i.offset.width})}),setOffset:function(){var e=angular.element(i.tr).offset();i.offset={width:n.find("table").get(0).getBoundingClientRect().width,left:e.left,top:e.top}},setStuck:function(e){i.stuck=!!e,i.toggleClone(e)},toggleClone:r(function(e){i.clone[(e?"add":"remove")+"Class"](s.stuckClassName)}),sizeClone:r(function(){i.setOffset(),i.setClonedCellWidths(),i.setCloneGutter(),i.checkScroll()}),checkScroll:r(function(){var e=(t.scrollY||0)+n.scrollTop();t.scrollX,n.scrollLeft();!i.stuck&&e>=i.offset.top?(i.setClonedCellWidths(),i.setStuck(!0)):i.stuck&&e<i.offset.top&&i.setStuck(!1),i.clone.css("top",(t.pageYOffset||0)-i.offset.top)}),observeTr:function(){i.mutationObserver=o.$watch(i.tr,_.throttle(i.resetClone,s.observeHeaderInterval),{subtree:!0})},rowsChanged:function(){e(i.sizeClone)},on:function(){i.observeTr(),i.addEvents()},off:function(){i.mutationObserver(),i.removeEvents(),i.removeClones()},addEvents:function(){i.elementEvents={scroll:i.checkScroll},i.windowEvents={scroll:i.checkScroll,resize:i.sizeClone},angular.element(t).on(i.windowEvents),n.on(i.elementEvents)},removeEvents:function(){i.windowEvents.resize&&i.windowEvents.scroll&&i.elementEvents.scroll&&(angular.element(t).off(i.windowEvents),n.off(i.elementEvents),i.elementEvents={},i.windowEvents={})},changeDisabled:function(e,t){e!==t&&(e?i.off():(i.on(),i.resetClone(),i.toggleClone(!1)))}}),i.$watch("disabled",i.changeDisabled),i.$watch("rows",i.rowsChanged),i.$on("$destroy",i.off),i.on()}}}]),angular.module("watchDom",[]).constant("watchDomOptions",{attributes:!0,characterData:!0,childList:!0}).service("watchDom",["$window","watchDomOptions",function(e,t){this.$watch=function(i,n,o){if(!angular.isElement(i))throw new TypeError("watchDom expects its 1st argument to be a DOMElement, but was given ",i);if(!angular.isFunction(n))throw new TypeError("watchDom expects its 2nd argument to be a Function, but was given ",n);var s=new e.MutationObserver(function(e){n(e,e.oldValue)});return s.observe(i,angular.extend({},t,o)),s.disconnect.bind(s)}}]),angular.module("turn/stickyTableHeader3",["watchDom"]).value("stickyTableHeaderOptions3",{cloneClassName:"sticky-clone3",stuckClassName:"sticky-stuck3",interval:10,observeHeaderInterval:100}).service("stickyTableHeaderUtil3",function(){this.guard=function(e,t){return function(){return!!t()&&e.apply(this,arguments)}}}).directive("stickyTableHeader3",["$timeout","$window","stickyTableHeaderOptions3","stickyTableHeaderUtil3","watchDom",function(e,t,i,n,o){var s=i,a=n;return{restrict:"A",scope:{disabled:"=",rows:"="},template:"<div ng-transclude></div>",transclude:!0,link:function(i,n){function r(e){return a.guard(e,l)}function l(){return i.clone}angular.extend(i,{stuck:!1,mutationObserver:null,offset:{},tr:n.find("tr")[0],clone:null,windowEvents:{},createClone:function(){return angular.element(i.tr).clone(!0,!0).addClass(s.cloneClassName).appendTo(n.find("thead"))},resetClone:_.debounce(function(){i.removeClones(),i.clone=i.createClone(),e(i.sizeClone)},200),removeClones:function(){i.stuck=!1,n.find("."+s.cloneClassName).remove()},setClonedCellWidths:r(function(){var e=i.clone.find("th"),t=n.find("th");angular.forEach(e,function(e,i){angular.element(e).css("width",angular.element(t[i]).css("width"))})}),setCloneGutter:r(function(){i.clone.css({width:i.offset.width})}),setOffset:function(){var e=angular.element(i.tr).offset();i.offset={width:n.find("table").get(0).getBoundingClientRect().width,left:e.left,top:e.top}},setStuck:function(e){i.stuck=!!e,i.toggleClone(e)},toggleClone:r(function(e){i.clone[(e?"add":"remove")+"Class"](s.stuckClassName)}),sizeClone:r(function(){i.setOffset(),i.setClonedCellWidths(),i.setCloneGutter(),i.checkScroll()}),checkScroll:r(function(){var e=(t.scrollY||0)+n.scrollTop();t.scrollX,n.scrollLeft();!i.stuck&&e>=i.offset.top+30?(i.setClonedCellWidths(),i.setStuck(!0)):i.stuck&&e<i.offset.top&&i.setStuck(!1),i.clone.css("top",(t.pageYOffset||0)-i.offset.top)}),observeTr:function(){i.mutationObserver=o.$watch(i.tr,_.throttle(i.resetClone,s.observeHeaderInterval),{subtree:!0})},rowsChanged:function(){e(i.sizeClone)},on:function(){i.observeTr(),i.addEvents()},off:function(){i.mutationObserver(),i.removeEvents(),i.removeClones()},addEvents:function(){i.elementEvents={scroll:i.checkScroll},i.windowEvents={scroll:i.checkScroll,resize:i.sizeClone},angular.element(t).on(i.windowEvents),n.on(i.elementEvents)},removeEvents:function(){i.windowEvents.resize&&i.windowEvents.scroll&&i.elementEvents.scroll&&(angular.element(t).off(i.windowEvents),n.off(i.elementEvents),i.elementEvents={},i.windowEvents={})},changeDisabled:function(e,t){e!==t&&(e?i.off():(i.on(),i.resetClone(),i.toggleClone(!1)))}}),i.$watch("disabled",i.changeDisabled),i.$watch("rows",i.rowsChanged),i.$on("$destroy",i.off),i.on()}}}]),angular.module("watchDom",[]).constant("watchDomOptions",{attributes:!0,characterData:!0,childList:!0}).service("watchDom",["$window","watchDomOptions",function(e,t){this.$watch=function(i,n,o){if(!angular.isElement(i))throw new TypeError("watchDom expects its 1st argument to be a DOMElement, but was given ",i);if(!angular.isFunction(n))throw new TypeError("watchDom expects its 2nd argument to be a Function, but was given ",n);var s=new e.MutationObserver(function(e){n(e,e.oldValue)});return s.observe(i,angular.extend({},t,o)),s.disconnect.bind(s)}}]),function(e,t,i){"$:nomunge";var n,o=[],s=e.resize=e.extend(e.resize,{}),a=!1,r="setTimeout",l="resize",c=l+"-special-event",u="pendingDelay",d="activeDelay",h="throttleWindow";function p(i){!0===a&&(a=i||1);for(var r=o.length-1;r>=0;r--){var d=e(o[r]);if(d[0]==t||d.is(":visible")){var h=d.width(),f=d.height(),g=d.data(c);!g||h===g.w&&f===g.h||(d.trigger(l,[g.w=h,g.h=f]),a=i||!0)}else(g=d.data(c)).w=0,g.h=0}null!==n&&(a&&(null==i||i-a<1e3)?n=t.requestAnimationFrame(p):(n=setTimeout(p,s[u]),a=!1))}s[u]=200,s[d]=20,s[h]=!0,e.event.special[l]={setup:function(){if(!s[h]&&this[r])return!1;var t=e(this);o.push(this),t.data(c,{w:t.width(),h:t.height()}),1===o.length&&(n=i,p())},teardown:function(){if(!s[h]&&this[r])return!1;for(var t=e(this),i=o.length-1;i>=0;i--)if(o[i]==this){o.splice(i,1);break}t.removeData(c),o.length||(a?cancelAnimationFrame(n):clearTimeout(n),n=null)},add:function(t){if(!s[h]&&this[r])return!1;var n;function o(t,o,s){var a=e(this),r=a.data(c)||{};r.w=o!==i?o:a.width(),r.h=s!==i?s:a.height(),n.apply(this,arguments)}if(e.isFunction(t))return n=t,o;n=t.handler,t.handler=o}},t.requestAnimationFrame||(t.requestAnimationFrame=t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e,i){return t.setTimeout(function(){e((new Date).getTime())},s[d])}),t.cancelAnimationFrame||(t.cancelAnimationFrame=t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout)}(jQuery,this),function(e){jQuery.plot.plugins.push({init:function(e){function t(){var t=e.getPlaceholder();0!=t.width()&&0!=t.height()&&(e.resize(),e.setupGrid(),e.draw())}e.hooks.bindEvents.push(function(e,i){e.getPlaceholder().resize(t)}),e.hooks.shutdown.push(function(e,i){e.getPlaceholder().unbind("resize",t)})},options:{},name:"resize",version:"1.0"})}(),angular.module("toggle-switch",["ng"]).directive("toggleSwitch",["$compile",function(e){return{restrict:"EA",replace:!0,require:"ngModel",scope:{isDisabled:"=",onLabel:"@",offLabel:"@",knobLabel:"@",html:"=",onChange:"&"},template:'<div class="ats-switch" ng-click="toggle()" ng-keypress="onKeyPress($event)" ng-class="{ \'disabled\': isDisabled }" role="switch" aria-checked="{{!!model}}"><div class="switch-animate" ng-class="{\'switch-off\': !model, \'switch-on\': model}"><span class="switch-left"></span><span class="knob"></span><span class="switch-right"></span></div></div>',compile:function(t,i){return angular.isUndefined(i.onLabel)&&(i.onLabel="On"),angular.isUndefined(i.offLabel)&&(i.offLabel="Off"),angular.isUndefined(i.knobLabel)&&(i.knobLabel=" "),angular.isUndefined(i.isDisabled)&&(i.isDisabled=!1),angular.isUndefined(i.html)&&(i.html=!1),angular.isUndefined(i.tabindex)&&(i.tabindex=0),function(t,n,o,s){n.attr("tabindex",i.tabindex),t.toggle=function(){t.isDisabled||(t.model=!t.model,s.$setViewValue(t.model)),t.onChange()};t.onKeyPress=function(e){32!=e.charCode||e.altKey||e.ctrlKey||e.metaKey||t.toggle()},s.$formatters.push(function(e){return e}),s.$parsers.push(function(e){return e}),s.$viewChangeListeners.push(function(){t.$eval(i.ngChange)}),s.$render=function(){t.model=s.$viewValue};var a=function(i,n){angular.forEach(i[0].children[0].children,function(i,o){!function(i,n){i=angular.element(i);var o=!0===n?"ng-bind-html":"ng-bind";i.removeAttr("ng-bind-html"),i.removeAttr("ng-bind"),angular.element(i).hasClass("switch-left")&&i.attr(o,"onLabel"),i.hasClass("knob")&&i.attr(o,"knobLabel"),i.hasClass("switch-right")&&i.attr(o,"offLabel"),e(i)(t,function(e,t){i.replaceWith(e)})}(i,n)})};t.$watch("html",function(e){a(n,e)})}}}}]),function(e,t){"use strict";var i="asc",n="desc",o="_ng_field_",s="_ng_depth_",a="_ng_hidden_",r="_ng_column_",l=/CUSTOM_FILTERS/g,c=/COL_FIELD/g,u=/DISPLAY_CELL_TEMPLATE/g,d=/EDITABLE_CELL_TEMPLATE/g,h=/CELL_EDITABLE_CONDITION/g,p=/<.+>/,f=/(\([^)]*\))?$/,g=/\./g,m=/'/g,v=/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/;e.ngGrid={},e.ngGrid.i18n={},angular.module("ngGrid.services",[]);var b=angular.module("ngGrid.directives",[]),y=angular.module("ngGrid.filters",[]);angular.module("ngGrid",["ngGrid.services","ngGrid.directives","ngGrid.filters"]);var w=function(e,t,i,n){if(void 0===e.selectionProvider.selectedItems||n.config.noKeyboardNavigation)return!0;if("INPUT"===document.activeElement.tagName)return!0;var o,s,a=i.which||i.keyCode,r=!1,l=!1,c=void 0===e.selectionProvider.lastClickedRow?1:e.selectionProvider.lastClickedRow.rowIndex,u=e.columns.filter(function(e){return e.visible&&e.width>0}),d=e.columns.filter(function(e){return e.pinned});if(e.col&&(o=u.indexOf(e.col)),37!==a&&38!==a&&39!==a&&40!==a&&(n.config.noTabInterference||9!==a)&&13!==a)return!0;if(e.enableCellSelection){9===a&&i.preventDefault();var h=e.showSelectionCheckbox?1===o:0===o,p=1===o||0===o,f=o===u.length-1||o===u.length-2,g=u.indexOf(e.col)===u.length-1,m=d.indexOf(e.col)===d.length-1;if(37===a||9===a&&i.shiftKey){var v=0;h||(o-=1),p?h&&9===a&&i.shiftKey?(v=n.$canvas.width(),o=u.length-1,l=!0):v=n.$viewport.scrollLeft()-e.col.width:d.length>0&&(v=n.$viewport.scrollLeft()-u[o].width),n.$viewport.scrollLeft(v)}else(39===a||9===a&&!i.shiftKey)&&(f?g&&9===a&&!i.shiftKey?(n.$viewport.scrollLeft(0),o=e.showSelectionCheckbox?1:0,r=!0):n.$viewport.scrollLeft(n.$viewport.scrollLeft()+e.col.width):m&&n.$viewport.scrollLeft(0),g||(o+=1))}s=e.configGroups.length>0?n.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):n.filteredRows;var b=0;if(0!==c&&(38===a||13===a&&i.shiftKey||9===a&&i.shiftKey&&l)?b=-1:c!==s.length-1&&(40===a||13===a&&!i.shiftKey||9===a&&r)&&(b=1),b){var y=s[c+b];y.beforeSelectionChange(y,i)&&(y.continueSelection(i),e.$emit("ngGridEventDigestGridParent"),e.selectionProvider.lastClickedRow.renderedRowIndex>=e.renderedRows.length-6-2?n.$viewport.scrollTop(n.$viewport.scrollTop()+e.rowHeight):8>=e.selectionProvider.lastClickedRow.renderedRowIndex&&n.$viewport.scrollTop(n.$viewport.scrollTop()-e.rowHeight))}return e.enableCellSelection&&setTimeout(function(){e.domAccessProvider.focusCellElement(e,e.renderedColumns.indexOf(u[o]))},3),!1};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for(0>(i=0>i?Math.ceil(i):Math.floor(i))&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=[],o=arguments[1],s=0;i>s;s++)if(s in t){var a=t[s];e.call(o,a,s,t)&&n.push(a)}return n}),y.filter("checkmark",function(){return function(e){return e?"✔":"✘"}}),y.filter("ngColumns",function(){return function(e){return e.filter(function(e){return!e.isAggCol})}}),angular.module("ngGrid.services").factory("$domUtilityService",["$utilityService","$window",function(e,i){var n={},o={};return n.eventStorage={},n.AssignGridContainers=function(e,i,o){o.$root=t(i),o.$topPanel=o.$root.find(".ngTopPanel"),o.$groupPanel=o.$root.find(".ngGroupPanel"),o.$headerContainer=o.$topPanel.find(".ngHeaderContainer"),e.$headerContainer=o.$headerContainer,o.$headerScroller=o.$topPanel.find(".ngHeaderScroller"),o.$headers=o.$headerScroller.children(),o.$viewport=o.$root.find(".ngViewport"),o.$canvas=o.$viewport.find(".ngCanvas"),o.$footerPanel=o.$root.find(".ngFooterPanel");var s=e.$watch(function(){return o.$viewport.scrollLeft()},function(e){return o.$headerContainer.scrollLeft(e)});e.$on("$destroy",function(){o.$root&&(t(o.$root.parent()).off("resize.nggrid"),o.$root=null,o.$topPanel=null,o.$headerContainer=null,o.$headers=null,o.$canvas=null,o.$footerPanel=null),s()}),n.UpdateGridLayout(e,o)},n.getRealWidth=function(e){var i=0,n=e.parents().andSelf().not(":visible");return t.swap(n[0],{visibility:"hidden",display:"block"},function(){i=e.outerWidth()}),i},n.UpdateGridLayout=function(e,t){if(t.$root){var i=t.$viewport.scrollTop();t.elementDims.rootMaxW=t.$root.width(),t.$root.is(":hidden")&&(t.elementDims.rootMaxW=n.getRealWidth(t.$root)),t.elementDims.rootMaxH=t.$root.height(),t.refreshDomSizes(),e.adjustScrollTop(i,!0)}},n.numberOfGrids=0,n.setStyleText=function(e,t){var n=e.styleSheet,o=e.gridId,s=i.document;n||(n=s.getElementById(o)),n||((n=s.createElement("style")).type="text/css",n.id=o,(s.head||s.getElementsByTagName("head")[0]).appendChild(n)),n.styleSheet&&!n.sheet?n.styleSheet.cssText=t:n.innerHTML=t,e.styleSheet=n,e.styleText=t},n.BuildStyles=function(e,t,i){var o,s=t.config.rowHeight,a=t.gridId,r=e.columns,l=0,c=e.totalRowWidth();o="."+a+" .ngCanvas { width: "+c+"px; }."+a+" .ngRow { width: "+c+"px; }."+a+" .ngCanvas { width: "+c+"px; }."+a+" .ngHeaderScroller { width: "+(c+n.ScrollH)+"px}";for(var u=0;r.length>u;u++){var d=r[u];if(!1!==d.visible){var h=0;u===r.length-1&&l+d.width<t.elementDims.rootMaxW&&(h=t.elementDims.rootMaxW-l-d.width),o+="."+a+" .col"+u+" { width: "+(d.width+h)+"px; left: "+l+"px; height: "+s+"px }."+a+" .colt"+u+" { width: "+(d.width+h)+"px; }",l+=d.width}}n.setStyleText(t,o),e.adjustScrollLeft(t.$viewport.scrollLeft()),i&&n.digest(e)},n.setColLeft=function(e,t,i){if(i.styleText){var s=o[e.index];s||(s=o[e.index]=RegExp(".col"+e.index+" { width: [0-9]+px; left: [0-9]+px"));var a=i.styleText.replace(s,".col"+e.index+" { width: "+e.width+"px; left: "+t+"px");n.setStyleText(i,a)}},n.setColLeft.immediate=1,n.RebuildGrid=function(e,t){n.UpdateGridLayout(e,t),(null==t.config.maintainColumnRatios||t.config.maintainColumnRatios)&&t.configureColumnWidths(),e.adjustScrollLeft(t.$viewport.scrollLeft()),n.BuildStyles(e,t,!0)},n.digest=function(e){e.$root.$$phase||e.$digest()},n.ScrollH=17,n.ScrollW=17,n.LetterW=10,function(){var e=t("<div></div>");e.appendTo("body"),e.height(100).width(100).css("position","absolute").css("overflow","scroll"),e.append('<div style="height: 400px; width: 400px;"></div>'),n.ScrollH=e.height()-e[0].clientHeight,n.ScrollW=e.width()-e[0].clientWidth,e.empty(),e.attr("style",""),e.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M</strong></span>'),n.LetterW=e.children().first().width(),e.remove()}(),n}]),angular.module("ngGrid.services").factory("$sortService",["$parse","$utilityService",function(e,t){var n={colSortFnCache:{},isCustomSort:!1,guessSortFn:function(e){switch(typeof e){case"number":return n.sortNumber;case"boolean":return n.sortBool;case"string":return e.match(/^[-+]?[£$¤]?[\d,.]+%?$/)?n.sortNumberStr:n.sortAlpha;default:return"[object Date]"===Object.prototype.toString.call(e)?n.sortDate:n.basicSort}},basicSort:function(e,t){return e===t?0:t>e?-1:1},sortNumber:function(e,t){return e-t},sortNumberStr:function(e,t){var i,n,o=!1,s=!1;return i=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(i)&&(o=!0),n=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(n)&&(s=!0),o&&s?0:o?1:s?-1:i-n},sortAlpha:function(e,t){var i=e.toLowerCase(),n=t.toLowerCase();return i===n?0:n>i?-1:1},sortDate:function(e,t){var i=e.getTime(),n=t.getTime();return i===n?0:n>i?-1:1},sortBool:function(e,t){return e&&t?0:e||t?e?1:-1:0},sortData:function(e,o){if(o&&e){var s,a,r=e.fields.length,l=e.fields,c=o.slice(0);o.sort(function(o,u){for(var d,h,p=0,f=0;0===p&&r>f;){s=e.columns[f],a=e.directions[f],h=n.getSortFn(s,c);var g=t.evalProperty(o,l[f]),m=t.evalProperty(u,l[f]);n.isCustomSort?(d=h(g,m),p=a===i?d:0-d):null==g||null==m?null==m&&null==g?p=0:null==g?p=1:null==m&&(p=-1):(d=h(g,m),p=a===i?d:0-d),f++}return p})}},Sort:function(e,t){n.isSorting||(n.isSorting=!0,n.sortData(e,t),n.isSorting=!1)},getSortFn:function(t,i){var o,s;if(n.colSortFnCache[t.field])o=n.colSortFnCache[t.field];else if(void 0!==t.sortingAlgorithm)o=t.sortingAlgorithm,n.colSortFnCache[t.field]=t.sortingAlgorithm,n.isCustomSort=!0;else{if(!(s=i[0]))return o;(o=n.guessSortFn(e("entity['"+t.field.replace(g,"']['")+"']")({entity:s})))?n.colSortFnCache[t.field]=o:o=n.sortAlpha}return o}};return n}]),angular.module("ngGrid.services").factory("$utilityService",["$parse",function(i){var n=/function (.{1,})\(/;return{visualLength:function(e){var i=document.getElementById("testDataLength");i||((i=document.createElement("SPAN")).id="testDataLength",i.style.visibility="hidden",document.body.appendChild(i));var n=t(e);t(i).css({font:n.css("font"),"font-size":n.css("font-size"),"font-family":n.css("font-family")}),i.innerHTML=n.text();var o=i.offsetWidth;return document.body.removeChild(i),o},forIn:function(e,t){for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)},endsWith:function(e,t){return!(!e||!t||"string"!=typeof e)&&-1!==e.indexOf(t,e.length-t.length)},isNullOrUndefined:function(e){return void 0===e||null===e},getElementsByClassName:function(e){if(document.getElementsByClassName)return document.getElementsByClassName(e);for(var t=[],i=RegExp("\\b"+e+"\\b"),n=document.getElementsByTagName("*"),o=0;n.length>o;o++){var s=n[o].className;i.test(s)&&t.push(n[o])}return t},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),seti18n:function(t,i){var n=e.ngGrid.i18n[i];for(var o in n)t.i18n[o]=n[o]},getInstanceType:function(e){var t=n.exec(""+e.constructor);return t&&t.length>1?t[1].replace(/^\s+|\s+$/g,""):""},init:function(){function e(t){var i=v.exec(t);if(i)return(i[1]?e(i[1]):i[1])+i[2]+(i[3]?e(i[3]):i[3]);var n=(t=t.replace(m,"\\'")).split(g),o=[n.shift()];return angular.forEach(n,function(e){o.push(e.replace(f,"']$1"))}),o.join("['")}return this.preEval=e,this.evalProperty=function(t,n){return i(e("entity."+n))({entity:t})},delete this.init,this}}.init()}]);var x=function(e,t,i,n){this.rowIndex=0,this.offsetTop=this.rowIndex*i,this.entity=e,this.label=e.gLabel,this.field=e.gField,this.depth=e.gDepth,this.parent=e.parent,this.children=e.children,this.aggChildren=e.aggChildren,this.aggIndex=e.aggIndex,this.collapsed=n,this.groupInitState=n,this.rowFactory=t,this.rowHeight=i,this.isAggRow=!0,this.offsetLeft=25*e.gDepth,this.aggLabelFilter=e.aggLabelFilter};x.prototype.toggleExpand=function(){this.collapsed=!this.collapsed,this.orig&&(this.orig.collapsed=this.collapsed),this.notifyChildren()},x.prototype.setExpand=function(e){this.collapsed=e,this.orig&&(this.orig.collapsed=e),this.notifyChildren()},x.prototype.notifyChildren=function(){for(var e=Math.max(this.rowFactory.aggCache.length,this.children.length),t=0;e>t;t++)if(this.aggChildren[t]&&(this.aggChildren[t].entity[a]=this.collapsed,this.collapsed&&this.aggChildren[t].setExpand(this.collapsed)),this.children[t]&&(this.children[t][a]=this.collapsed),t>this.aggIndex&&this.rowFactory.aggCache[t]){var i=this.rowFactory.aggCache[t],n=30*this.children.length;i.offsetTop=this.collapsed?i.offsetTop-n:i.offsetTop+n}this.rowFactory.renderedChange()},x.prototype.aggClass=function(){return this.collapsed?"ngAggArrowCollapsed":"ngAggArrowExpanded"},x.prototype.totalChildren=function(){if(this.aggChildren.length>0){var e=0,t=function(i){i.aggChildren.length>0?angular.forEach(i.aggChildren,function(e){t(e)}):e+=i.children.length};return t(this),e}return this.children.length},x.prototype.copy=function(){var e=new x(this.entity,this.rowFactory,this.rowHeight,this.groupInitState);return e.orig=this,e};var C=function(e,o,s,a,r,c){var u=this,d=e.colDef,h=0,f=null;u.colDef=e.colDef,u.width=d.width,u.groupIndex=0,u.isGroupedBy=!1,u.minWidth=d.minWidth?d.minWidth:50,u.maxWidth=d.maxWidth?d.maxWidth:9e3,u.enableCellEdit=void 0!==d.enableCellEdit?d.enableCellEdit:e.enableCellEdit||e.enableCellEditOnFocus,u.cellEditableCondition=d.cellEditableCondition||e.cellEditableCondition||"true",u.headerRowHeight=e.headerRowHeight,u.displayName=void 0===d.displayName?d.field:d.displayName,u.index=e.index,u.isAggCol=e.isAggCol,u.cellClass=d.cellClass,u.sortPriority=void 0,u.cellFilter=d.cellFilter?d.cellFilter:"",u.field=d.field,u.aggLabelFilter=d.aggLabelFilter||d.cellFilter,u.visible=c.isNullOrUndefined(d.visible)||d.visible,u.sortable=!1,u.resizable=!1,u.pinnable=!1,u.pinned=e.enablePinning&&d.pinned,u.originalIndex=null==e.originalIndex?u.index:e.originalIndex,u.groupable=c.isNullOrUndefined(d.groupable)||d.groupable,e.enableSort&&(u.sortable=c.isNullOrUndefined(d.sortable)||d.sortable),e.enableResize&&(u.resizable=c.isNullOrUndefined(d.resizable)||d.resizable),e.enablePinning&&(u.pinnable=c.isNullOrUndefined(d.pinnable)||d.pinnable),u.sortDirection=void 0,u.sortingAlgorithm=d.sortFn,u.headerClass=d.headerClass,u.cursor=u.sortable?"pointer":"default",u.headerCellTemplate=d.headerCellTemplate||r.get("headerCellTemplate.html"),u.cellTemplate=d.cellTemplate||r.get("cellTemplate.html").replace(l,u.cellFilter?"|"+u.cellFilter:""),u.enableCellEdit&&(u.cellEditTemplate=d.cellEditTemplate||r.get("cellEditTemplate.html"),u.editableCellTemplate=d.editableCellTemplate||r.get("editableCellTemplate.html")),d.cellTemplate&&!p.test(d.cellTemplate)&&(u.cellTemplate=r.get(d.cellTemplate)||t.ajax({type:"GET",url:d.cellTemplate,async:!1}).responseText),u.enableCellEdit&&d.editableCellTemplate&&!p.test(d.editableCellTemplate)&&(u.editableCellTemplate=r.get(d.editableCellTemplate)||t.ajax({type:"GET",url:d.editableCellTemplate,async:!1}).responseText),d.headerCellTemplate&&!p.test(d.headerCellTemplate)&&(u.headerCellTemplate=r.get(d.headerCellTemplate)||t.ajax({type:"GET",url:d.headerCellTemplate,async:!1}).responseText),u.colIndex=function(){var e=u.pinned?"pinned ":"";return e+="col"+u.index+" colt"+u.index,u.cellClass&&(e+=" "+u.cellClass),e},u.groupedByClass=function(){return u.isGroupedBy?"ngGroupedByIcon":"ngGroupIcon"},u.toggleVisible=function(){u.visible=!u.visible},u.showSortButtonUp=function(){return u.sortable?u.sortDirection===n:u.sortable},u.showSortButtonDown=function(){return u.sortable?u.sortDirection===i:u.sortable},u.noSortVisible=function(){return!u.sortDirection},u.sort=function(t){if(!u.sortable)return!0;var o=u.sortDirection===i?n:i;return u.sortDirection=o,e.sortCallback(u,t),!1},u.gripClick=function(){1===++h?f=setTimeout(function(){h=0},500):(clearTimeout(f),e.resizeOnDataCallback(u),h=0)},u.gripOnMouseDown=function(e){return o.isColumnResizing=!0,e.ctrlKey&&!u.pinned?(u.toggleVisible(),a.BuildStyles(o,s),!0):(e.target.parentElement.style.cursor="col-resize",u.startMousePosition=e.clientX,u.origWidth=u.width,t(document).mousemove(u.onMouseMove),t(document).mouseup(u.gripOnMouseUp),!1)},u.onMouseMove=function(e){var t=e.clientX-u.startMousePosition+u.origWidth;return u.width=u.minWidth>t?u.minWidth:t>u.maxWidth?u.maxWidth:t,o.hasUserChangedGridColumnWidths=!0,a.BuildStyles(o,s),!1},u.gripOnMouseUp=function(e){return t(document).off("mousemove",u.onMouseMove),t(document).off("mouseup",u.gripOnMouseUp),e.target.parentElement.style.cursor="default",a.digest(o),o.isColumnResizing=!1,!1},u.copy=function(){var t=new C(e,o,s,a,r,c);return t.isClone=!0,t.orig=u,t},u.setVars=function(e){u.orig=e,u.width=e.width,u.groupIndex=e.groupIndex,u.isGroupedBy=e.isGroupedBy,u.displayName=e.displayName,u.index=e.index,u.isAggCol=e.isAggCol,u.cellClass=e.cellClass,u.cellFilter=e.cellFilter,u.field=e.field,u.aggLabelFilter=e.aggLabelFilter,u.visible=e.visible,u.sortable=e.sortable,u.resizable=e.resizable,u.pinnable=e.pinnable,u.pinned=e.pinned,u.originalIndex=e.originalIndex,u.sortDirection=e.sortDirection,u.sortingAlgorithm=e.sortingAlgorithm,u.headerClass=e.headerClass,u.headerCellTemplate=e.headerCellTemplate,u.cellTemplate=e.cellTemplate,u.cellEditTemplate=e.cellEditTemplate}},k=function(e){this.outerHeight=null,this.outerWidth=null,t.extend(this,e)},$=function(e){this.previousColumn=null,this.grid=e};$.prototype.changeUserSelect=function(e,t){e.css({"-webkit-touch-callout":t,"-webkit-user-select":t,"-khtml-user-select":t,"-moz-user-select":"none"===t?"-moz-none":t,"-ms-user-select":t,"user-select":t})},$.prototype.focusCellElement=function(e,t){if(e.selectionProvider.lastClickedRow){var i=void 0!==t?t:this.previousColumn,n=e.selectionProvider.lastClickedRow.clone?e.selectionProvider.lastClickedRow.clone.elm:e.selectionProvider.lastClickedRow.elm;if(void 0!==i&&n){var o=angular.element(n[0].children).filter(function(){return 8!==this.nodeType}),s=Math.max(Math.min(e.renderedColumns.length-1,i),0);this.grid.config.showSelectionCheckbox&&angular.element(o[s]).scope()&&0===angular.element(o[s]).scope().col.index&&(s=1),o[s]&&o[s].children[1].children[0].focus(),this.previousColumn=i}}},$.prototype.selectionHandlers=function(e,t){function i(i){if(16===i.keyCode)return s.changeUserSelect(t,"none",i),!0;if(!o){o=!0;var n=w(e,t,i,s.grid);return o=!1,n}return!0}function n(e){return 16===e.keyCode&&s.changeUserSelect(t,"text",e),!0}var o=!1,s=this;t.bind("keydown",i),t.bind("keyup",n),t.on("$destroy",function(){t.off("keydown",i),t.off("keyup",n)})};var T=function(i,n,o,s){var a=this;a.colToMove=void 0,a.groupToMove=void 0,a.assignEvents=function(){i.config.jqueryUIDraggable&&!i.config.enablePinning?(i.$groupPanel.droppable({addClasses:!1,drop:function(e){a.onGroupDrop(e)}}),i.$groupPanel.on("$destroy",function(){i.$groupPanel=null})):(i.$groupPanel.on("mousedown",a.onGroupMouseDown).on("dragover",a.dragOver).on("drop",a.onGroupDrop),i.$topPanel.on("mousedown",".ngHeaderScroller",a.onHeaderMouseDown).on("dragover",".ngHeaderScroller",a.dragOver),i.$groupPanel.on("$destroy",function(){i.$groupPanel&&i.$groupPanel.off("mousedown"),i.$groupPanel=null}),i.config.enableColumnReordering&&i.$topPanel.on("drop",".ngHeaderScroller",a.onHeaderDrop),i.$topPanel.on("$destroy",function(){i.$topPanel&&i.$topPanel.off("mousedown"),i.config.enableColumnReordering&&i.$topPanel&&i.$topPanel.off("drop"),i.$topPanel=null})),n.$on("$destroy",n.$watch("renderedColumns",function(){s(a.setDraggables)}))},a.dragStart=function(e){e.dataTransfer.setData("text","")},a.dragOver=function(e){e.preventDefault()},a.setDraggables=function(){if(i.config.jqueryUIDraggable)i.$root&&i.$root.find(".ngHeaderSortColumn").draggable({helper:"clone",appendTo:"body",stack:"div",addClasses:!1,start:function(e){a.onHeaderMouseDown(e)}}).droppable({drop:function(e){a.onHeaderDrop(e)}});else if(i.$root){var e=i.$root.find(".ngHeaderSortColumn");if(angular.forEach(e,function(e){e.className&&-1!==e.className.indexOf("ngHeaderSortColumn")&&(e.setAttribute("draggable","true"),e.addEventListener&&(e.addEventListener("dragstart",a.dragStart),angular.element(e).on("$destroy",function(){angular.element(e).off("dragstart",a.dragStart),e.removeEventListener("dragstart",a.dragStart)})))}),-1!==navigator.userAgent.indexOf("MSIE")){var t=i.$root.find(".ngHeaderSortColumn");t.bind("selectstart",function(){return this.dragDrop(),!1}),angular.element(t).on("$destroy",function(){t.off("selectstart")})}}},a.onGroupMouseDown=function(e){var n=t(e.target);if("ngRemoveGroup"!==n[0].className){var o=angular.element(n).scope();o&&(i.config.jqueryUIDraggable||(n.attr("draggable","true"),this.addEventListener&&(this.addEventListener("dragstart",a.dragStart),angular.element(this).on("$destroy",function(){this.removeEventListener("dragstart",a.dragStart)})),-1!==navigator.userAgent.indexOf("MSIE")&&(n.bind("selectstart",function(){return this.dragDrop(),!1}),n.on("$destroy",function(){n.off("selectstart")}))),a.groupToMove={header:n,groupName:o.group,index:o.$index})}else a.groupToMove=void 0},a.onGroupDrop=function(e){var o,s;e.stopPropagation(),a.groupToMove?("ngGroupPanel"===(o=t(e.target).closest(".ngGroupElement")).context.className?(n.configGroups.splice(a.groupToMove.index,1),n.configGroups.push(a.groupToMove.groupName)):(s=angular.element(o).scope())&&a.groupToMove.index!==s.$index&&(n.configGroups.splice(a.groupToMove.index,1),n.configGroups.splice(s.$index,0,a.groupToMove.groupName)),a.groupToMove=void 0,i.fixGroupIndexes()):a.colToMove&&(-1===n.configGroups.indexOf(a.colToMove.col)&&("ngGroupPanel"===(o=t(e.target).closest(".ngGroupElement")).context.className||"ngGroupPanelDescription ng-binding"===o.context.className?n.groupBy(a.colToMove.col):(s=angular.element(o).scope())&&n.removeGroup(s.$index)),a.colToMove=void 0),n.$$phase||n.$apply()},a.onHeaderMouseDown=function(e){var i=t(e.target).closest(".ngHeaderSortColumn"),n=angular.element(i).scope();n&&(a.colToMove={header:i,col:n.col})},a.onHeaderDrop=function(e){if(a.colToMove&&!a.colToMove.col.pinned){var s=t(e.target).closest(".ngHeaderSortColumn"),r=angular.element(s).scope();if(r){if(a.colToMove.col===r.col||r.col.pinned)return;n.columns.splice(a.colToMove.col.index,1),n.columns.splice(r.col.index,0,a.colToMove.col),i.fixColumnIndexes(),a.colToMove=void 0,o.digest(n)}}},a.assignGridEventHandlers=function(){-1===i.config.tabIndex?(i.$viewport.attr("tabIndex",o.numberOfGrids),o.numberOfGrids++):i.$viewport.attr("tabIndex",i.config.tabIndex);var s,a=function(){clearTimeout(s),s=setTimeout(function(){o.RebuildGrid(n,i)},100)};t(e).on("resize.nggrid",a);var r;t(i.$root.parent()).on("resize.nggrid",function(){clearTimeout(r),r=setTimeout(function(){o.RebuildGrid(n,i)},100)}),n.$on("$destroy",function(){t(e).off("resize.nggrid",a)})},a.assignGridEventHandlers(),a.assignEvents()},S=function(i,n,o,s,r,l,c,u,d,h,f){var g=this;g.maxCanvasHt=0,g.config=t.extend({aggregateTemplate:void 0,afterSelectionChange:function(){},beforeSelectionChange:function(){return!0},checkboxCellTemplate:void 0,checkboxHeaderTemplate:void 0,columnDefs:void 0,data:[],dataUpdated:function(){},enableCellEdit:!1,enableCellEditOnFocus:!1,enableCellSelection:!1,enableColumnResize:!1,enableColumnReordering:!1,enableColumnHeavyVirt:!1,enablePaging:!1,enablePinning:!1,enableRowSelection:!0,enableSorting:!0,enableHighlighting:!1,excludeProperties:[],filterOptions:{filterText:"",useExternalFilter:!1},footerRowHeight:55,footerTemplate:void 0,forceSyncScrolling:!0,groups:[],groupsCollapsedByDefault:!0,headerRowHeight:30,headerRowTemplate:void 0,jqueryUIDraggable:!1,jqueryUITheme:!1,keepLastSelected:!0,maintainColumnRatios:void 0,menuTemplate:void 0,multiSelect:!0,pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,currentPage:1},pinSelectionCheckbox:!1,plugins:[],primaryKey:void 0,rowHeight:30,rowTemplate:void 0,selectedItems:[],selectionCheckboxColumnWidth:25,selectWithCheckboxOnly:!1,showColumnMenu:!1,showFilter:!1,showFooter:!1,showGroupPanel:!1,showSelectionCheckbox:!1,sortInfo:{fields:[],columns:[],directions:[]},tabIndex:-1,totalServerItems:0,useExternalSorting:!1,i18n:"en",virtualizationThreshold:50,noTabInterference:!1},e.ngGrid.config,n),g.config.showSelectionCheckbox=g.config.showSelectionCheckbox&&!1===g.config.enableColumnHeavyVirt,g.config.enablePinning=g.config.enablePinning&&!1===g.config.enableColumnHeavyVirt,g.config.selectWithCheckboxOnly=g.config.selectWithCheckboxOnly&&!1!==g.config.showSelectionCheckbox,g.config.pinSelectionCheckbox=g.config.enablePinning,"string"==typeof n.columnDefs&&(g.config.columnDefs=i.$eval(n.columnDefs)),g.rowCache=[],g.rowMap=[],g.gridId="ng"+c.newId(),g.$root=null,g.$groupPanel=null,g.$topPanel=null,g.$headerContainer=null,g.$headerScroller=null,g.$headers=null,g.$viewport=null,g.$canvas=null,g.rootDim=g.config.gridDim,g.data=[],g.lateBindColumns=!1,g.filteredRows=[],g.initTemplates=function(){var e=[];return angular.forEach(["rowTemplate","aggregateTemplate","headerRowTemplate","checkboxCellTemplate","checkboxHeaderTemplate","menuTemplate","footerTemplate"],function(t){e.push(g.getTemplate(t))}),f.all(e)},g.getTemplate=function(e){var t=g.config[e],i=g.gridId+e+".html",n=f.defer();if(t&&!p.test(t))h.get(t,{cache:l}).success(function(e){l.put(i,e),n.resolve()}).error(function(){n.reject("Could not load template: "+t)});else if(t)l.put(i,t),n.resolve();else{var o=e+".html";l.put(i,l.get(o)),n.resolve()}return n.promise},"object"==typeof g.config.data&&(g.data=g.config.data),g.calcMaxCanvasHeight=function(){return g.config.groups.length>0?g.rowFactory.parsedData.filter(function(e){return!e[a]}).length*g.config.rowHeight:g.filteredRows.length*g.config.rowHeight},g.elementDims={scrollW:0,scrollH:0,rowIndexCellW:g.config.selectionCheckboxColumnWidth,rowSelectedCellW:g.config.selectionCheckboxColumnWidth,rootMaxW:0,rootMaxH:0},g.setRenderedRows=function(e){i.renderedRows.length=e.length;for(var t=0;e.length>t;t++)!i.renderedRows[t]||e[t].isAggRow||i.renderedRows[t].isAggRow?(i.renderedRows[t]=e[t].copy(),i.renderedRows[t].collapsed=e[t].collapsed,e[t].isAggRow||i.renderedRows[t].setVars(e[t])):i.renderedRows[t].setVars(e[t]),i.renderedRows[t].rowIndex=e[t].rowIndex,i.renderedRows[t].offsetTop=e[t].offsetTop,i.renderedRows[t].selected=e[t].selected,e[t].renderedRowIndex=t;g.refreshDomSizes(),i.$emit("ngGridEventRows",e)},g.minRowsToRender=function(){var e=i.viewportDimHeight()||1;return Math.floor(e/g.config.rowHeight)},g.refreshDomSizes=function(){var e=new k;e.outerWidth=g.elementDims.rootMaxW,e.outerHeight=g.elementDims.rootMaxH,g.rootDim=e,g.maxCanvasHt=g.calcMaxCanvasHeight()},g.buildColumnDefsFromData=function(){g.config.columnDefs=[];var e=g.data[0];return e?void c.forIn(e,function(e,t){-1===g.config.excludeProperties.indexOf(t)&&g.config.columnDefs.push({field:t})}):void(g.lateBoundColumns=!0)},g.buildColumns=function(){var e=g.config.columnDefs,t=[];if(e||(g.buildColumnDefsFromData(),e=g.config.columnDefs),g.config.showSelectionCheckbox&&t.push(new C({colDef:{field:"✔",width:g.elementDims.rowSelectedCellW,sortable:!1,resizable:!1,groupable:!1,headerCellTemplate:l.get(i.gridId+"checkboxHeaderTemplate.html"),cellTemplate:l.get(i.gridId+"checkboxCellTemplate.html"),pinned:g.config.pinSelectionCheckbox},index:0,headerRowHeight:g.config.headerRowHeight,sortCallback:g.sortData,resizeOnDataCallback:g.resizeOnData,enableResize:g.config.enableColumnResize,enableSort:g.config.enableSorting,enablePinning:g.config.enablePinning},i,g,s,l,c)),e.length>0){var n=g.config.showSelectionCheckbox?1:0,o=i.configGroups.length;i.configGroups.length=0,angular.forEach(e,function(e,a){var r=new C({colDef:e,index:(a+=n)+o,originalIndex:a,headerRowHeight:g.config.headerRowHeight,sortCallback:g.sortData,resizeOnDataCallback:g.resizeOnData,enableResize:g.config.enableColumnResize,enableSort:g.config.enableSorting,enablePinning:g.config.enablePinning,enableCellEdit:g.config.enableCellEdit||g.config.enableCellEditOnFocus,cellEditableCondition:g.config.cellEditableCondition},i,g,s,l,c),u=g.config.groups.indexOf(e.field);-1!==u&&(r.isGroupedBy=!0,i.configGroups.splice(u,0,r),r.groupIndex=i.configGroups.length),t.push(r)}),i.columns=t,g.config.groups.length>0&&g.rowFactory.getGrouping(g.config.groups)}},g.configureColumnWidths=function(){var e=[],t=[],n=0,o=0,a={};if(angular.forEach(i.columns,function(e,t){if(c.isNullOrUndefined(e.originalIndex))e.isAggCol&&e.visible&&(o+=25);else{var i=e.originalIndex;g.config.showSelectionCheckbox&&(0===e.originalIndex&&e.visible&&(o+=g.config.selectionCheckboxColumnWidth),i--),a[i]=t}}),angular.forEach(g.config.columnDefs,function(s,r){var l=i.columns[a[r]];s.index=r;var u,d=!1;if(c.isNullOrUndefined(s.width)?s.width="*":u=(d=!!isNaN(s.width)&&c.endsWith(s.width,"%"))?s.width:parseInt(s.width,10),isNaN(u)){if("auto"===(u=s.width)){l.width=l.minWidth,o+=l.width;var h=l;return void i.$on("$destroy",i.$on("ngGridEventData",function(){g.resizeOnData(h)}))}if(-1!==u.indexOf("*"))return!1!==l.visible&&(n+=u.length),void e.push(s);if(d)return void t.push(s);throw'unable to parse column width, use percentage ("10%","20%", etc...) or "*" to use remaining width of grid'}!1!==l.visible&&(o+=l.width=parseInt(l.width,10))}),t.length>0){g.config.maintainColumnRatios=!1!==g.config.maintainColumnRatios;var r=0,l=0;angular.forEach(t,function(e){var t=i.columns[a[e.index]],n=parseFloat(e.width)/100;r+=n,t.visible||(l+=n)});var u=r-l;angular.forEach(t,function(e){var t=i.columns[a[e.index]],n=parseFloat(e.width)/100;n/=l>0?u:r;var s=g.rootDim.outerWidth*r;t.width=s*n,o+=t.width})}if(e.length>0){g.config.maintainColumnRatios=!1!==g.config.maintainColumnRatios;var d=g.rootDim.outerWidth-o;g.maxCanvasHt>i.viewportDimHeight()&&(d-=s.ScrollW);var h=Math.floor(d/n);angular.forEach(e,function(t,n){var r=i.columns[a[t.index]];if(r.width=h*t.width.length,r.width<r.minWidth&&(r.width=r.minWidth),!1!==r.visible&&(o+=r.width),n===e.length-1&&g.rootDim.outerWidth>o){var l=g.rootDim.outerWidth-o;g.maxCanvasHt>i.viewportDimHeight()&&(l-=s.ScrollW),r.width+=l}})}},g.init=function(){return g.initTemplates().then(function(){i.selectionProvider=new _(g,i,d,c),i.domAccessProvider=new $(g),g.rowFactory=new D(g,i,s,l,c),g.searchProvider=new M(i,g,r,c),g.styleProvider=new O(i,g),i.$on("$destroy",i.$watch("configGroups",function(e){var t=[];angular.forEach(e,function(e){t.push(e.field||e)}),g.config.groups=t,g.rowFactory.filteredRowsChanged(),i.$emit("ngGridEventGroups",e)},!0)),i.$on("$destroy",i.$watch("columns",function(e){i.isColumnResizing||s.RebuildGrid(i,g),i.$emit("ngGridEventColumns",e)},!0)),i.$on("$destroy",i.$watch(function(){return n.i18n},function(e){c.seti18n(i,e)})),g.maxCanvasHt=g.calcMaxCanvasHeight(),g.config.sortInfo.fields&&g.config.sortInfo.fields.length>0&&i.$on("$destroy",i.$watch(function(){return g.config.sortInfo},function(){o.isSorting||(g.sortColumnsInit(),i.$emit("ngGridEventSorted",g.config.sortInfo))},!0))})},g.resizeOnData=function(e){var n=e.minWidth,o=c.getElementsByClassName("col"+e.index);angular.forEach(o,function(e,i){var o;if(0===i){var s=t(e).find(".ngHeaderText");o=c.visualLength(s)+10}else{var a=t(e).find(".ngCellText");o=c.visualLength(a)+10}o>n&&(n=o)}),e.width=e.longest=Math.min(e.maxWidth,n+7),s.BuildStyles(i,g,!0)},g.lastSortedColumns=[],g.sortData=function(e,n){if(n&&n.shiftKey&&g.config.sortInfo){var o=g.config.sortInfo.columns.indexOf(e);-1===o?(1===g.config.sortInfo.columns.length&&(g.config.sortInfo.columns[0].sortPriority=1),g.config.sortInfo.columns.push(e),e.sortPriority=g.config.sortInfo.columns.length,g.config.sortInfo.fields.push(e.field),g.config.sortInfo.directions.push(e.sortDirection),g.lastSortedColumns.push(e)):g.config.sortInfo.directions[o]=e.sortDirection,i.$emit("ngGridEventSorted",g.config.sortInfo)}else if(!g.config.useExternalSorting||g.config.useExternalSorting&&g.config.sortInfo){var s=t.isArray(e);g.config.sortInfo.columns.length=0,g.config.sortInfo.fields.length=0,g.config.sortInfo.directions.length=0;var a=function(e){g.config.sortInfo.columns.push(e),g.config.sortInfo.fields.push(e.field),g.config.sortInfo.directions.push(e.sortDirection),g.lastSortedColumns.push(e)};s?angular.forEach(e,function(e,t){e.sortPriority=t+1,a(e)}):(g.clearSortingData(e),e.sortPriority=void 0,a(e)),g.sortActual(),g.searchProvider.evalFilter(),i.$emit("ngGridEventSorted",g.config.sortInfo)}},g.sortColumnsInit=function(){g.config.sortInfo.columns?g.config.sortInfo.columns.length=0:g.config.sortInfo.columns=[];var e=[];angular.forEach(i.columns,function(t){var i=g.config.sortInfo.fields.indexOf(t.field);-1!==i&&(t.sortDirection=g.config.sortInfo.directions[i]||"asc",e[i]=t)}),1===e.length?g.sortData(e[0]):g.sortData(e)},g.sortActual=function(){if(!g.config.useExternalSorting){var e=g.data.slice(0);angular.forEach(e,function(e,t){var i=g.rowMap[t];if(void 0!==i){var n=g.rowCache[i];void 0!==n&&(e.preSortSelected=n.selected,e.preSortIndex=t)}}),o.Sort(g.config.sortInfo,e),angular.forEach(e,function(e,t){g.rowCache[t].entity=e,g.rowCache[t].selected=e.preSortSelected,g.rowMap[e.preSortIndex]=t,delete e.preSortSelected,delete e.preSortIndex})}},g.clearSortingData=function(e){e?(angular.forEach(g.lastSortedColumns,function(t){e.index!==t.index&&(t.sortDirection="",t.sortPriority=null)}),g.lastSortedColumns[0]=e,g.lastSortedColumns.length=1):(angular.forEach(g.lastSortedColumns,function(e){e.sortDirection="",e.sortPriority=null}),g.lastSortedColumns=[])},g.fixColumnIndexes=function(){for(var e=0;i.columns.length>e;e++)i.columns[e].index=e},g.fixGroupIndexes=function(){angular.forEach(i.configGroups,function(e,t){e.groupIndex=t+1})},i.elementsNeedMeasuring=!0,i.columns=[],i.renderedRows=[],i.renderedColumns=[],i.headerRow=null,i.rowHeight=g.config.rowHeight,i.jqueryUITheme=g.config.jqueryUITheme,i.showSelectionCheckbox=g.config.showSelectionCheckbox,i.enableCellSelection=g.config.enableCellSelection,i.enableCellEditOnFocus=g.config.enableCellEditOnFocus,i.footer=null,i.selectedItems=g.config.selectedItems,i.multiSelect=g.config.multiSelect,i.showFooter=g.config.showFooter,i.footerRowHeight=i.showFooter?g.config.footerRowHeight:0,i.showColumnMenu=g.config.showColumnMenu,i.forceSyncScrolling=g.config.forceSyncScrolling,i.showMenu=!1,i.configGroups=[],i.gridId=g.gridId,i.enablePaging=g.config.enablePaging,i.pagingOptions=g.config.pagingOptions,i.i18n={},c.seti18n(i,g.config.i18n),i.adjustScrollLeft=function(e){for(var t=0,n=0,o=i.columns.length,a=[],r=!g.config.enableColumnHeavyVirt,l=0,c=function(e){r?a.push(e):i.renderedColumns[l]?i.renderedColumns[l].setVars(e):i.renderedColumns[l]=e.copy(),l++},u=0;o>u;u++){var d=i.columns[u];if(!1!==d.visible){var h=d.width+t;if(d.pinned){c(d);var p=u>0?e+n:e;s.setColLeft(d,p,g),n+=d.width}else h>=e&&e+g.rootDim.outerWidth>=t&&c(d);t+=d.width}}r&&(i.renderedColumns=a)},g.prevScrollTop=0,g.prevScrollIndex=0,i.adjustScrollTop=function(e,t){if(g.prevScrollTop!==e||t){e>0&&g.$viewport[0].scrollHeight-e<=g.$viewport.outerHeight()&&i.$emit("ngGridEventScroll");var n,o=Math.floor(e/g.config.rowHeight);if(g.filteredRows.length>g.config.virtualizationThreshold){if(e>g.prevScrollTop&&g.prevScrollIndex+4>o)return;if(g.prevScrollTop>e&&o>g.prevScrollIndex-4)return;n=new E(Math.max(0,o-6),o+g.minRowsToRender()+6)}else{var s=i.configGroups.length>0?g.rowFactory.parsedData.length:g.filteredRows.length;n=new E(0,Math.max(s,g.minRowsToRender()+6))}g.prevScrollTop=e,g.rowFactory.UpdateViewableRange(n),g.prevScrollIndex=o}},i.toggleShowMenu=function(){i.showMenu=!i.showMenu},i.toggleSelectAll=function(e,t){i.selectionProvider.toggleSelectAll(e,!1,t)},i.totalFilteredItemsLength=function(){return g.filteredRows.length},i.showGroupPanel=function(){return g.config.showGroupPanel},i.topPanelHeight=function(){return!0===g.config.showGroupPanel?g.config.headerRowHeight+32:g.config.headerRowHeight},i.viewportDimHeight=function(){return Math.max(0,g.rootDim.outerHeight-i.topPanelHeight()-i.footerRowHeight-2)},i.groupBy=function(e){if(!(1>g.data.length)&&e.groupable&&e.field){e.sortDirection||e.sort({shiftKey:i.configGroups.length>0});var t=i.configGroups.indexOf(e);-1===t?(e.isGroupedBy=!0,i.configGroups.push(e),e.groupIndex=i.configGroups.length):i.removeGroup(t),g.$viewport.scrollTop(0),s.digest(i)}},i.removeGroup=function(e){var t=i.columns.filter(function(t){return t.groupIndex===e+1})[0];t.isGroupedBy=!1,t.groupIndex=0,i.columns[e].isAggCol&&(i.columns.splice(e,1),i.configGroups.splice(e,1),g.fixGroupIndexes()),0===i.configGroups.length&&(g.fixColumnIndexes(),s.digest(i)),i.adjustScrollLeft(0)},i.togglePin=function(e){for(var t=e.index,n=0,o=0;i.columns.length>o&&i.columns[o].pinned;o++)n++;e.pinned&&(n=Math.max(e.originalIndex,n-1)),e.pinned=!e.pinned,i.columns.splice(t,1),i.columns.splice(n,0,e),g.fixColumnIndexes(),s.BuildStyles(i,g,!0),g.$viewport.scrollLeft(g.$viewport.scrollLeft()-e.width)},i.totalRowWidth=function(){for(var e=0,t=i.columns,n=0;t.length>n;n++)!1!==t[n].visible&&(e+=t[n].width);return e},i.headerScrollerDim=function(){var e=i.viewportDimHeight(),t=g.maxCanvasHt,n=t>e,o=new k;return o.autoFitHeight=!0,o.outerWidth=i.totalRowWidth(),n?o.outerWidth+=g.elementDims.scrollW:g.elementDims.scrollH>=t-e&&(o.outerWidth+=g.elementDims.scrollW),o}},E=function(e,t){this.topRow=e,this.bottomRow=t},P=function(e,t,i,n,o){this.entity=e,this.config=t,this.selectionProvider=i,this.rowIndex=n,this.utils=o,this.selected=i.getSelection(e),this.cursor=this.config.enableRowSelection&&!this.config.selectWithCheckboxOnly?"pointer":"default",this.beforeSelectionChange=t.beforeSelectionChangeCallback,this.afterSelectionChange=t.afterSelectionChangeCallback,this.offsetTop=this.rowIndex*t.rowHeight,this.rowDisplayIndex=0};P.prototype.setSelection=function(e){this.selectionProvider.setSelection(this,e),this.selectionProvider.lastClickedRow=this},P.prototype.continueSelection=function(e){this.selectionProvider.ChangeSelection(this,e)},P.prototype.ensureEntity=function(e){this.entity!==e&&(this.entity=e,this.selected=this.selectionProvider.getSelection(this.entity))},P.prototype.toggleSelected=function(e){if(!this.config.enableRowSelection&&!this.config.enableCellSelection)return!0;var t=e.target||e;return"checkbox"===t.type&&"ngSelectionCell ng-scope"!==t.parentElement.className||(this.config.selectWithCheckboxOnly&&"checkbox"!==t.type?(this.selectionProvider.lastClickedRow=this,!0):(this.beforeSelectionChange(this,e)&&this.continueSelection(e),!1))},P.prototype.alternatingRowClass=function(){var e=0==this.rowIndex%2;return{ngRow:!0,selected:this.selected,even:e,odd:!e,"ui-state-default":this.config.jqueryUITheme&&e,"ui-state-active":this.config.jqueryUITheme&&!e}},P.prototype.getProperty=function(e){return this.utils.evalProperty(this.entity,e)},P.prototype.copy=function(){return this.clone=new P(this.entity,this.config,this.selectionProvider,this.rowIndex,this.utils),this.clone.isClone=!0,this.clone.elm=this.elm,this.clone.orig=this,this.clone},P.prototype.setVars=function(e){e.clone=this,this.entity=e.entity,this.selected=e.selected,this.orig=e};var D=function(e,t,i,n,l){var c=this;c.aggCache={},c.parentCache=[],c.dataChanged=!0,c.parsedData=[],c.rowConfig={},c.selectionProvider=t.selectionProvider,c.rowHeight=30,c.numberOfAggregates=0,c.groupedData=void 0,c.rowHeight=e.config.rowHeight,c.rowConfig={enableRowSelection:e.config.enableRowSelection,rowClasses:e.config.rowClasses,selectedItems:t.selectedItems,selectWithCheckboxOnly:e.config.selectWithCheckboxOnly,beforeSelectionChangeCallback:e.config.beforeSelectionChange,afterSelectionChangeCallback:e.config.afterSelectionChange,jqueryUITheme:e.config.jqueryUITheme,enableCellSelection:e.config.enableCellSelection,rowHeight:e.config.rowHeight},c.renderedRange=new E(0,e.minRowsToRender()+6),c.buildEntityRow=function(e,t){return new P(e,c.rowConfig,c.selectionProvider,t,l)},c.buildAggregateRow=function(t,i){var n=c.aggCache[t.aggIndex];return n||(n=new x(t,c,c.rowConfig.rowHeight,e.config.groupsCollapsedByDefault),c.aggCache[t.aggIndex]=n),n.rowIndex=i,n.offsetTop=i*c.rowConfig.rowHeight,n},c.UpdateViewableRange=function(e){c.renderedRange=e,c.renderedChange()},c.filteredRowsChanged=function(){e.lateBoundColumns&&e.filteredRows.length>0&&(e.config.columnDefs=void 0,e.buildColumns(),e.lateBoundColumns=!1,t.$evalAsync(function(){t.adjustScrollLeft(0)})),c.dataChanged=!0,e.config.groups.length>0&&c.getGrouping(e.config.groups),c.UpdateViewableRange(c.renderedRange)},c.renderedChange=function(){if(!c.groupedData||1>e.config.groups.length)return c.renderedChangeNoGroups(),void e.refreshDomSizes();c.wasGrouped=!0,c.parentCache=[];var t=0,i=c.parsedData.filter(function(e){return e.isAggRow?!e.parent||!e.parent.collapsed:(e[a]||(e.rowIndex=t++),!e[a])});c.totalRows=i.length;for(var n=[],o=c.renderedRange.topRow;c.renderedRange.bottomRow>o;o++)i[o]&&(i[o].offsetTop=o*e.config.rowHeight,n.push(i[o]));e.setRenderedRows(n)},c.renderedChangeNoGroups=function(){for(var t=[],i=c.renderedRange.topRow;c.renderedRange.bottomRow>i;i++)e.filteredRows[i]&&(e.filteredRows[i].rowIndex=i,e.filteredRows[i].offsetTop=i*e.config.rowHeight,t.push(e.filteredRows[i]));e.setRenderedRows(t)},c.fixRowCache=function(){var t=e.data.length;if(0>t-e.rowCache.length)e.rowCache.length=e.rowMap.length=t;else for(var i=e.rowCache.length;t>i;i++)e.rowCache[i]=e.rowFactory.buildEntityRow(e.data[i],i)},c.parseGroupData=function(e){if(e.values)for(var t=0;e.values.length>t;t++)c.parentCache[c.parentCache.length-1].children.push(e.values[t]),c.parsedData.push(e.values[t]);else for(var i in e)if(i!==o&&i!==s&&i!==r&&e.hasOwnProperty(i)){var n=c.buildAggregateRow({gField:e[o],gLabel:i,gDepth:e[s],isAggRow:!0,_ng_hidden_:!1,children:[],aggChildren:[],aggIndex:c.numberOfAggregates,aggLabelFilter:e[r].aggLabelFilter},0);c.numberOfAggregates++,n.parent=c.parentCache[n.depth-1],n.parent&&(n.parent.collapsed=!1,n.parent.aggChildren.push(n)),c.parsedData.push(n),c.parentCache[n.depth]=n,c.parseGroupData(e[i])}},c.getGrouping=function(u){function d(e,t){return e.filter(function(e){return e.field===t})}c.aggCache=[],c.numberOfAggregates=0,c.groupedData={};for(var h=e.filteredRows,p=u.length,f=t.columns,g=0;h.length>g;g++){var m=h[g].entity;if(!m)return;h[g][a]=e.config.groupsCollapsedByDefault;for(var v=c.groupedData,b=0;u.length>b;b++){var y=u[b],w=d(f,y)[0],x=l.evalProperty(m,y);v[x=""===x||null===x?"null":""+x]||(v[x]={}),v[o]||(v[o]=y),v[s]||(v[s]=b),v[r]||(v[r]=w),v=v[x]}v.values||(v.values=[]),v.values.push(h[g])}if(f.length>0)for(var k=0;u.length>k;k++)!f[k].isAggCol&&p>=k&&f.splice(0,0,new C({colDef:{field:"",width:25,sortable:!1,resizable:!1,headerCellTemplate:'<div class="ngAggHeader"></div>',pinned:e.config.pinSelectionCheckbox},enablePinning:e.config.enablePinning,isAggCol:!0,headerRowHeight:e.config.headerRowHeight},t,e,i,n,l));e.fixColumnIndexes(),t.adjustScrollLeft(0),c.parsedData.length=0,c.parseGroupData(c.groupedData),c.fixRowCache()},e.config.groups.length>0&&e.filteredRows.length>0&&c.getGrouping(e.config.groups)},M=function(e,i,n,o){var s=this,a=[];s.extFilter=i.config.filterOptions.useExternalFilter,e.showFilter=i.config.showFilter,e.filterText="",s.fieldMap={};var r=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i.toLowerCase()]=e[i]);return t},l=function(e){if("object"==typeof e){var t=[];for(var i in e)t=t.concat(l(e[i]));return t}return[e]},c=function(e,t,i){var o;for(var s in t)if(t.hasOwnProperty(s)){var a=i[s.toLowerCase()],l=t[s];if("object"!=typeof l||l instanceof Date){var u=null,d=null;if(a&&a.cellFilter&&(d=a.cellFilter.split(":"),u=n(d[0])),null!==l&&void 0!==l){if("function"==typeof u){var h=""+u(l,d[1]?d[1].slice(1,-1):"");o=e.regex.test(h)}else o=e.regex.test(""+l);if(o)return!0}}else{var p=r(a);if(o=c(e,l,p))return!0}}return!1},u=function(e,t){var i,a=s.fieldMap[e.columnDisplay];if(!a)return!1;var r=a.cellFilter.split(":"),c=a.cellFilter?n(r[0]):null,u=t[e.column]||t[a.field.split(".")[0]]||o.evalProperty(t,a.field);if(null===u||void 0===u)return!1;if("function"==typeof c){var h=""+c("object"==typeof u?d(u,a.field):u,r[1]);i=e.regex.test(h)}else{var p=l(d(u,a.field));for(var f in p)i|=e.regex.test(p[f])}return!!i};s.evalFilter=function(){i.filteredRows=0===a.length?i.rowCache:i.rowCache.filter(function(e){return function(e){for(var t=0,i=a.length;i>t;t++){var n=a[t];if(!(n.column?u(n,e):c(n,e,s.fieldMap)))return!1}return!0}(e.entity)});for(var e=0;i.filteredRows.length>e;e++)i.filteredRows[e].rowIndex=e;i.rowFactory.filteredRowsChanged()};var d=function(e,t){if("object"!=typeof e||"string"!=typeof t)return e;var i=t.split("."),n=e;if(i.length>1){for(var o=1,s=i.length;s>o;o++)if(!(n=n[i[o]]))return e;return n}return e},h=function(e,t){try{return RegExp(e,t)}catch(t){return RegExp(e.replace(/(\^|\$|\(|\)|<|>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"))}},p=function(e){var i;if(a=[],i=t.trim(e))for(var n=i.split(";"),o=0;n.length>o;o++){var s=n[o].split(":");if(s.length>1){var r=t.trim(s[0]),l=t.trim(s[1]);r&&l&&a.push({column:r,columnDisplay:r.replace(/\s+/g,"").toLowerCase(),regex:h(l,"i")})}else{var c=t.trim(s[0]);c&&a.push({column:"",regex:h(c,"i")})}}};s.extFilter||e.$on("$destroy",e.$watch("columns",function(e){for(var t=0;e.length>t;t++){var i=e[t];if(i.field)if(i.field.match(/\./g)){for(var n=i.field.split("."),o=s.fieldMap,a=0;n.length-1>a;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];o[n[n.length-1]]=i}else s.fieldMap[i.field.toLowerCase()]=i;i.displayName&&(s.fieldMap[i.displayName.toLowerCase().replace(/\s+/g,"")]=i)}})),e.$on("$destroy",e.$watch(function(){return i.config.filterOptions.filterText},function(t){e.filterText=t})),e.$on("$destroy",e.$watch("filterText",function(t){s.extFilter||(e.$emit("ngGridEventFilter",t),p(t),s.evalFilter())}))},_=function(e,t,i,n){var o=this;o.multi=e.config.multiSelect,o.selectedItems=e.config.selectedItems,o.selectedIndex=e.config.selectedIndex,o.lastClickedRow=void 0,o.ignoreSelectedItemChanges=!1;var s=e.config.primaryKey;s&&(s=n.preEval("entity."+e.config.primaryKey)),o.pKeyParser=i(s),o.ChangeSelection=function(i,n){var s=n.which||n.keyCode,a=40===s||38===s;if(n&&n.shiftKey&&!n.keyCode&&o.multi&&e.config.enableRowSelection){if(o.lastClickedRow){var r;r=t.configGroups.length>0?e.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):e.filteredRows;var l=i.rowIndex,c=o.lastClickedRowIndex;if(l===c)return!1;c>l?(l^=c,l^=c^=l,l--):c++;for(var u=[];l>=c;c++)u.push(r[c]);if(u[u.length-1].beforeSelectionChange(u,n)){for(var d=0;u.length>d;d++){var h=u[d],p=h.selected;h.selected=!p,h.clone&&(h.clone.selected=h.selected);var f=o.selectedItems.indexOf(h.entity);-1===f?o.selectedItems.push(h.entity):o.selectedItems.splice(f,1)}u[u.length-1].afterSelectionChange(u,n)}return o.lastClickedRow=i,o.lastClickedRowIndex=i.rowIndex,!0}}else o.multi?(!n.keyCode||a&&!e.config.selectWithCheckboxOnly)&&o.setSelection(i,!i.selected):o.lastClickedRow===i?o.setSelection(o.lastClickedRow,!!e.config.keepLastSelected||!i.selected):(o.lastClickedRow&&o.setSelection(o.lastClickedRow,!1),o.setSelection(i,!i.selected));return o.lastClickedRow=i,o.lastClickedRowIndex=i.rowIndex,!0},o.getSelection=function(e){return-1!==o.getSelectionIndex(e)},o.getSelectionIndex=function(t){var i=-1;if(e.config.primaryKey){var n=o.pKeyParser({entity:t});angular.forEach(o.selectedItems,function(e,t){n===o.pKeyParser({entity:e})&&(i=t)})}else i=o.selectedItems.indexOf(t);return i},o.setSelection=function(t,i){if(e.config.enableRowSelection){if(i)-1===o.getSelectionIndex(t.entity)&&(!o.multi&&o.selectedItems.length>0&&o.toggleSelectAll(!1,!0),o.selectedItems.push(t.entity));else{var n=o.getSelectionIndex(t.entity);-1!==n&&o.selectedItems.splice(n,1)}t.selected=i,t.orig&&(t.orig.selected=i),t.clone&&(t.clone.selected=i),t.afterSelectionChange(t)}},o.toggleSelectAll=function(t,i,n){var s,a,r=n?e.filteredRows:e.rowCache;if(i||e.config.beforeSelectionChange(r,t)){!n&&o.selectedItems.length>0&&(o.selectedItems.length=0);for(var l=0;r.length>l;l++)s=r[l].selected,r[l].selected=t,r[l].clone&&(r[l].clone.selected=t),!s&&t?o.selectedItems.push(r[l].entity):s&&!t&&((a=o.getSelectionIndex(r[l].entity))>-1&&o.selectedItems.splice(a,1));i||e.config.afterSelectionChange(r,t)}}},O=function(e,t){e.headerCellStyle=function(e){return{height:e.headerRowHeight+"px"}},e.rowStyle=function(t){var i={top:t.offsetTop+"px",height:e.rowHeight+"px"};return t.isAggRow&&(i.left=t.offsetLeft),i},e.canvasStyle=function(){return{height:t.maxCanvasHt+"px"}},e.headerScrollerStyle=function(){return{height:t.config.headerRowHeight+"px"}},e.topPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.topPanelHeight()+"px"}},e.headerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:t.config.headerRowHeight+"px"}},e.groupPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:"32px"}},e.viewportStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.viewportDimHeight()+"px"}},e.footerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.footerRowHeight+"px"}}};b.directive("ngCellHasFocus",["$domUtilityService",function(e){var t=function(t){t.isFocused=!0,e.digest(t),t.$broadcast("ngGridEventStartCellEdit"),t.$emit("ngGridEventStartCellEdit"),t.$on("$destroy",t.$on("ngGridEventEndCellEdit",function(){t.isFocused=!1,e.digest(t)}))};return function(e,i){function n(){return e.enableCellEditOnFocus?c=!0:i.focus(),!0}function o(n){e.enableCellEditOnFocus&&(n.preventDefault(),c=!1,t(e,i))}function s(){return l=!0,e.enableCellEditOnFocus&&!c&&t(e,i),!0}function a(){return l=!1,!0}function r(n){return e.enableCellEditOnFocus||(l&&37!==n.keyCode&&38!==n.keyCode&&39!==n.keyCode&&40!==n.keyCode&&9!==n.keyCode&&!n.shiftKey&&13!==n.keyCode&&t(e,i),l&&n.shiftKey&&n.keyCode>=65&&90>=n.keyCode&&t(e,i),27===n.keyCode&&i.focus()),!0}var l=!1,c=!1;e.editCell=function(){e.enableCellEditOnFocus||setTimeout(function(){t(e,i)},0)},i.bind("mousedown",n),i.bind("click",o),i.bind("focus",s),i.bind("blur",a),i.bind("keydown",r),i.on("$destroy",function(){i.off("mousedown",n),i.off("click",o),i.off("focus",s),i.off("blur",a),i.off("keydown",r)})}}]),b.directive("ngCellText",function(){return function(e,t){function i(e){e.preventDefault()}function n(e){e.preventDefault()}t.bind("mouseover",i),t.bind("mouseleave",n),t.on("$destroy",function(){t.off("mouseover",i),t.off("mouseleave",n)})}}),b.directive("ngCell",["$compile","$domUtilityService","$utilityService",function(e,i,n){return{scope:!1,compile:function(){return{pre:function(i,o){var s,a=i.col.cellTemplate.replace(c,n.preEval("row.entity."+i.col.field));i.col.enableCellEdit?s=(s=(s=(s=i.col.cellEditTemplate).replace(h,i.col.cellEditableCondition)).replace(u,a)).replace(d,i.col.editableCellTemplate.replace(c,n.preEval("row.entity."+i.col.field))):s=a;var r=t(s);o.append(r),e(r)(i),i.enableCellSelection&&-1===r[0].className.indexOf("ngSelectionCell")&&(r[0].setAttribute("tabindex",0),r.addClass("ngCellElement"))},post:function(e,t){e.enableCellSelection&&e.domAccessProvider.selectionHandlers(e,t),e.$on("$destroy",e.$on("ngGridEventDigestCell",function(){i.digest(e)}))}}}}}]),b.directive("ngEditCellIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,i){return function(e,t,n){var o,s;e.$on("$destroy",e.$watch(n.ngEditCellIf,function(n){o&&(o.remove(),o=void 0),s&&(s.$destroy(),s=void 0),n&&(s=e.$new(),i(s,function(e){o=e,t.after(e)}))}))}}}}]),b.directive("ngGridFooter",["$compile","$templateCache",function(e,t){return{scope:!1,compile:function(){return{pre:function(i,n){0===n.children().length&&n.append(e(t.get(i.gridId+"footerTemplate.html"))(i))}}}}}]),b.directive("ngGridMenu",["$compile","$templateCache",function(e,t){return{scope:!1,compile:function(){return{pre:function(i,n){0===n.children().length&&n.append(e(t.get(i.gridId+"menuTemplate.html"))(i))}}}}}]),b.directive("ngGrid",["$compile","$filter","$templateCache","$sortService","$domUtilityService","$utilityService","$timeout","$parse","$http","$q",function(e,i,n,o,s,a,r,l,c,u){return{scope:!0,compile:function(){return{pre:function(d,h,p){var f=t(h),g=d.$eval(p.ngGrid);g.gridDim=new k({outerHeight:t(f).height(),outerWidth:t(f).width()});var m=new S(d,g,o,s,i,n,a,r,l,c,u);return d.$on("$destroy",function(){g.gridDim=null,g.selectRow=null,g.selectItem=null,g.selectAll=null,g.selectVisible=null,g.groupBy=null,g.sortBy=null,g.gridId=null,g.ngGrid=null,g.$gridScope=null,g.$gridServices=null,d.domAccessProvider.grid=null,angular.element(m.styleSheet).remove(),m.styleSheet=null}),m.init().then(function(){if("string"==typeof g.columnDefs?d.$on("$destroy",d.$parent.$watch(g.columnDefs,function(e){return e?(m.lateBoundColumns=!1,d.columns=[],m.config.columnDefs=e,m.buildColumns(),m.eventProvider.assignEvents(),void s.RebuildGrid(d,m)):(m.refreshDomSizes(),void m.buildColumns())},!0)):m.buildColumns(),"string"==typeof g.totalServerItems?d.$on("$destroy",d.$parent.$watch(g.totalServerItems,function(e){d.totalServerItems=angular.isDefined(e)?e:0})):d.totalServerItems=0,"string"==typeof g.data){var i=function(e){m.data=t.extend([],e),m.rowFactory.fixRowCache(),angular.forEach(m.data,function(e,t){var i=m.rowMap[t]||t;m.rowCache[i]&&m.rowCache[i].ensureEntity(e),m.rowMap[i]=t}),m.searchProvider.evalFilter(),m.configureColumnWidths(),m.refreshDomSizes(),m.config.sortInfo.fields.length>0&&(m.sortColumnsInit(),d.$emit("ngGridEventSorted",m.config.sortInfo)),d.$emit("ngGridEventData",m.gridId)};d.$on("$destroy",d.$parent.$watch(g.data,i)),d.$on("$destroy",d.$parent.$watch(g.data+".length",function(){i(d.$eval(g.data)),d.adjustScrollTop(m.$viewport.scrollTop(),!0)}))}return m.footerController=new function(e,t){e.maxRows=function(){return Math.max(e.totalServerItems,t.data.length)},e.$on("$destroy",e.$watch("totalServerItems",function(){e.currentMaxPages=e.maxPages()})),e.multiSelect=t.config.enableRowSelection&&t.config.multiSelect,e.selectedItemCount=t.selectedItemCount,e.maxPages=function(){return 0===e.maxRows()?1:Math.ceil(e.maxRows()/e.pagingOptions.pageSize)},e.pageForward=function(){var t=e.pagingOptions.currentPage;e.totalServerItems>0?e.pagingOptions.currentPage=Math.min(t+1,e.maxPages()):e.pagingOptions.currentPage++},e.pageBackward=function(){var t=e.pagingOptions.currentPage;e.pagingOptions.currentPage=Math.max(t-1,1)},e.pageToFirst=function(){e.pagingOptions.currentPage=1},e.pageToLast=function(){var t=e.maxPages();e.pagingOptions.currentPage=t},e.cantPageForward=function(){var i=e.pagingOptions.currentPage,n=e.maxPages();return e.totalServerItems>0?i>=n:1>t.data.length},e.cantPageToLast=function(){return!(e.totalServerItems>0)||e.cantPageForward()},e.cantPageBackward=function(){return 1>=e.pagingOptions.currentPage}}(d,m),h.addClass("ngGrid").addClass(""+m.gridId),g.enableHighlighting||h.addClass("unselectable"),g.jqueryUITheme&&h.addClass("ui-widget"),h.append(e(n.get("gridTemplate.html"))(d)),s.AssignGridContainers(d,h,m),m.eventProvider=new T(m,d,s,r),g.selectRow=function(e,t){m.rowCache[e]&&(m.rowCache[e].clone&&m.rowCache[e].clone.setSelection(!!t),m.rowCache[e].setSelection(!!t))},g.selectItem=function(e,t){g.selectRow(m.rowMap[e],t)},g.selectAll=function(e){d.toggleSelectAll(e)},g.selectVisible=function(e){d.toggleSelectAll(e,!0)},g.groupBy=function(e){if(e)d.groupBy(d.columns.filter(function(t){return t.field===e})[0]);else{var i=t.extend(!0,[],d.configGroups);angular.forEach(i,d.groupBy)}},g.sortBy=function(e){var t=d.columns.filter(function(t){return t.field===e})[0];t&&t.sort()},g.gridId=m.gridId,g.ngGrid=m,g.$gridScope=d,g.$gridServices={SortService:o,DomUtilityService:s,UtilityService:a},d.$on("$destroy",d.$on("ngGridEventDigestGrid",function(){s.digest(d.$parent)})),d.$on("$destroy",d.$on("ngGridEventDigestGridParent",function(){s.digest(d.$parent)})),d.$evalAsync(function(){d.adjustScrollLeft(0)}),angular.forEach(g.plugins,function(e){"function"==typeof e&&(e=new e);var t=d.$new();e.init(t,m,g.$gridServices),g.plugins[a.getInstanceType(e)]=e,d.$on("$destroy",function(){t.$destroy()})}),"function"==typeof g.init&&g.init(m,d),null})}}}}}]),b.directive("ngHeaderCell",["$compile",function(e){return{scope:!1,compile:function(){return{pre:function(t,i){i.append(e(t.col.headerCellTemplate)(t))}}}}}]),b.directive("ngHeaderRow",["$compile","$templateCache",function(e,t){return{scope:!1,compile:function(){return{pre:function(i,n){0===n.children().length&&n.append(e(t.get(i.gridId+"headerRowTemplate.html"))(i))}}}}}]),b.directive("ngInput",[function(){return{require:"ngModel",link:function(e,t,i,n){function o(i){switch(i.keyCode){case 37:case 38:case 39:case 40:i.stopPropagation();break;case 27:e.$$phase||e.$apply(function(){n.$setViewValue(r),t.blur()});break;case 13:(e.enableCellEditOnFocus&&e.totalFilteredItemsLength()-1>e.row.rowIndex&&e.row.rowIndex>0||e.col.enableCellEdit)&&t.blur()}return!0}function s(e){e.stopPropagation()}function a(e){e.stopPropagation()}var r,l=e.$watch("ngModel",function(){r=n.$modelValue,l()});t.bind("keydown",o),t.bind("click",s),t.bind("mousedown",a),t.on("$destroy",function(){t.off("keydown",o),t.off("click",s),t.off("mousedown",a)}),e.$on("$destroy",e.$on("ngGridEventStartCellEdit",function(){t.focus(),t.select()})),angular.element(t).bind("blur",function(){e.$emit("ngGridEventEndCellEdit")})}}}]),b.directive("ngRow",["$compile","$domUtilityService","$templateCache",function(e,t,i){return{scope:!1,compile:function(){return{pre:function(n,o){if(n.row.elm=o,n.row.clone&&(n.row.clone.elm=o),n.row.isAggRow){var s=i.get(n.gridId+"aggregateTemplate.html");s=n.row.aggLabelFilter?s.replace(l,"| "+n.row.aggLabelFilter):s.replace(l,""),o.append(e(s)(n))}else o.append(e(i.get(n.gridId+"rowTemplate.html"))(n));n.$on("$destroy",n.$on("ngGridEventDigestRow",function(){t.digest(n)}))}}}}}]),b.directive("ngViewport",[function(){return function(e,t){function i(t){var i=t.target.scrollLeft,n=t.target.scrollTop;return e.$headerContainer&&e.$headerContainer.scrollLeft(i),e.adjustScrollLeft(i),e.adjustScrollTop(n),e.forceSyncScrolling?s():(clearTimeout(o),o=setTimeout(s,150)),i,n,!1,!0}function n(){return!0,t.focus&&t.focus(),!0}var o,s=function(){e.$root.$$phase||e.$digest()};t.bind("scroll",i),t.bind("mousewheel DOMMouseScroll",n),t.on("$destroy",function(){t.off("scroll",i),t.off("mousewheel DOMMouseScroll",n)}),e.enableCellSelection||e.domAccessProvider.selectionHandlers(e,t)}}]),e.ngGrid.i18n.da={ngAggregateLabel:"artikler",ngGroupPanelDescription:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil.",ngSearchPlaceHolder:"Søg...",ngMenuText:"Vælg kolonner:",ngShowingItemsLabel:"Viste rækker:",ngTotalItemsLabel:"Rækker totalt:",ngSelectedItemsLabel:"Valgte rækker:",ngPageSizeLabel:"Side størrelse:",ngPagerFirstTitle:"Første side",ngPagerNextTitle:"Næste side",ngPagerPrevTitle:"Forrige side",ngPagerLastTitle:"Sidste side"},e.ngGrid.i18n.de={ngAggregateLabel:"eintrag",ngGroupPanelDescription:"Ziehen Sie eine Spaltenüberschrift hierhin um nach dieser Spalte zu gruppieren.",ngSearchPlaceHolder:"Suche...",ngMenuText:"Spalten auswählen:",ngShowingItemsLabel:"Zeige Einträge:",ngTotalItemsLabel:"Einträge gesamt:",ngSelectedItemsLabel:"Ausgewählte Einträge:",ngPageSizeLabel:"Einträge pro Seite:",ngPagerFirstTitle:"Erste Seite",ngPagerNextTitle:"Nächste Seite",ngPagerPrevTitle:"Vorherige Seite",ngPagerLastTitle:"Letzte Seite"},e.ngGrid.i18n.en={ngAggregateLabel:"items",ngGroupPanelDescription:"Drag a column header here and drop it to group by that column.",ngSearchPlaceHolder:"Search...",ngMenuText:"Choose Columns:",ngShowingItemsLabel:"Showing Items:",ngTotalItemsLabel:"Total Items:",ngSelectedItemsLabel:"Selected Items:",ngPageSizeLabel:"Page Size:",ngPagerFirstTitle:"First Page",ngPagerNextTitle:"Next Page",ngPagerPrevTitle:"Previous Page",ngPagerLastTitle:"Last Page"},e.ngGrid.i18n.es={ngAggregateLabel:"Artículos",ngGroupPanelDescription:"Arrastre un encabezado de columna aquí y soltarlo para agrupar por esa columna.",ngSearchPlaceHolder:"Buscar...",ngMenuText:"Elegir columnas:",ngShowingItemsLabel:"Artículos Mostrando:",ngTotalItemsLabel:"Artículos Totales:",ngSelectedItemsLabel:"Artículos Seleccionados:",ngPageSizeLabel:"Tamaño de Página:",ngPagerFirstTitle:"Primera Página",ngPagerNextTitle:"Página Siguiente",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"},e.ngGrid.i18n.fa={ngAggregateLabel:"موردها",ngGroupPanelDescription:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز.",ngSearchPlaceHolder:"جستجو...",ngMenuText:"انتخاب ستون‌ها:",ngShowingItemsLabel:"نمایش موردها:",ngTotalItemsLabel:"همهٔ موردها:",ngSelectedItemsLabel:"موردهای انتخاب‌شده:",ngPageSizeLabel:"اندازهٔ صفحه:",ngPagerFirstTitle:"صفحهٔ اول",ngPagerNextTitle:"صفحهٔ بعد",ngPagerPrevTitle:"صفحهٔ قبل",ngPagerLastTitle:"آخرین صفحه"},e.ngGrid.i18n.fr={ngAggregateLabel:"articles",ngGroupPanelDescription:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne.",ngSearchPlaceHolder:"Recherche...",ngMenuText:"Choisir des colonnes:",ngShowingItemsLabel:"Articles Affichage des:",ngTotalItemsLabel:"Nombre total d'articles:",ngSelectedItemsLabel:"Éléments Articles:",ngPageSizeLabel:"Taille de page:",ngPagerFirstTitle:"Première page",ngPagerNextTitle:"Page Suivante",ngPagerPrevTitle:"Page précédente",ngPagerLastTitle:"Dernière page"},e.ngGrid.i18n.nl={ngAggregateLabel:"items",ngGroupPanelDescription:"Sleep hier een kolomkop om op te groeperen.",ngSearchPlaceHolder:"Zoeken...",ngMenuText:"Kies kolommen:",ngShowingItemsLabel:"Toon items:",ngTotalItemsLabel:"Totaal items:",ngSelectedItemsLabel:"Geselecteerde items:",ngPageSizeLabel:"Pagina grootte:, ",ngPagerFirstTitle:"Eerste pagina",ngPagerNextTitle:"Volgende pagina",ngPagerPrevTitle:"Vorige pagina",ngPagerLastTitle:"Laatste pagina"},e.ngGrid.i18n["pt-br"]={ngAggregateLabel:"itens",ngGroupPanelDescription:"Arraste e solte uma coluna aqui para agrupar por essa coluna",ngSearchPlaceHolder:"Procurar...",ngMenuText:"Selecione as colunas:",ngShowingItemsLabel:"Mostrando os Itens:",ngTotalItemsLabel:"Total de Itens:",ngSelectedItemsLabel:"Items Selecionados:",ngPageSizeLabel:"Tamanho da Página:",ngPagerFirstTitle:"Primeira Página",ngPagerNextTitle:"Próxima Página",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"},e.ngGrid.i18n.ru={ngAggregateLabel:"записи",ngGroupPanelDescription:"Перетащите сюда заголовок колонки для группировки по этой колонке.",ngSearchPlaceHolder:"Искать...",ngMenuText:"Выберите столбцы:",ngShowingItemsLabel:"Показаны записи:",ngTotalItemsLabel:"Всего записей:",ngSelectedItemsLabel:"Выбранные записи:",ngPageSizeLabel:"Строк на странице:",ngPagerFirstTitle:"Первая страница",ngPagerNextTitle:"Следующая страница",ngPagerPrevTitle:"Предыдущая страница",ngPagerLastTitle:"Последняя страница"},e.ngGrid.i18n["zh-cn"]={ngAggregateLabel:"条目",ngGroupPanelDescription:"拖曳表头到此处以进行分组",ngSearchPlaceHolder:"搜索...",ngMenuText:"数据分组与选择列：",ngShowingItemsLabel:"当前显示条目：",ngTotalItemsLabel:"条目总数：",ngSelectedItemsLabel:"选中条目：",ngPageSizeLabel:"每页显示数：",ngPagerFirstTitle:"回到首页",ngPagerNextTitle:"下一页",ngPagerPrevTitle:"上一页",ngPagerLastTitle:"前往尾页"},e.ngGrid.i18n["zh-tw"]={ngAggregateLabel:"筆",ngGroupPanelDescription:"拖拉表頭到此處以進行分組",ngSearchPlaceHolder:"搜尋...",ngMenuText:"選擇欄位：",ngShowingItemsLabel:"目前顯示筆數：",ngTotalItemsLabel:"總筆數：",ngSelectedItemsLabel:"選取筆數：",ngPageSizeLabel:"每頁顯示：",ngPagerFirstTitle:"第一頁",ngPagerNextTitle:"下一頁",ngPagerPrevTitle:"上一頁",ngPagerLastTitle:"最後頁"},angular.module("ngGrid").run(["$templateCache",function(e){e.put("aggregateTemplate.html",'<div ng-click="row.toggleExpand()" ng-style="rowStyle(row)" class="ngAggregate">\r\n    <span class="ngAggregateText">{{row.label CUSTOM_FILTERS}} ({{row.totalChildren()}} {{AggItemsLabel}})</span>\r\n    <div class="{{row.aggClass()}}"></div>\r\n</div>\r\n'),e.put("cellEditTemplate.html",'<div ng-cell-has-focus ng-dblclick="CELL_EDITABLE_CONDITION && editCell()">\r\n\t<div ng-edit-cell-if="!(isFocused && CELL_EDITABLE_CONDITION)">\t\r\n\t\tDISPLAY_CELL_TEMPLATE\r\n\t</div>\r\n\t<div ng-edit-cell-if="isFocused && CELL_EDITABLE_CONDITION">\r\n\t\tEDITABLE_CELL_TEMPLATE\r\n\t</div>\r\n</div>\r\n'),e.put("cellTemplate.html",'<div class="ngCellText" ng-class="col.colIndex()"><span ng-cell-text>{{COL_FIELD CUSTOM_FILTERS}}</span></div>'),e.put("checkboxCellTemplate.html",'<div class="ngSelectionCell"><input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="row.selected" /></div>'),e.put("checkboxHeaderTemplate.html",'<input class="ngSelectionHeader" type="checkbox" ng-show="multiSelect" ng-model="allSelected" ng-change="toggleSelectAll(allSelected, true)"/>'),e.put("editableCellTemplate.html",'<input ng-class="\'colt\' + col.index" ng-input="COL_FIELD" ng-model="COL_FIELD" />'),e.put("footerTemplate.html",'<div ng-show="showFooter" class="ngFooterPanel" ng-class="{\'ui-widget-content\': jqueryUITheme, \'ui-corner-bottom\': jqueryUITheme}" ng-style="footerStyle()">\r\n    <div class="ngTotalSelectContainer" >\r\n        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >\r\n            <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span>\r\n        </div>\r\n        <div class="ngFooterSelectedItems" ng-show="multiSelect">\r\n            <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="ngPagerContainer" style="float: right; margin-top: 10px;" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">\r\n        <div style="float:left; margin-right: 10px;" class="ngRowCountPicker">\r\n            <span style="float: left; margin-top: 3px;" class="ngLabel">{{i18n.ngPageSizeLabel}}</span>\r\n            <select style="float: left;height: 27px; width: 100px" ng-model="pagingOptions.pageSize" >\r\n                <option ng-repeat="size in pagingOptions.pageSizes">{{size}}</option>\r\n            </select>\r\n        </div>\r\n        <div style="float:left; margin-right: 10px; line-height:25px;" class="ngPagerControl" style="float: left; min-width: 135px;">\r\n            <button type="button" class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"></div></div></button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><div class="ngPagerFirstTriangle ngPagerPrevTriangle"></div></button>\r\n            <input class="ngPagerCurrent" min="1" max="{{currentMaxPages}}" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>\r\n            <span class="ngGridMaxPagesNumber" ng-show="maxPages() > 0">/ {{maxPages()}}</span>\r\n            <button type="button" class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><div class="ngPagerLastTriangle ngPagerNextTriangle"></div></button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"></div></div></button>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),e.put("gridTemplate.html",'<div class="ngTopPanel" ng-class="{\'ui-widget-header\':jqueryUITheme, \'ui-corner-top\': jqueryUITheme}" ng-style="topPanelStyle()">\r\n    <div class="ngGroupPanel" ng-show="showGroupPanel()" ng-style="groupPanelStyle()">\r\n        <div class="ngGroupPanelDescription" ng-show="configGroups.length == 0">{{i18n.ngGroupPanelDescription}}</div>\r\n        <ul ng-show="configGroups.length > 0" class="ngGroupList">\r\n            <li class="ngGroupItem" ng-repeat="group in configGroups">\r\n                <span class="ngGroupElement">\r\n                    <span class="ngGroupName">{{group.displayName}}\r\n                        <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span>\r\n                    </span>\r\n                    <span ng-hide="$last" class="ngGroupArrow"></span>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class="ngHeaderContainer" ng-style="headerStyle()">\r\n        <div ng-header-row class="ngHeaderScroller" ng-style="headerScrollerStyle()"></div>\r\n    </div>\r\n    <div ng-grid-menu></div>\r\n</div>\r\n<div class="ngViewport" unselectable="on" ng-viewport ng-class="{\'ui-widget-content\': jqueryUITheme}" ng-style="viewportStyle()">\r\n    <div class="ngCanvas" ng-style="canvasStyle()">\r\n        <div ng-style="rowStyle(row)" ng-repeat="row in renderedRows" ng-click="row.toggleSelected($event)" ng-class="row.alternatingRowClass()" ng-row></div>\r\n    </div>\r\n</div>\r\n<div ng-grid-footer></div>\r\n'),e.put("headerCellTemplate.html",'<div class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !col.noSortVisible() }">\r\n    <div ng-click="col.sort($event)" ng-class="\'colt\' + col.index" class="ngHeaderText">{{col.displayName}}</div>\r\n    <div class="ngSortButtonDown" ng-click="col.sort($event)" ng-show="col.showSortButtonDown()"></div>\r\n    <div class="ngSortButtonUp" ng-click="col.sort($event)" ng-show="col.showSortButtonUp()"></div>\r\n    <div class="ngSortPriority">{{col.sortPriority}}</div>\r\n    <div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click="togglePin(col)" ng-show="col.pinnable"></div>\r\n</div>\r\n<div ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)"></div>\r\n'),e.put("headerRowTemplate.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell">\r\n\t<div class="ngVerticalBar" ng-style="{height: col.headerRowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;</div>\r\n\t<div ng-header-cell></div>\r\n</div>'),e.put("menuTemplate.html",'<div ng-show="showColumnMenu || showFilter"  class="ngHeaderButton" ng-click="toggleShowMenu()">\r\n    <div class="ngHeaderButtonArrow"></div>\r\n</div>\r\n<div ng-show="showMenu" class="ngColMenu">\r\n    <div ng-show="showFilter">\r\n        <input placeholder="{{i18n.ngSearchPlaceHolder}}" type="text" ng-model="filterText"/>\r\n    </div>\r\n    <div ng-show="showColumnMenu">\r\n        <span class="ngMenuText">{{i18n.ngMenuText}}</span>\r\n        <ul class="ngColList">\r\n            <li class="ngColListItem" ng-repeat="col in columns | ngColumns">\r\n                <label><input ng-disabled="col.pinned" type="checkbox" class="ngColListCheckbox" ng-model="col.visible"/>{{col.displayName}}</label>\r\n\t\t\t\t<a title="Group By" ng-class="col.groupedByClass()" ng-show="col.groupable && col.visible" ng-click="groupBy(col)"></a>\r\n\t\t\t\t<span class="ngGroupingNumber" ng-show="col.groupIndex > 0">{{col.groupIndex}}</span>          \r\n            </li>\r\n        </ul>\r\n    </div>\r\n</div>'),e.put("rowTemplate.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell {{col.cellClass}}">\r\n\t<div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;</div>\r\n\t<div ng-cell></div>\r\n</div>')}])}(window,jQuery),angular.module("xeditable",[]).value("editableOptions",{theme:"default",icon_set:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus",isDisabled:!1,activationEvent:"click",submitButtonTitle:"Submit",submitButtonAriaLabel:"Submit",cancelButtonTitle:"Cancel",cancelButtonAriaLabel:"Cancel",clearButtonTitle:"Clear",clearButtonAriaLabel:"Clear",displayClearButton:!1}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory","$injector","$parse",function(e,t,i){uibDatepickerConfig=t.get("uibDatepickerConfig"),uibDatepickerPopupConfig=t.get("uibDatepickerPopupConfig");var n=[["eIsOpen","is-open"],["eDateDisabled","date-disabled"],["eDatepickerPopup","uib-datepicker-popup"],["eShowButtonBar","show-button-bar"],["eCurrentText","current-text"],["eClearText","clear-text"],["eCloseText","close-text"],["eCloseOnDateSelection","close-on-date-selection"],["eDatepickerAppendToBody","datepicker-append-to-body"],["eOnOpenFocus","on-open-focus"],["eName","name"],["eDateDisabled","date-disabled"],["eAltInputFormats","alt-input-formats"]],o=[["eFormatDay","formatDay"],["eFormatMonth","formatMonth"],["eFormatYear","formatYear"],["eFormatDayHeader","formatDayHeader"],["eFormatDayTitle","formatDayTitle"],["eFormatMonthTitle","formatMonthTitle"],["eMaxMode","maxMode"],["eMinMode","minMode"],["eDatepickerMode","datepickerMode"]];return e({directiveName:"editableBsdate",inputTpl:"<div></div>",render:function(){this.parent.render.call(this);var e=this.attrs,t=this.scope,s=angular.element('<input type="text" class="form-control" ng-model="$parent.$data"/>');s.attr("uib-datepicker-popup",e.eDatepickerPopupXEditable||uibDatepickerPopupConfig.datepickerPopup),s.attr("year-range",e.eYearRange||20),s.attr("ng-readonly",e.eReadonly||!1);for(var a=n.length-1;a>=0;a--){var r=e[n[a][0]];void 0!==r&&s.attr(n[a][1],r)}e.eNgChange&&(s.attr("ng-change",e.eNgChange),this.inputEl.removeAttr("ng-change")),e.eStyle&&(s.attr("style",e.eStyle),this.inputEl.removeAttr("style"));var l={maxDate:t.$eval(e.eMaxDate)||uibDatepickerConfig.maxDate,minDate:t.$eval(e.eMinDate)||uibDatepickerConfig.minDate,showWeeks:e.eShowWeeks?"true"===e.eShowWeeks.toLowerCase():uibDatepickerConfig.showWeeks,startingDay:e.eStartingDay||0,initDate:t.$eval(e.eInitDate)||new Date};if(e.eDatepickerOptions){var c=i(e.eDatepickerOptions)(t);angular.extend(l,c)}for(var u=o.length-1;u>=0;u--){var d=e[o[u][0]];void 0!==d&&(l[o[u][1]]=d)}if(t.dateOptions=l,"true"===(angular.isDefined(e.eShowCalendarButton)?e.eShowCalendarButton:"true")){var h=angular.element('<button type="button" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button>'),p=angular.element('<span class="input-group-btn"></span>');h.attr("ng-click",e.eNgClick),p.append(h),this.inputEl.append(p)}else s.attr("ng-click",e.eNgClick);s.attr("datepicker-options","dateOptions"),this.inputEl.prepend(s),this.inputEl.removeAttr("class"),this.inputEl.removeAttr("ng-click"),this.inputEl.removeAttr("is-open"),this.inputEl.removeAttr("init-date"),this.inputEl.removeAttr("datepicker-popup"),this.inputEl.removeAttr("required"),this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("date-picker-append-to-body"),this.inputEl.removeAttr("name"),this.inputEl.attr("class","input-group")},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)}),e.inputEl.bind("keydown",function(t){9===t.keyCode&&"submit"===e.editorEl.attr("blur")&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(e){return e({directiveName:"editableBstime",inputTpl:"<div uib-timepicker></div>",render:function(){this.parent.render.call(this);var e=angular.element('<div class="well well-small" style="display:inline-block;"></div>');e.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(e.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(e)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(e){return e({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.inputEl.wrap("<label></label>"),this.attrs.eTitle&&this.inputEl.parent().append("<span>"+this.attrs.eTitle+"</span>")},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(e,t){return e({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var e=t(this.attrs.eNgOptions),i="",n="";this.attrs.eNgChange&&(i=' ng-change="'+this.attrs.eNgChange+'"'),this.attrs.eChecklistComparator&&(n=' checklist-comparator="'+this.attrs.eChecklistComparator+'"');var o='<label ng-repeat="'+e.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$parent.$data" checklist-value="'+e.locals.valueFn+'"'+i+n+'><span ng-bind="'+e.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.removeAttr("ng-change"),this.inputEl.removeAttr("checklist-comparator"),this.inputEl.html(o)}})}]),angular.module("xeditable").directive("editableCombodate",["editableDirectiveFactory","editableCombodate",function(e,t){return e({directiveName:"editableCombodate",inputTpl:'<input type="text">',render:function(){this.parent.render.call(this);var e={value:new Date(this.scope.$data)},i=this;angular.forEach(["format","template","minYear","maxYear","yearDescending","minuteStep","secondStep","firstItem","errorClass","customClass","roundTime","smartDays"],function(t){var n="e"+t.charAt(0).toUpperCase()+t.slice(1);n in i.attrs&&(e[t]="minYear"==t||"maxYear"==t||"minuteStep"==t||"secondStep"==t?parseInt(i.attrs[n],10):i.attrs[n])});var n=t.getInstance(this.inputEl,e);n.$widget.find("select").bind("change",function(e){i.scope.$data=n.getValue()?new Date(n.getValue().replace(/-/g,"/")).toISOString():null}).change()}})}]),function(){var e="text|password|email|tel|number|url|search|color|date|datetime|datetime-local|time|month|week|file".split("|");angular.forEach(e,function(e){var t=("editable-"+e).toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()});angular.module("xeditable").directive(t,["editableDirectiveFactory",function(i){return i({directiveName:t,inputTpl:'<input type="'+e+'">',render:function(){if(this.parent.render.call(this),this.attrs.eInputgroupleft||this.attrs.eInputgroupright){if(this.inputEl.wrap('<div class="input-group"></div>'),this.attrs.eInputgroupleft){var e=angular.element('<span class="input-group-addon">'+this.attrs.eInputgroupleft+"</span>");this.inputEl.parent().prepend(e)}if(this.attrs.eInputgroupright){var t=angular.element('<span class="input-group-addon">'+this.attrs.eInputgroupright+"</span>");this.inputEl.parent().append(t)}}if(this.attrs.eLabel){var i=angular.element("<label>"+this.attrs.eLabel+"</label>");this.attrs.eInputgroupleft||this.attrs.eInputgroupright?this.inputEl.parent().parent().prepend(i):this.inputEl.parent().prepend(i)}this.attrs.eFormclass&&(this.editorEl.addClass(this.attrs.eFormclass),this.inputEl.removeAttr("formclass"))},autosubmit:function(){var e=this;e.inputEl.bind("keydown",function(t){9===t.keyCode&&"submit"===e.editorEl.attr("blur")&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory","$interpolate",function(e,t){return e({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>"+t.startSymbol()+"$data"+t.endSymbol()+"</output>")}})}])}(),angular.module("xeditable").directive("editableTagsInput",["editableDirectiveFactory","editableUtils",function(e,t){var i=e({directiveName:"editableTagsInput",inputTpl:"<tags-input></tags-input>",useCopy:!0,render:function(){this.parent.render.call(this),this.inputEl.append(t.rename("auto-complete",this.attrs.$autoCompleteElement)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$data")}}),n=i.link;return i.link=function(e,t,i,o){var s=t.find("editable-tags-input-auto-complete");return i.$autoCompleteElement=s.clone(),s.remove(),n(e,t,i,o)},i}]),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser","$interpolate",function(e,t,i){return e({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var e=t(this.attrs.eNgOptions),n="",o="";this.attrs.eNgChange&&(n=' ng-change="'+this.attrs.eNgChange+'"'),this.attrs.eName&&(o=' name="'+this.attrs.eName+'"');var s='<label data-ng-repeat="'+e.ngRepeat+'"><input type="radio" data-ng-disabled="::'+this.attrs.eNgDisabled+'" data-ng-model="$parent.$parent.$data" data-ng-value="'+i.startSymbol()+"::"+e.locals.valueFn+i.endSymbol()+'"'+n+o+'><span data-ng-bind="::'+e.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.removeAttr("ng-change"),this.inputEl.html(s)},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(e){return e({directiveName:"editableSelect",inputTpl:"<select></select>",render:function(){if(this.parent.render.call(this),this.attrs.ePlaceholder){var e=angular.element('<option value="">'+this.attrs.ePlaceholder+"</option>");this.inputEl.append(e)}},autosubmit:function(){var e=this;e.attrs.hasOwnProperty("eMultiple")||e.inputEl.bind("change",function(){e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(e){return e({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",render:function(){this.parent.render.call(this),this.attrs.eFormclass&&(this.editorEl.addClass(this.attrs.eFormclass),this.inputEl.removeAttr("formclass"))},addListeners:function(){this.parent.addListeners.call(this),this.single&&"no"!==this.buttons&&this.autosubmit()},autosubmit:function(){var e=this;e.inputEl.bind("keydown",function(t){e.attrs.submitOnEnter?13!==t.keyCode||t.shiftKey||e.scope.$apply(function(){e.scope.$form.$submit()}):((t.ctrlKey||t.metaKey)&&13===t.keyCode||9===t.keyCode&&"submit"===e.editorEl.attr("blur"))&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableUidate",["editableDirectiveFactory",function(e){return e({directiveName:"editableUidate",inputTpl:'<input class="form-control" />',render:function(){this.parent.render.call(this),this.inputEl.attr("ui-date",this.attrs.eUiDate),this.inputEl.attr("placeholder",this.attrs.ePlaceholder)}})}]),angular.module("xeditable").directive("editableUiSelect",["editableDirectiveFactory","editableUtils",function(e,t){var i=e({directiveName:"editableUiSelect",inputTpl:"<ui-select></ui-select>",render:function(){this.parent.render.call(this),this.inputEl.append(t.rename("ui-select-match",this.attrs.$matchElement)),this.inputEl.append(t.rename("ui-select-choices",this.attrs.$choicesElement)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$parent.$data")},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)}),e.inputEl.bind("keydown",function(t){9===t.keyCode&&"submit"===e.editorEl.attr("blur")&&e.scope.$apply(function(){e.scope.$form.$submit()})})}}),n=i.link;return i.link=function(e,t,i,o){var s=t.find("editable-ui-select-match"),a=t.find("editable-ui-select-choices");return i.$matchElement=s.clone(),i.$choicesElement=a.clone(),s.remove(),a.remove(),n(e,t,i,o)},i}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(e,t){function i(e,i,n,o,s,a,r,l,c,u,d,h){var p,f,g=this;g.scope=e,g.elem=n,g.attrs=i,g.inputEl=null,g.editorEl=null,g.single=!0,g.error="",g.theme=s[i.editableTheme]||s[r.theme]||s.default,g.parent={};var m=i.editableTheme||r.theme||"default",v=i.editableIconSet||r.icon_set;g.icon_set="default"===v?a.default[m]:a.external[v],g.inputTpl="",g.directiveName="",g.useCopy=!1,g.single=null,g.buttons="right",g.popover=!1,g.init=function(t){if(g.single=t,g.name=i.eName||i[g.directiveName],!i[g.directiveName])throw"You should provide value for `"+g.directiveName+"` in editable element!";p=o(i[g.directiveName]),g.single?g.buttons=g.attrs.buttons||r.buttons:g.buttons="no",i.eName&&g.scope.$watch("$data",function(e){g.scope.$form.$data[i.eName]=e}),i.onshow&&(g.onshow=function(){return g.catchError(o(i.onshow)(e))}),i.onhide&&(g.onhide=function(){return o(i.onhide)(e)}),i.oncancel&&(g.oncancel=function(){return o(i.oncancel)(e)}),i.onbeforesave&&(g.onbeforesave=function(){return g.catchError(o(i.onbeforesave)(e))}),i.onaftersave&&(g.onaftersave=function(){return g.catchError(o(i.onaftersave)(e))}),i.popover&&(g.popover=g.attrs.popover),e.$parent.$watch(i[g.directiveName],function(e,t){g.setLocalValue(),g.handleEmpty()})},g.render=function(){var e=g.theme;for(var n in g.inputEl=angular.element(g.inputTpl),g.controlsEl=angular.element(e.controlsTpl),g.controlsEl.append(g.inputEl),"no"!==g.buttons&&(g.buttonsEl=angular.element(e.buttonsTpl),g.submitEl=angular.element(e.submitTpl),g.resetEl=angular.element(e.resetTpl),g.cancelEl=angular.element(e.cancelTpl),g.submitEl.attr("title",r.submitButtonTitle),g.submitEl.attr("aria-label",r.submitButtonAriaLabel),g.cancelEl.attr("title",r.cancelButtonTitle),g.cancelEl.attr("aria-label",r.cancelButtonAriaLabel),g.resetEl.attr("title",r.clearButtonTitle),g.resetEl.attr("aria-label",r.clearButtonAriaLabel),g.icon_set&&(g.submitEl.find("span").addClass(g.icon_set.ok),g.cancelEl.find("span").addClass(g.icon_set.cancel),g.resetEl.find("span").addClass(g.icon_set.clear)),g.buttonsEl.append(g.submitEl).append(g.cancelEl),r.displayClearButton&&g.buttonsEl.append(g.resetEl),g.controlsEl.append(g.buttonsEl),g.inputEl.addClass("editable-has-buttons")),g.errorEl=angular.element(e.errorTpl),g.controlsEl.append(g.errorEl),g.editorEl=angular.element(g.single?e.formTpl:e.noformTpl),g.editorEl.append(g.controlsEl),i.$attr)if(!(n.length<=1)){var o=!1,s=n.substring(1,2);if("e"===n.substring(0,1)&&s===s.toUpperCase()&&"Form"!==(o=n.substring(1))&&"NgSubmit"!==o){var a=o.substring(0,1),l=o.substring(1,2),c="value"!==(o=l===l.toUpperCase()&&a===a.toUpperCase()?a.toLowerCase()+"-"+t.camelToDash(o.substring(1)):a.toLowerCase()+t.camelToDash(o.substring(1)))&&""===i[n]?o:i[n];g.inputEl.attr(o,c)}}if(g.inputEl.addClass("editable-input"),g.inputEl.attr("ng-model","$parent.$data"),g.editorEl.addClass(t.camelToDash(g.directiveName)),g.single&&(g.editorEl.attr("editable-form","$form"),g.editorEl.attr("blur",g.attrs.blur||r.blurElem)),g.popover){var u=angular.element("<div></div>");u.append(g.editorEl),g.editorEl=u,h.put("popover.html",g.editorEl[0].outerHTML)}angular.isFunction(e.postrender)&&e.postrender.call(g)},g.setLocalValue=function(){g.scope.$data=g.useCopy?angular.copy(p(e.$parent)):p(e.$parent)};var b=null;g.show=function(){return g.setLocalValue(),g.render(),n.after(g.editorEl),b=e.$new(),c(g.editorEl)(b),g.addListeners(),n.addClass("editable-hide"),g.onshow()},g.hide=function(){return b.$destroy(),g.controlsEl.remove(),g.editorEl.remove(),n.removeClass("editable-hide"),g.popover&&h.remove("popover.html"),g.onhide()},g.cancel=function(){g.oncancel()},g.addListeners=function(){g.inputEl.bind("keyup",function(e){if(g.single)switch(e.keyCode){case 27:g.scope.$apply(function(){g.scope.$form.$cancel()})}}),g.single&&"no"===g.buttons&&g.autosubmit(),g.editorEl.bind("click",function(e){e.which&&1!==e.which||g.scope.$form.$visible&&(g.scope.$form._clicked=!0)})},g.setWaiting=function(e){e?(f=!g.inputEl.attr("disabled")&&!g.inputEl.attr("ng-disabled")&&!g.inputEl.attr("ng-enabled"))&&(g.inputEl.attr("disabled","disabled"),g.buttonsEl&&g.buttonsEl.find("button").attr("disabled","disabled")):f&&(g.inputEl.removeAttr("disabled"),g.buttonsEl&&g.buttonsEl.find("button").removeAttr("disabled"))},g.activate=function(e,t){setTimeout(function(){var i=g.inputEl[0];"focus"===r.activate&&i.focus?(void 0!==e&&""!==e&&i.setSelectionRange&&(t=t||e,i.onfocus=function(){setTimeout(function(){try{this.setSelectionRange(e,t)}catch(e){}}.bind(this))}),"editableRadiolist"==g.directiveName||"editableChecklist"==g.directiveName||"editableBsdate"==g.directiveName||"editableTagsInput"==g.directiveName?i.querySelector(".ng-pristine").focus():i.focus()):"select"===r.activate&&(i.select?i.select():i.focus&&i.focus())},0)},g.setError=function(t){angular.isObject(t)||(e.$error=d.trustAsHtml(t),g.error=t)},g.catchError=function(e,t){return angular.isObject(e)&&!0!==t?u.when(e).then(angular.bind(this,function(e){this.catchError(e,!0)}),angular.bind(this,function(e){this.catchError(e,!0)})):t&&angular.isObject(e)&&e.status&&200!==e.status&&e.data&&angular.isString(e.data)?(this.setError(e.data),e=e.data):angular.isString(e)&&this.setError(e),e},g.save=function(){p.assign(e.$parent,g.useCopy?angular.copy(g.scope.$data):g.scope.$data)},g.handleEmpty=function(){var t=p(e.$parent),i=null===t||void 0===t||""===t||angular.isArray(t)&&0===t.length;n.toggleClass("editable-empty",i)},g.autosubmit=angular.noop,g.onshow=angular.noop,g.onhide=angular.noop,g.oncancel=angular.noop,g.onbeforesave=angular.noop,g.onaftersave=angular.noop}return i.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableIcons","editableOptions","$rootScope","$compile","$q","$sce","$templateCache"],i}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController","editableOptions",function(e,t,i,n,o,s,a,r){return function(t){return{restrict:"A",scope:!0,require:[t.directiveName,"?^form"],controller:s,link:function(i,s,l,c){var u,d=c[0],h=!1;if(c[1])u=c[1],h=void 0===l.eSingle;else if(l.eForm){var p=e(l.eForm)(i);if(p)u=p,h=!0;else if(s&&"function"==typeof s.parents&&s.parents().last().find('form[name="'+l.eForm+'"]').length)u=null,h=!0;else for(var f=0;f<o[0].forms.length;f++)if(o[0].forms[f].name===l.eForm){u=null,h=!0;break}}angular.forEach(t,function(e,t){void 0!==d[t]&&(d.parent[t]=d[t])}),angular.extend(d,t);if(d.init(!h),i.$editable=d,s.addClass("editable"),h)if(u){if(i.$form=u,!i.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";i.$form.$addEditable(d)}else n.$$editableBuffer=n.$$editableBuffer||{},n.$$editableBuffer[l.eForm]=n.$$editableBuffer[l.eForm]||[],n.$$editableBuffer[l.eForm].push(d),i.$form=null;else i.$form=a(),i.$form.$addEditable(d),l.eForm&&(e(l.eForm).assign||angular.noop)(i.$parent,i.$form),l.eForm&&!l.eClickable||(s.addClass("editable-click"),s.bind(r.activationEvent,function(e){e.preventDefault(),e.editable=d,(angular.isDefined(l.editDisabled)?i.$eval(l.editDisabled):r.isDisabled)||i.$apply(function(){i.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(e,t,i,n,o){var s=[],a=function(e,t){var i=!0,n=e.$editables;return angular.forEach(n,function(e){(function(e,t){if(t==e)return!0;for(var i=t.parentNode;null!==i;){if(i==e)return!0;i=i.parentNode}return!1})(e.editorEl[0],t.target)&&(i=!1)}),i};t.bind("click",function(e){if(!e.which||1===e.which){for(var t=[],n=[],o=0;o<s.length;o++)s[o]._clicked?s[o]._clicked=!1:s[o].$waiting||("cancel"===s[o]._blur&&a(s[o],e)&&t.push(s[o]),"submit"===s[o]._blur&&a(s[o],e)&&n.push(s[o]));(t.length||n.length)&&i.$apply(function(){angular.forEach(t,function(e){e.$cancel()}),angular.forEach(n,function(e){e.$submit()})})}}),i.$on("closeEdit",function(){for(var e=0;e<s.length;e++)s[e].$hide()});var r={$addEditable:function(e){this.$editables.push(e),e.elem.bind("$destroy",angular.bind(this,this.$removeEditable,e)),e.scope.$form||(e.scope.$form=this),this.$visible&&e.catchError(e.show()),e.catchError(e.setWaiting(this.$waiting))},$removeEditable:function(e){for(var t=0;t<this.$editables.length;t++)if(this.$editables[t]===e)return void this.$editables.splice(t,1)},$show:function(){if(!this.$visible){this.$visible=!0;var e=n();e.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(t){e.when(t.show())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===o.indexOf(s,this)&&s.push(this)}),0)}},$activate:function(e){var t,i,n;if(this.$editables.length){if(angular.isString(e))for(t=0;t<this.$editables.length;t++)if(this.$editables[t].name===e)return void this.$editables[t].activate();for(t=0;t<this.$editables.length;t++)if(this.$editables[t].error)return void this.$editables[t].activate();i=this.$editables[0].elem[0].selectionStart?this.$editables[0].elem[0].selectionStart:this.$editables[0].elem[0].text?this.$editables[0].elem[0].text.length:this.$editables[0].elem[0].innerHTML?this.$editables[0].elem[0].innerHTML.length:0,n=this.$editables[0].elem[0].selectionEnd?this.$editables[0].elem[0].selectionEnd:this.$editables[0].elem[0].text?this.$editables[0].elem[0].text.length:this.$editables[0].elem[0].innerHTML?this.$editables[0].elem[0].innerHTML.length:0,this.$editables[0].activate(i,n)}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(e){e.hide()}),o.arrayRemove(s,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(e){e.cancel()}),this.$hide())},$setWaiting:function(e){this.$waiting=!!e,angular.forEach(this.$editables,function(t){t.setWaiting(!!e)})},$setError:function(e,t){angular.forEach(this.$editables,function(i){e&&i.name!==e||i.setError(t)})},$submit:function(){if(!this.$waiting){this.$setError(null,"");var e=n();angular.forEach(this.$editables,function(t){e.when(t.onbeforesave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,t,!0),onFalse:angular.bind(this,t,!1),onString:angular.bind(this,this.$activate)})}function t(e){var t=n();t.when(this.$onbeforesave()),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:e?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(e){e.save()});var e=n();e.when(this.$onaftersave()),angular.forEach(this.$editables,function(t){e.when(t.onaftersave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},r)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(e,t,i,n){return{restrict:"A",require:["form"],compile:function(){return{pre:function(t,n,o,s){var a,r=s[0];o.editableForm?t[o.editableForm]&&t[o.editableForm].$show?(a=t[o.editableForm],angular.extend(r,a)):(a=i(),t[o.editableForm]=a,angular.extend(a,r)):(a=i(),angular.extend(r,a));var l=e.$$editableBuffer,c=r.$name;c&&l&&l[c]&&(angular.forEach(l[c],function(e){a.$addEditable(e)}),delete l[c])},post:function(e,i,o,s){var a;a=o.editableForm&&e[o.editableForm]&&e[o.editableForm].$show?e[o.editableForm]:s[0],o.onshow&&(a.$onshow=angular.bind(a,t(o.onshow),e)),o.onhide&&(a.$onhide=angular.bind(a,t(o.onhide),e)),o.oncancel&&(a.$oncancel=angular.bind(a,t(o.oncancel),e)),o.shown&&t(o.shown)(e)&&a.$show(),a._blur=o.blur||n.blurForm,o.ngSubmit||o.submit||(o.onbeforesave&&(a.$onbeforesave=function(){return t(o.onbeforesave)(e,{$data:a.$data})}),o.onaftersave&&(a.$onaftersave=function(){return t(o.onaftersave)(e,{$data:a.$data})}),i.bind("submit",function(t){t.preventDefault(),e.$apply(function(){a.$submit()})})),i.bind("click",function(e){e.which&&1!==e.which||a.$visible&&(a._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(e){return function(){return{promises:[],hasFalse:!1,hasString:!1,when:function(t,i){if(!1===t)this.hasFalse=!0;else if(!i&&angular.isObject(t))this.promises.push(e.when(t));else{if(!angular.isString(t))return;this.hasString=!0}},then:function(t){var i=(t=t||{}).onTrue||angular.noop,n=t.onFalse||angular.noop,o=t.onString||angular.noop,s=t.onWait||angular.noop,a=this;function r(){a.hasString||a.hasFalse?!a.hasString&&a.hasFalse?n():o():i()}this.promises.length?(s(!0),e.all(this.promises).then(function(e){s(!1),angular.forEach(e,function(e){a.when(e,!0)}),r()},function(e){s(!1),o()})):r()}}}}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(t===e[i])return i;return-1},arrayRemove:function(e,t){var i=this.indexOf(e,t);return i>=0&&e.splice(i,1),t},camelToDash:function(e){return e.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()})},dashToCamel:function(e){return e.replace(/([\:\-\_]+(.))/g,function(e,t,i,n){return n?i.toUpperCase():i}).replace(/^moz([A-Z])/,"Moz$1")},rename:function(e,t){if(t[0]&&t[0].attributes){var i=angular.element("<"+e+"/>");i.html(t.html());for(var n=t[0].attributes,o=0;o<n.length;++o)i.attr(n.item(o).nodeName,n.item(o).value);return i}}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){var e=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return function(t){var i;if(!(i=t.match(e)))throw"ng-options parse error";var n,o=i[2]||i[1],s=i[4]||i[6],a=i[5],r=(i[3],i[2]?i[1]:s),l=i[7],c=i[8],u=c?i[8]:null;return void 0===a?(n=s+" in "+l,void 0!==c&&(n+=" track by "+u)):n="("+a+", "+s+") in "+l,{ngRepeat:n,locals:{valueName:s,keyName:a,valueFn:r,displayFn:o}}}}]),angular.module("xeditable").factory("editableCombodate",[function(){function e(e,t){if(this.$element=angular.element(e),"INPUT"!=this.$element[0].nodeName)throw"Combodate should be applied to INPUT element";var i=(new Date).getFullYear();this.defaults={format:"YYYY-MM-DD HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:i,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,customClass:"",roundTime:!0,smartDays:!0},this.options=angular.extend({},this.defaults,t),this.init()}return e.prototype={constructor:e,init:function(){if(this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=angular.element('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.options.smartDays){var e=this;this.$widget.find("select").bind("change",function(t){(angular.element(t.target).hasClass("month")||angular.element(t.target).hasClass("year"))&&e.fillCombo("day")})}this.$widget.find("select").css("width","auto"),this.$element.css("display","none").after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template,t=this.options.customClass;return angular.forEach(this.map,function(t,i){t=t[0];var n=new RegExp(t+"+"),o=t.length>1?t.substring(1,2):t;e=e.replace(n,"{"+o+"}")}),e=e.replace(/ /g,"&nbsp;"),angular.forEach(this.map,function(i,n){var o=(i=i[0]).length>1?i.substring(1,2):i;e=e.replace("{"+o+"}",'<select class="'+n+" "+t+'"></select>')}),e},initCombos:function(){for(var e in this.map){var t=this.$widget[0].querySelectorAll("."+e);this["$"+e]=t.length?angular.element(t):null,this.fillCombo(e)}},fillCombo:function(e){var t=this["$"+e];if(t){var i=this["fill"+e.charAt(0).toUpperCase()+e.slice(1)](),n=t.val();t.html("");for(var o=0;o<i.length;o++)t.append('<option value="'+i[o][0]+'">'+i[o][1]+"</option>");t.val(n)}},fillCommon:function(e){var t,i=[];if("name"===this.options.firstItem){var n="function"==typeof(t=moment.relativeTime||moment.langData()._relativeTime)[e]?t[e](1,!0,e,!1):t[e];n=n.split(" ").reverse()[0],i.push(["",n])}else"empty"===this.options.firstItem&&i.push(["",""]);return i},fillDay:function(){var e,t,i=this.fillCommon("d"),n=-1!==this.options.template.indexOf("DD"),o=31;if(this.options.smartDays&&this.$month&&this.$year){var s=parseInt(this.$month.val(),10),a=parseInt(this.$year.val(),10);isNaN(s)||isNaN(a)||(o=moment([a,s]).daysInMonth())}for(t=1;t<=o;t++)e=n?this.leadZero(t):t,i.push([t,e]);return i},fillMonth:function(){var e,t,i=this.fillCommon("M"),n=-1!==this.options.template.indexOf("MMMM"),o=-1!==this.options.template.indexOf("MMM"),s=-1!==this.options.template.indexOf("MM");for(t=0;t<=11;t++)e=n?moment().date(1).month(t).format("MMMM"):o?moment().date(1).month(t).format("MMM"):s?this.leadZero(t+1):t+1,i.push([t,e]);return i},fillYear:function(){var e,t,i=[],n=-1!==this.options.template.indexOf("YYYY");for(t=this.options.maxYear;t>=this.options.minYear;t--)e=n?t:(t+"").substring(2),i[this.options.yearDescending?"push":"unshift"]([t,e]);return i=this.fillCommon("y").concat(i)},fillHour:function(){var e,t,i=this.fillCommon("h"),n=-1!==this.options.template.indexOf("h"),o=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),s=n?12:23;for(t=n?1:0;t<=s;t++)e=o?this.leadZero(t):t,i.push([t,e]);return i},fillMinute:function(){var e,t,i=this.fillCommon("m"),n=-1!==this.options.template.indexOf("mm");for(t=0;t<=59;t+=this.options.minuteStep)e=n?this.leadZero(t):t,i.push([t,e]);return i},fillSecond:function(){var e,t,i=this.fillCommon("s"),n=-1!==this.options.template.indexOf("ss");for(t=0;t<=59;t+=this.options.secondStep)e=n?this.leadZero(t):t,i.push([t,e]);return i},fillAmpm:function(){var e=-1!==this.options.template.indexOf("a");this.options.template.indexOf("A");return[["am",e?"am":"AM"],["pm",e?"pm":"PM"]]},getValue:function(e){var t,i={},n=this,o=!1;return angular.forEach(this.map,function(e,t){if("ampm"!==t){var s="day"===t?1:0;return i[t]=n["$"+t]?parseInt(n["$"+t].val(),10):s,isNaN(i[t])?(o=!0,!1):void 0}}),o?"":(this.$ampm&&(12===i.hour?i.hour="am"===this.$ampm.val()?0:12:i.hour="am"===this.$ampm.val()?i.hour:i.hour+12),t=moment([i.year,i.month,i.day,i.hour,i.minute,i.second]),this.highlight(t),null===(e=void 0===e?this.options.format:e)?t.isValid()?t:null:t.isValid()?t.format(e):"")},setValue:function(e){if(e){var t="string"==typeof e?moment(e,this.options.format,!0):moment(e),i=this,n={};t.isValid()&&(angular.forEach(this.map,function(e,i){"ampm"!==i&&(n[i]=t[e[1]]())}),this.$ampm&&(n.hour>=12?(n.ampm="pm",n.hour>12&&(n.hour-=12)):(n.ampm="am",0===n.hour&&(n.hour=12))),angular.forEach(n,function(e,t){i["$"+t]&&("minute"===t&&i.options.minuteStep>1&&i.options.roundTime&&(e=o(i["$"+t],e)),"second"===t&&i.options.secondStep>1&&i.options.roundTime&&(e=o(i["$"+t],e)),i["$"+t].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(t.format(this.options.format)).triggerHandler("change"))}function o(e,t){var i={};return angular.forEach(e.children("option"),function(e,n){var o=angular.element(e).attr("value");if(""!==o){var s=Math.abs(o-t);(void 0===i.distance||s<i.distance)&&(i={value:o,distance:s})}}),i.value}},highlight:function(e){e.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(e){return e<=9?"0"+e:e},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},{getInstance:function(t,i){return new e(t,i)}}}]),angular.module("xeditable").factory("editableIcons",function(){return{default:{bs2:{ok:"icon-ok icon-white",cancel:"icon-remove",clear:"icon-trash"},bs3:{ok:"glyphicon glyphicon-ok",cancel:"glyphicon glyphicon-remove",clear:"glyphicon glyphicon-trash"}},external:{"font-awesome":{ok:"fa fa-check",cancel:"fa fa-times",clear:"fa fa-trash"}}}}),angular.module("xeditable").factory("editableThemes",function(){return{default:{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>',resetTpl:'<button type="reset">clear</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableBsdate":case"editableTime":case"editableMonth":case"editableWeek":case"editablePassword":case"editableDatetimeLocal":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}break;case"editableCheckbox":this.editorEl.addClass("checkbox")}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}},semantic:{formTpl:'<form class="editable-wrap ui form" ng-class="{\'error\': $error}" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls ui fluid input" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error ui error message" data-ng-if="$error" data-ng-bind-html="$error"></div>',buttonsTpl:'<span class="mini ui buttons"></span>',submitTpl:'<button type="submit" class="ui primary button"><i class="ui check icon"></i></button>',cancelTpl:'<button type="button" class="ui button" ng-click="$form.$cancel()"><i class="ui cancel icon"></i></button>',resetTpl:'<button type="reset" class="ui button">clear</button>'}}}),function(e){void 0===e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var i=e([0]),n=-1,o=this.length;++n<o&&(i.context=i[0]=this[n])&&!1!==t.call(i[0],n,i););return this}})}(jQuery),function(e,t){"use strict";if(window.Select2===t){var i,n,o,s,a,r,l,c,u={x:0,y:0},d={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case d.LEFT:case d.RIGHT:case d.UP:case d.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case d.SHIFT:case d.CTRL:case d.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&e<=123}},h="<div class='select2-measure-scrollbar'></div>",p={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"};r=e(document),c=1,s=function(){return c++},r.on("mousemove",function(e){u.x=e.pageX,u.y=e.pageY}),n=O(i=O(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var n,o;this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==t&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+s()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",i.element.attr("title")),this.body=e("body"),k(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(M(i.containerCss)),this.container.addClass(M(i.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",C),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),k(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(M(i.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",C),this.results=n=this.container.find(".select2-results"),this.search=o=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",C),this.results.on("mousemove",function(i){var n=u;n!==t&&n.x===i.pageX&&n.y===i.pageY||e(i.target).trigger("mousemove-filtered",i)}),this.dropdown.on("mousemove-filtered",".select2-results",this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",".select2-results",this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",".select2-results",this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",".select2-results",this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),function(e,t){var i=x(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){m(e.target,t.get())>=0&&i(e)})}(80,this.results),this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&n.mousewheel(function(e,t,i,o){var s=n.scrollTop();o>0&&s-o<=0?(n.scrollTop(0),C(e)):o<0&&n.get(0).scrollHeight-n.scrollTop()+o<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),C(e))}),w(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",".select2-results",this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var a=i.element.prop("disabled");a===t&&(a=!1),this.enable(!a);var r=i.element.prop("readonly");r===t&&(r=!1),this.readonly(r),l=l||function(){var t=e(h);t.appendTo("body");var i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),i}(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,i=e.data("select2");this.close(),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),i!==t&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),_.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:v(e.attr("locked"),"locked")||v(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(i){var n,o,a,r,l=this;if("select"===(n=i.element).get(0).tagName.toLowerCase()&&(this.select=o=i.element),o&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),"function"!=typeof(i=e.extend({},{populateResults:function(n,o,a){var r,c=this.opts.id,u=this.liveRegion;(r=function(n,o,d){var h,p,f,g,m,v,b,y,w,x;for(h=0,p=(n=i.sortResults(n,o,a)).length;h<p;h+=1)g=!(m=!0===(f=n[h]).disabled)&&c(f)!==t,v=f.children&&f.children.length>0,(b=e("<li></li>")).addClass("select2-results-dept-"+d),b.addClass("select2-result"),b.addClass(g?"select2-result-selectable":"select2-result-unselectable"),m&&b.addClass("select2-disabled"),v&&b.addClass("select2-result-with-children"),b.addClass(l.opts.formatResultCssClass(f)),b.attr("role","presentation"),(y=e(document.createElement("div"))).addClass("select2-result-label"),y.attr("id","select2-result-label-"+s()),y.attr("role","option"),(x=i.formatResult(f,y,a,l.opts.escapeMarkup))!==t&&(y.html(x),b.append(y)),v&&((w=e("<ul></ul>")).addClass("select2-result-sub"),r(f.children,w,d+1),b.append(w)),b.data("select2-data",f),o.append(b);u.text(i.formatMatches(n.length))})(o,n,0)}},e.fn.select2.defaults,i)).id&&(a=i.id,i.id=function(e){return e[a]}),e.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(o?(i.query=this.bind(function(e){var i,o,s,a={results:[],more:!1},r=e.term;s=function(t,i){var n;t.is("option")?e.matcher(r,t.text(),t)&&i.push(l.optionToData(t)):t.is("optgroup")&&(n=l.optionToData(t),t.children().each2(function(e,t){s(t,n.children)}),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==t&&i.length>0&&(o=this.getPlaceholderOption())&&(i=i.not(o)),i.each2(function(e,t){s(t,a.results)}),e.callback(a)}),i.id=function(e){return e.id}):"query"in i||("ajax"in i?((r=i.element.data("ajax-url"))&&r.length>0&&(i.ajax.url=r),i.query=S.call(i.element,i.ajax)):"data"in i?i.query=E(i.data):"tags"in i&&(i.query=P(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),i.initSelection===t&&(i.initSelection=function(t,n){var o=[];e(b(t.val(),i.separator)).each(function(){var t={id:this,text:this},n=i.tags;e.isFunction(n)&&(n=n()),e(n).each(function(){if(v(this.id,t.id))return t=this,!1}),o.push(t)}),n(o)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var e,i,n=this.opts.element;n.on("change.select2",this.bind(function(e){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),e=this.bind(function(){var e=n.prop("disabled");e===t&&(e=!1),this.enable(!e);var i=n.prop("readonly");i===t&&(i=!1),this.readonly(i),k(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(M(this.opts.containerCssClass)),k(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(M(this.opts.dropdownCssClass))}),n.length&&n[0].attachEvent&&n.each(function(){this.attachEvent("onpropertychange",e)}),(i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i(function(t){t.forEach(e)}),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var i=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,i,n,o,s,a=this.dropdown,r=this.container.offset(),c=this.container.outerHeight(!1),u=this.container.outerWidth(!1),d=a.outerHeight(!1),h=e(window),p=h.width(),f=h.height(),g=h.scrollLeft()+p,m=h.scrollTop()+f,v=r.top+c,b=r.left,y=v+d<=m,w=r.top-d>=h.scrollTop(),x=a.outerWidth(!1),C=b+x<=g;a.hasClass("select2-drop-above")?(i=!0,!w&&y&&(n=!0,i=!1)):(i=!1,!y&&w&&(n=!0,i=!0)),n&&(a.hide(),r=this.container.offset(),c=this.container.outerHeight(!1),u=this.container.outerWidth(!1),d=a.outerHeight(!1),g=h.scrollLeft()+p,m=h.scrollTop()+f,v=r.top+c,C=(b=r.left)+(x=a.outerWidth(!1))<=g,a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(s=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),(x=a.outerWidth(!1)+(s.scrollHeight===s.clientHeight?0:l.width))>u?u=x:x=u,d=a.outerHeight(!1),C=b+x<=g):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(v-=(t=this.body.offset()).top,b-=t.left),C||(b=r.left+this.container.outerWidth(!1)-x),o={left:b,width:u},i?(o.top=r.top-d,o.bottom="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(o.top=v,o.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),o=e.extend(o,M(this.opts.dropdownCss)),a.css(o)},shouldOpen:function(){var t;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),!0)},opening:function(){var t,i=this.containerEventName,n="scroll."+i,o="resize."+i,s="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0==(t=e("#select2-drop-mask")).length&&((t=e(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(i){f(t);var n,o=e("#select2-drop");o.length>0&&((n=o.data("select2")).opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close(),i.preventDefault(),i.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){e(this).on(o+" "+n+" "+s,function(e){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,i="scroll."+t,n="resize."+t,o="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(i).off(n).off(o)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return M(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,i,n,o,s,a,r,l=this.results;(i=this.highlight())<0||(0!=i?(t=this.findHighlightableChoices().find(".select2-result-label"),o=(n=e(t[i])).offset().top+n.outerHeight(!0),i===t.length-1&&(r=l.find("li.select2-more-results")).length>0&&(o=r.offset().top+r.outerHeight(!0)),o>(s=l.offset().top+l.outerHeight(!0))&&l.scrollTop(l.scrollTop()+(o-s)),(a=n.offset().top-l.offset().top)<0&&"none"!=n.css("display")&&l.scrollTop(l.scrollTop()+a)):l.scrollTop(0))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){var o=e(i[n+=t]);if(o.hasClass("select2-result-selectable")&&!o.hasClass("select2-disabled")&&!o.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(t){var i,n,o=this.findHighlightableChoices();if(0===arguments.length)return m(o.filter(".select2-highlighted")[0],o.get());t>=o.length&&(t=o.length-1),t<0&&(t=0),this.removeHighlight(),(i=e(o[t])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),(n=i.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=e(t.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),i=this.resultsPage+1,n=this,o=this.search.val(),s=this.context;0!==t.length&&t.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:s,matcher:this.opts.matcher,callback:this.bind(function(a){n.opened()&&(n.opts.populateResults.call(this,e,a.results,{term:o,page:i,context:s}),n.postprocessResults(a,!1,!1),!0===a.more?(t.detach().appendTo(e).text(M(n.opts.formatLoadMore,i+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):t.remove(),n.positionDropdown(),n.resultsPage=i,n.context=a.context,this.opts.element.trigger({type:"select2-loaded",items:a}))})}))},tokenize:function(){},updateResults:function(i){var n,o,s,a=this.search,r=this.results,l=this.opts,c=this,u=a.val(),d=e.data(this.container,"select2-last-term");if((!0===i||!d||!v(u,d))&&(e.data(this.container,"select2-last-term",u),!0===i||!1!==this.showSearchInput&&this.opened())){s=++this.queryCount;var h=this.getMaximumSelectionSize();if(!(h>=1&&(n=this.data(),e.isArray(n)&&n.length>=h&&D(l.formatSelectionTooBig,"formatSelectionTooBig"))))return a.val().length<l.minimumInputLength?(D(l.formatInputTooShort,"formatInputTooShort")?f("<li class='select2-no-results'>"+M(l.formatInputTooShort,a.val(),l.minimumInputLength)+"</li>"):f(""),void(i&&this.showSearch&&this.showSearch(!0))):void(l.maximumInputLength&&a.val().length>l.maximumInputLength?D(l.formatInputTooLong,"formatInputTooLong")?f("<li class='select2-no-results'>"+M(l.formatInputTooLong,a.val(),l.maximumInputLength)+"</li>"):f(""):(l.formatSearching&&0===this.findHighlightableChoices().length&&f("<li class='select2-searching'>"+M(l.formatSearching)+"</li>"),a.addClass("select2-active"),this.removeHighlight(),(o=this.tokenize())!=t&&null!=o&&a.val(o),this.resultsPage=1,l.query({element:l.element,term:a.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(n){var o;s==this.queryCount&&(this.opened()?(this.context=n.context===t?null:n.context,this.opts.createSearchChoice&&""!==a.val()&&(o=this.opts.createSearchChoice.call(c,a.val(),n.results))!==t&&null!==o&&c.id(o)!==t&&null!==c.id(o)&&0===e(n.results).filter(function(){return v(c.id(this),c.id(o))}).length&&this.opts.createSearchChoicePosition(n.results,o),0===n.results.length&&D(l.formatNoMatches,"formatNoMatches")?f("<li class='select2-no-results'>"+M(l.formatNoMatches,a.val())+"</li>"):(r.empty(),c.opts.populateResults.call(this,r,n.results,{term:a.val(),page:this.resultsPage,context:null}),!0===n.more&&D(l.formatLoadMore,"formatLoadMore")&&(r.append("<li class='select2-more-results'>"+c.opts.escapeMarkup(M(l.formatLoadMore,this.resultsPage))+"</li>"),window.setTimeout(function(){c.loadMoreIfNeeded()},10)),this.postprocessResults(n,i),p(),this.opts.element.trigger({type:"select2-loaded",items:n}))):this.search.removeClass("select2-active"))})})));f("<li class='select2-selection-limit'>"+M(l.formatSelectionTooBig,h)+"</li>")}function p(){a.removeClass("select2-active"),c.positionDropdown(),r.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?c.liveRegion.text(r.text()):c.liveRegion.text(c.opts.formatMatches(r.find(".select2-result-selectable").length))}function f(e){r.html(e),p()}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){var e;(e=this.search)[0]!==document.activeElement&&window.setTimeout(function(){var t,i=e[0],n=e.val().length;e.focus(),(i.offsetWidth>0||i.offsetHeight>0)&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&((t=i.createTextRange()).collapse(!1),t.select()))},0)},selectHighlighted:function(e){if(this._touchMoved)this.clearTouchMoved();else{var t=this.highlight(),i=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()}},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){var i=function(){var i,n,o,s,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((i=this.opts.element.attr("style"))!==t)for(s=0,a=(n=i.split(";")).length;s<a;s+=1)if(null!==(o=n[s].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&o.length>=1)return o[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width")).indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==i&&this.container.css("width",i)}}),{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,n,o;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(i=this.search.get(0)).createTextRange?((n=i.createTextRange()).collapse(!1),n.select()):i.setSelectionRange&&(o=this.search.val().length,i.setSelectionRange(o,o))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),_.call(this,"selection","focusser")},initContainer:function(){var t,i,n=this.container,o=this.dropdown,a=s();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),i=e("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(i.text()).attr("for",this.focusser.attr("id"));var r=this.opts.element.attr("title");this.opts.element.attr("title",r||i.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled())if(e.which!==d.PAGE_UP&&e.which!==d.PAGE_DOWN)switch(e.which){case d.UP:case d.DOWN:return this.moveHighlight(e.which===d.UP?-1:1),void C(e);case d.ENTER:return this.selectHighlighted(),void C(e);case d.TAB:return void this.selectHighlighted({noFocus:!0});case d.ESC:return this.cancel(e),void C(e)}else C(e)})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==d.TAB&&!d.isControl(e)&&!d.isFunctionKey(e)&&e.which!==d.ESC){if(!1!==this.opts.openOnEnter||e.which!==d.ENTER){if(e.which==d.DOWN||e.which==d.UP||e.which==d.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void C(e)}return e.which==d.DELETE||e.which==d.BACKSPACE?(this.opts.allowClear&&this.clear(),void C(e)):void 0}C(e)}})),w(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){var t;this.isInterfaceEnabled()&&(this.clear(),(t=e).preventDefault(),t.stopImmediatePropagation(),this.close(),this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(i){f(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),C(i)})),o.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){C(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var i=this.selection.data("select2-data");if(i){var n=e.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var o=this.getPlaceholderOption();this.opts.element.val(o?o.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(i,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()!==t&&((e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val())},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=e.find("option").filter(function(){return this.selected&&!this.disabled});t(i.optionToData(n))}:"data"in t&&(t.initSelection=t.initSelection||function(i,n){var o=i.val(),s=null;t.query({matcher:function(e,i,n){var a=v(o,t.id(n));return a&&(s=n),a},callback:e.isFunction(n)?function(){n(s)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,i,n){var o=0,s=this;if(this.findHighlightableChoices().each2(function(e,t){if(v(s.id(t.data("select2-data")),s.opts.element.val()))return o=e,!1}),!1!==n&&(!0===i&&o>=0?this.highlight(o):this.highlight(0)),!0===i){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(function t(i){var n=0;return e.each(i,function(e,i){i.children?n+=t(i.children):n++}),n}(t.results)>=a)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),v(i,this.id(e))||this.triggerChange({added:e,removed:n})}},updateSelection:function(e){var i,n,o=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),o.empty(),null!==e&&(i=this.opts.formatSelection(e,o,this.opts.escapeMarkup)),i!==t&&o.append(i),(n=this.opts.formatSelectionCssClass(e,o))!==t&&o.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,i=!1,n=null,o=this,s=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return n=o.optionToData(t),!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:s});else{if(!e&&0!==e)return void this.clear(i);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){o.opts.element.val(e?o.id(e):""),o.updateSelection(e),o.setPlaceholder(),i&&o.triggerChange({added:e,removed:s})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var i,n=!1;if(0===arguments.length)return(i=this.selection.data("select2-data"))==t&&(i=null),i;arguments.length>1&&(n=arguments[1]),e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),n&&this.triggerChange({added:e,removed:i})):this.clear(n)}}),o=O(i,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){n.push(i.optionToData(t))}),t(n)}:"data"in t&&(t.initSelection=t.initSelection||function(i,n){var o=b(i.val(),t.separator),s=[];t.query({matcher:function(i,n,a){var r=e.grep(o,function(e){return v(e,t.id(a))}).length;return r&&s.push(a),r},callback:e.isFunction(n)?function(){for(var e=[],i=0;i<o.length;i++)for(var a=o[i],r=0;r<s.length;r++){var l=s[r];if(v(a,t.id(l))){e.push(l),s.splice(r,1);break}}n(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),_.call(this,"searchContainer","selection")},initContainer:function(){var t,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(i);var n=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(t){n.search[0].focus(),n.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+s()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(i){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),o=n.prev(".select2-search-choice:not(.select2-locked)"),s=n.next(".select2-search-choice:not(.select2-locked)"),a=function(t){var i=0,n=0;if("selectionStart"in(t=e(t)[0]))i=t.selectionStart,n=t.selectionEnd-i;else if("selection"in document){t.focus();var o=document.selection.createRange();n=document.selection.createRange().text.length,o.moveStart("character",-t.value.length),i=o.text.length-n}return{offset:i,length:n}}(this.search);if(n.length&&(i.which==d.LEFT||i.which==d.RIGHT||i.which==d.BACKSPACE||i.which==d.DELETE||i.which==d.ENTER)){var r=n;return i.which==d.LEFT&&o.length?r=o:i.which==d.RIGHT?r=s.length?s:null:i.which===d.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),r=o.length?o:s):i.which==d.DELETE?this.unselect(n.first())&&(this.search.width(10),r=s.length?s:null):i.which==d.ENTER&&(r=null),this.selectChoice(r),C(i),void(r&&r.length||this.open())}if((i.which===d.BACKSPACE&&1==this.keydowns||i.which==d.LEFT)&&0==a.offset&&!a.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void C(i);if(this.selectChoice(null),this.opened())switch(i.which){case d.UP:case d.DOWN:return this.moveHighlight(i.which===d.UP?-1:1),void C(i);case d.ENTER:return this.selectHighlighted(),void C(i);case d.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case d.ESC:return this.cancel(i),void C(i)}if(i.which!==d.TAB&&!d.isControl(i)&&!d.isFunctionKey(i)&&i.which!==d.BACKSPACE&&i.which!==d.ESC){if(i.which===d.ENTER){if(!1===this.opts.openOnEnter)return;if(i.altKey||i.ctrlKey||i.shiftKey||i.metaKey)return}this.open(),i.which!==d.PAGE_UP&&i.which!==d.PAGE_DOWN||C(i),i.which===d.ENTER&&C(i)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),i=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],n=[],o=this;e(t).each(function(){m(o.id(this),i)<0&&(i.push(o.id(this)),n.push(this))}),t=n,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,i){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),i&&i.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var n,o,s=!i.locked,a=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=s?a:r,c=this.id(i),u=this.getVal();(n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup))!=t&&l.find("div").replaceWith("<div>"+n+"</div>"),(o=this.opts.formatSelectionCssClass(i,l.find("div")))!=t&&l.addClass(o),s&&l.find(".select2-search-choice-close").on("mousedown",C).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),C(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",i),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(t){var i,n,o=this.getVal();if(0===(t=t.closest(".select2-search-choice")).length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(i=t.data("select2-data")){var s=e.Event("select2-removing");if(s.val=this.id(i),s.choice=i,this.opts.element.trigger(s),s.isDefaultPrevented())return!1;for(;(n=m(this.id(i),o))>=0;)o.splice(n,1),this.setVal(o),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(e,t,i){var n=this.getVal(),o=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),a=this;o.each2(function(e,t){m(a.id(t.data("select2-data")),n)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&!1!==i&&a.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&D(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+M(a.opts.formatNoMatches,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-y(this.search)},resizeSearch:function(){var t,i,n,o,s=y(this.search);t=function(t){if(!a){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);(a=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),e("body").append(a)}return a.text(t.val()),a.width()}(this.search)+10,i=this.search.offset().left,(o=(n=this.selection.width())-(i-this.selection.offset().left)-s)<t&&(o=n-s),o<40&&(o=n-s),o<=0&&(o=t),this.search.width(Math.floor(o))},getVal:function(){var e;return this.select?null===(e=this.select.val())?[]:e:b(e=this.opts.element.val(),this.opts.separator)},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){m(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(e,t){t=t.slice(0),e=e.slice(0);for(var i=0;i<t.length;i++)for(var n=0;n<e.length;n++)v(this.opts.id(t[i]),this.opts.id(e[n]))&&(t.splice(i,1),i>0&&i--,e.splice(n,1),n--);return{added:t,removed:e}},val:function(i,n){var o,s=this;if(0===arguments.length)return this.getVal();if((o=this.data()).length||(o=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:o}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(o,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=e.map(t,s.id);s.setVal(i),s.updateSelection(t),s.clearSearch(),n&&s.triggerChange(s.buildChangeDetails(o,s.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,i){var n,o,s=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();o=this.data(),t||(t=[]),n=e.map(t,function(e){return s.opts.id(e)}),this.setVal(n),this.updateSelection(t),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(o,this.data()))}}),e.fn.select2=function(){var i,n,o,s,a,r=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],u=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===r.length||"object"==typeof r[0])(i=0===r.length?{}:e.extend({},r[0])).element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?a=i.element.prop("multiple"):(a=i.multiple||!1,"tags"in i&&(i.multiple=a=!0)),(n=a?new window.Select2.class.multi:new window.Select2.class.single).init(i);else{if("string"!=typeof r[0])throw"Invalid arguments to select2 plugin: "+r;if(m(r[0],l)<0)throw"Unknown method: "+r[0];if(s=t,(n=e(this).data("select2"))===t)return;if("container"===(o=r[0])?s=n.container:"dropdown"===o?s=n.dropdown:(d[o]&&(o=d[o]),s=n[o].apply(n,r.slice(1))),m(r[0],c)>=0||m(r[0],u)>=0&&1==r.length)return!1}}),s===t?this:s},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,n){var o=[];return $(e.text,i.term,o,n),o.join("")},formatSelection:function(e,i,n){return e?n(e.text):t},sortResults:function(e,t,i){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,i){return t},formatMatches:function(e){return e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results…"},formatSearching:function(){return"Searching…"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(e,t){return g(""+t).toUpperCase().indexOf(g(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(e,i,n,o){var s,a,r,l,c,u=e,d=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return t;for(;;){for(a=-1,r=0,l=o.tokenSeparators.length;r<l&&(c=o.tokenSeparators[r],!((a=e.indexOf(c))>=0));r++);if(a<0)break;if(s=e.substring(0,a),e=e.substring(a+c.length),s.length>0&&(s=o.createSearchChoice.call(this,s,i))!==t&&null!==s&&o.id(s)!==t&&null!==o.id(s)){for(d=!1,r=0,l=i.length;r<l;r++)if(v(o.id(s),o.id(i[r]))){d=!0;break}d||n(s)}}return u!==e?e:void 0},escapeMarkup:T,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,i){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){return!("ontouchstart"in window||navigator.msMaxTouchPoints>0)||!(e.opts.minimumResultsForSearch<0)}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:S,local:E,tags:P},util:{debounce:x,markMatch:$,escapeMarkup:T,stripDiacritics:g},class:{abstract:i,single:n,multi:o}}}function f(t){var i=e(document.createTextNode(""));t.before(i),i.before(t),i.remove()}function g(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return p[e]||e})}function m(e,t){for(var i=0,n=t.length;i<n;i+=1)if(v(e,t[i]))return i;return-1}function v(e,i){return e===i||e!==t&&i!==t&&(null!==e&&null!==i&&(e.constructor===String?e+""==i+"":i.constructor===String&&i+""==e+""))}function b(t,i){var n,o,s;if(null===t||t.length<1)return[];for(o=0,s=(n=t.split(i)).length;o<s;o+=1)n[o]=e.trim(n[o]);return n}function y(e){return e.outerWidth(!1)-e.width()}function w(i){var n="keyup-change-value";i.on("keydown",function(){e.data(i,n)===t&&e.data(i,n,i.val())}),i.on("keyup",function(){var o=e.data(i,n);o!==t&&i.val()!==o&&(e.removeData(i,n),i.trigger("keyup-change"))})}function x(e,i,n){var o;return n=n||t,function(){var t=arguments;window.clearTimeout(o),o=window.setTimeout(function(){i.apply(n,t)},e)}}function C(e){e.preventDefault(),e.stopPropagation()}function k(t,i,n){var o,s,a=[];(o=t.attr("class"))&&e((o=""+o).split(" ")).each2(function(){0===this.indexOf("select2-")&&a.push(this)}),(o=i.attr("class"))&&e((o=""+o).split(" ")).each2(function(){0!==this.indexOf("select2-")&&(s=n(this))&&a.push(s)}),t.attr("class",a.join(" "))}function $(e,t,i,n){var o=g(e.toUpperCase()).indexOf(g(t.toUpperCase())),s=t.length;o<0?i.push(n(e)):(i.push(n(e.substring(0,o))),i.push("<span class='select2-match'>"),i.push(n(e.substring(o,o+s))),i.push("</span>"),i.push(n(e.substring(o+s,e.length))))}function T(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function S(i){var n,o=null,s=i.quietMillis||100,a=i.url,r=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){var n=i.data,s=a,c=i.transport||e.fn.select2.ajaxDefaults.transport,u={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,u);n=n?n.call(r,l.term,l.page,l.context):null,s="function"==typeof s?s.call(r,l.term,l.page,l.context):s,o&&"function"==typeof o.abort&&o.abort(),i.params&&(e.isFunction(i.params)?e.extend(d,i.params.call(r)):e.extend(d,i.params)),e.extend(d,{url:s,dataType:i.dataType,data:n,success:function(e){var t=i.results(e,l.page);l.callback(t)}}),o=c.call(r,d)},s)}}function E(t){var i,n,o=t,s=function(e){return""+e.text};e.isArray(o)&&(o={results:n=o}),!1===e.isFunction(o)&&(n=o,o=function(){return n});var a=o();return a.text&&(s=a.text,e.isFunction(s)||(i=a.text,s=function(e){return e[i]})),function(t){var i,n=t.term,a={results:[]};""!==n?(i=function(o,a){var r,l;if((o=o[0]).children){for(l in r={},o)o.hasOwnProperty(l)&&(r[l]=o[l]);r.children=[],e(o.children).each2(function(e,t){i(t,r.children)}),(r.children.length||t.matcher(n,s(r),o))&&a.push(r)}else t.matcher(n,s(o),o)&&a.push(o)},e(o().results).each2(function(e,t){i(t,a.results)}),t.callback(a)):t.callback(o())}}function P(i){var n=e.isFunction(i);return function(o){var s=o.term,a={results:[]},r=n?i(o):i;e.isArray(r)&&(e(r).each(function(){var e=this.text!==t,i=e?this.text:this;(""===s||o.matcher(s,i))&&a.results.push(e?this:{id:this,text:this})}),o.callback(a))}}function D(t,i){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(i+" must be a string, function, or falsy value")}function M(t){if(e.isFunction(t)){var i=Array.prototype.slice.call(arguments,1);return t.apply(null,i)}return t}function _(){var e=this;Array.prototype.forEach.call(arguments,function(t){e[t].remove(),e[t]=null})}function O(t,i){var n=function(){};return(n.prototype=new t).constructor=n,n.prototype.parent=t.prototype,n.prototype=e.extend(n.prototype,i),n}}(jQuery),angular.module("ui.select2",[]).value("uiSelect2Config",{}).directive("uiSelect2",["uiSelect2Config","$timeout",function(e,t){var i={};return e&&angular.extend(i,e),{require:"ngModel",priority:1,compile:function(e,n){var o,s,a,r=e.is("select"),l=angular.isDefined(n.multiple);return e.is("select")&&(s=e.find("option[ng-repeat], option[data-ng-repeat]")).length&&(a=s.attr("ng-repeat")||s.attr("data-ng-repeat"),o=jQuery.trim(a.split("|")[0]).split(" ").pop()),function(e,s,a,c){var u=angular.extend({},i,e.$eval(a.uiSelect2)),d=function(e){var t;return u.simple_tags?(t=[],angular.forEach(e,function(e,i){t.push(e.id)})):t=e,t};if(r?(delete u.multiple,delete u.initSelection):l&&(u.multiple=!0),c&&(e.$watch(n.ngModel,function(e,t){e&&e!==t&&c.$render()},!0),c.$render=function(){if(r)s.select2("val",c.$viewValue);else if(u.multiple){var e=c.$viewValue;angular.isString(e)&&(e=e.split(",")),s.select2("data",(i=[],(t=e)?(u.simple_tags?(i=[],angular.forEach(t,function(e,t){i.push({id:e,text:e})})):i=t,i):i))}else angular.isObject(c.$viewValue)?s.select2("data",c.$viewValue):c.$viewValue?s.select2("val",c.$viewValue):s.select2("data",null);var t,i},o&&e.$watch(o,function(e,i,n){angular.equals(e,i)||t(function(){s.select2("val",c.$viewValue),s.trigger("change"),e&&!i&&c.$setPristine&&c.$setPristine(!0)})}),c.$parsers.push(function(e){return s.prev().toggleClass("ng-invalid",!c.$valid).toggleClass("ng-valid",c.$valid).toggleClass("ng-invalid-required",!c.$valid).toggleClass("ng-valid-required",c.$valid).toggleClass("ng-dirty",c.$dirty).toggleClass("ng-pristine",c.$pristine),e}),!r&&(s.bind("change",function(t){t.stopImmediatePropagation(),e.$$phase||e.$root.$$phase||e.$apply(function(){c.$setViewValue(d(s.select2("data")))})}),u.initSelection))){var h=u.initSelection;u.initSelection=function(e,t){h(e,function(e){c.$setViewValue(d(e)),t(e)})}}s.bind("$destroy",function(){s.select2("destroy")}),a.$observe("disabled",function(e){s.select2("enable",!e)}),a.$observe("readonly",function(e){s.select2("readonly",!!e)}),a.ngMultiple&&e.$watch(a.ngMultiple,function(e){a.$set("multiple",!!e),s.select2(u)}),t(function(){s.select2(u),s.val(c.$viewValue),c.$render(),u.initSelection||r||c.$setViewValue(d(s.select2("data")))})}}}}]),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.bootbox=t(e.jQuery)}(this,function e(t,i){"use strict";var n={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},o={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},s={};function a(e){var t=p[o.locale];return t?t[e]:p.en[e]}function r(e,i,n){e.stopPropagation(),e.preventDefault(),t.isFunction(n)&&!1===n.call(i,e)||i.modal("hide")}function l(e,i){var n=0;t.each(e,function(e,t){i(e,t,n++)})}function c(e,i,n){return t.extend(!0,{},e,function(e,t){var i=e.length,n={};if(i<1||i>2)throw new Error("Invalid argument length");return 2===i||"string"==typeof e[0]?(n[t[0]]=e[0],n[t[1]]=e[1]):n=e[0],n}(i,n))}function u(e,t,i,n){return h(c({className:"bootbox-"+e,buttons:d.apply(null,t)},n,i),t)}function d(){for(var e={},t=0,i=arguments.length;t<i;t++){var n=arguments[t],o=n.toLowerCase(),s=n.toUpperCase();e[o]={label:a(s)}}return e}function h(e,t){var n={};return l(t,function(e,t){n[t]=!0}),l(e.buttons,function(e){if(n[e]===i)throw new Error("button key "+e+" is not allowed (options are "+t.join("\n")+")")}),e}s.alert=function(){var e;if((e=u("alert",["ok"],["message","callback"],arguments)).callback&&!t.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return!t.isFunction(e.callback)||e.callback.call(this)},s.dialog(e)},s.confirm=function(){var e;if((e=u("confirm",["cancel","confirm"],["message","callback"],arguments)).buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,!1)},e.buttons.confirm.callback=function(){return e.callback.call(this,!0)},!t.isFunction(e.callback))throw new Error("confirm requires a callback");return s.dialog(e)},s.prompt=function(){var e,o,a,r,u,p,f;if(r=t(n.form),o={className:"bootbox-prompt",buttons:d("cancel","confirm"),value:"",inputType:"text"},p=(e=h(c(o,arguments,["title","callback"]),["cancel","confirm"])).show===i||e.show,e.message=r,e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,null)},e.buttons.confirm.callback=function(){var i;switch(e.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":i=u.val();break;case"checkbox":var n=u.find("input:checked");i=[],l(n,function(e,n){i.push(t(n).val())})}return e.callback.call(this,i)},e.show=!1,!e.title)throw new Error("prompt requires a title");if(!t.isFunction(e.callback))throw new Error("prompt requires a callback");if(!n.inputs[e.inputType])throw new Error("invalid prompt type");switch(u=t(n.inputs[e.inputType]),e.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":u.val(e.value);break;case"select":var g={};if(f=e.inputOptions||[],!t.isArray(f))throw new Error("Please pass an array of input options");if(!f.length)throw new Error("prompt with select requires options");l(f,function(e,n){var o=u;if(n.value===i||n.text===i)throw new Error("given options in wrong format");n.group&&(g[n.group]||(g[n.group]=t("<optgroup/>").attr("label",n.group)),o=g[n.group]),o.append("<option value='"+n.value+"'>"+n.text+"</option>")}),l(g,function(e,t){u.append(t)}),u.val(e.value);break;case"checkbox":var m=t.isArray(e.value)?e.value:[e.value];if(!(f=e.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!f[0].value||!f[0].text)throw new Error("given options in wrong format");u=t("<div/>"),l(f,function(i,o){var s=t(n.inputs[e.inputType]);s.find("input").attr("value",o.value),s.find("label").append(o.text),l(m,function(e,t){t===o.value&&s.find("input").prop("checked",!0)}),u.append(s)})}return e.placeholder&&u.attr("placeholder",e.placeholder),e.pattern&&u.attr("pattern",e.pattern),e.maxlength&&u.attr("maxlength",e.maxlength),r.append(u),r.on("submit",function(e){e.preventDefault(),e.stopPropagation(),a.find(".btn-primary").click()}),(a=s.dialog(e)).off("shown.bs.modal"),a.on("shown.bs.modal",function(){u.focus()}),!0===p&&a.modal("show"),a},s.dialog=function(e){e=function(e){var i,n;if("object"!=typeof e)throw new Error("Please supply an object of options");if(!e.message)throw new Error("Please specify a message");return(e=t.extend({},o,e)).buttons||(e.buttons={}),i=e.buttons,n=function(e){var t,i=0;for(t in e)i++;return i}(i),l(i,function(e,o,s){if(t.isFunction(o)&&(o=i[e]={callback:o}),"object"!==t.type(o))throw new Error("button with key "+e+" must be an object");o.label||(o.label=e),o.className||(o.className=n<=2&&s===n-1?"btn-primary":"btn-default")}),e}(e);var s=t(n.dialog),a=s.find(".modal-dialog"),c=s.find(".modal-body"),u=e.buttons,d="",h={onEscape:e.onEscape};if(t.fn.modal===i)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(l(u,function(e,t){d+="<button data-bb-handler='"+e+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>",h[e]=t.callback}),c.find(".bootbox-body").html(e.message),!0===e.animate&&s.addClass("fade"),e.className&&s.addClass(e.className),"large"===e.size?a.addClass("modal-lg"):"small"===e.size&&a.addClass("modal-sm"),e.title&&c.before(n.header),e.closeButton){var p=t(n.closeButton);e.title?s.find(".modal-header").prepend(p):p.css("margin-top","-10px").prependTo(c)}return e.title&&s.find(".modal-title").html(e.title),d.length&&(c.after(n.footer),s.find(".modal-footer").html(d)),s.on("hidden.bs.modal",function(e){e.target===this&&s.remove()}),s.on("shown.bs.modal",function(){s.find(".btn-primary:first").focus()}),"static"!==e.backdrop&&s.on("click.dismiss.bs.modal",function(e){s.children(".modal-backdrop").length&&(e.currentTarget=s.children(".modal-backdrop").get(0)),e.target===e.currentTarget&&s.trigger("escape.close.bb")}),s.on("escape.close.bb",function(e){h.onEscape&&r(e,s,h.onEscape)}),s.on("click",".modal-footer button",function(e){var i=t(this).data("bb-handler");r(e,s,h[i])}),s.on("click",".bootbox-close-button",function(e){r(e,s,h.onEscape)}),s.on("keyup",function(e){27===e.which&&s.trigger("escape.close.bb")}),t(e.container).append(s),s.modal({backdrop:!!e.backdrop&&"static",keyboard:!1,show:!1}),e.show&&s.modal("show"),s},s.setDefaults=function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],t.extend(o,e)},s.hideAll=function(){return t(".bootbox").modal("hide"),s};var p={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return s.addLocale=function(e,i){return t.each(["OK","CANCEL","CONFIRM"],function(e,t){if(!i[t])throw new Error("Please supply a translation for '"+t+"'")}),p[e]={OK:i.OK,CANCEL:i.CANCEL,CONFIRM:i.CONFIRM},s},s.removeLocale=function(e){return delete p[e],s},s.setLocale=function(e){return s.setDefaults("locale",e)},s.init=function(i){return e(i||t)},s}),function(e,t){if("function"==typeof define&&define.amd)define(["module","exports"],t);else if("undefined"!=typeof exports)t(module,exports);else{var i={exports:{}};t(i,i.exports),e.autosize=i.exports}}(this,function(e,t){"use strict";var i,n,o="function"==typeof Map?new Map:(i=[],n=[],{has:function(e){return i.indexOf(e)>-1},get:function(e){return n[i.indexOf(e)]},set:function(e,t){-1===i.indexOf(e)&&(i.push(e),n.push(t))},delete:function(e){var t=i.indexOf(e);t>-1&&(i.splice(t,1),n.splice(t,1))}}),s=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){s=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t,i=null,n=null,a=null,r=function(){e.clientWidth!==n&&d()},l=function(t){window.removeEventListener("resize",r,!1),e.removeEventListener("input",d,!1),e.removeEventListener("keyup",d,!1),e.removeEventListener("autosize:destroy",l,!1),e.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach(function(i){e.style[i]=t[i]}),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",l,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",d,!1),window.addEventListener("resize",r,!1),e.addEventListener("input",d,!1),e.addEventListener("autosize:update",d,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:l,update:d}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),i="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(i)&&(i=0),d()}function c(t){var i=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=i,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+i+"px",n=e.clientWidth,t.forEach(function(e){e.node.scrollTop=e.scrollTop}),o&&(document.documentElement.scrollTop=o)}}function d(){u();var t=Math.round(parseFloat(e.style.height)),i=window.getComputedStyle(e,null),n="content-box"===i.boxSizing?Math.round(parseFloat(i.height)):e.offsetHeight;if(n<t?"hidden"===i.overflowY&&(c("scroll"),u(),n="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==i.overflowY&&(c("hidden"),u(),n="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),a!==n){a=n;var o=s("autosize:resized");try{e.dispatchEvent(o)}catch(e){}}}}function r(e){var t=o.get(e);t&&t.destroy()}function l(e){var t=o.get(e);t&&t.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(e){return e}).destroy=function(e){return e},c.update=function(e){return e}):((c=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return a(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e}),t.default=c,e.exports=t.default}),function(e){"object"==typeof exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";var t={},i=Math.max,n=Math.min;t.c={},t.c.d=e(document),t.c.t=function(e){return e.originalEvent.touches.length-1},t.o=function(){var i=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var t=function(e,t){var n;for(n in t)i.o[n]=t[n];i._carve().init(),i._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=e.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:(!0===this.$.data("cursor")?30:this.$.data("cursor"))||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(e){return e},parse:function(e){return parseFloat(e)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(t){var n=e(this);i.i[t]=n,i.v[t]=i.o.parse(n.val()),n.bind("change blur",function(){var e={};e[t]=n.val(),i.val(i._validate(e))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){i.val(i._validate(i.o.parse(i.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=e(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=e('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",t).parent().bind("configure",t),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var e=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),t=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(e,t)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var e=!0;i.g=i.c,i.clear(),i.dH&&(e=i.dH()),!1!==e&&i.draw()},this._touch=function(e){var n=function(e){var t=i.xy2val(e.originalEvent.touches[i.t].pageX,e.originalEvent.touches[i.t].pageY);t!=i.cv&&(i.cH&&!1===i.cH(t)||(i.change(i._validate(t)),i._draw()))};return this.t=t.c.t(e),n(e),t.c.d.bind("touchmove.k",n).bind("touchend.k",function(){t.c.d.unbind("touchmove.k touchend.k"),i.val(i.cv)}),this},this._mouse=function(e){var n=function(e){var t=i.xy2val(e.pageX,e.pageY);t!=i.cv&&(i.cH&&!1===i.cH(t)||(i.change(i._validate(t)),i._draw()))};return n(e),t.c.d.bind("mousemove.k",n).bind("keyup.k",function(e){if(27===e.keyCode){if(t.c.d.unbind("mouseup.k mousemove.k keyup.k"),i.eH&&!1===i.eH())return;i.cancel()}}).bind("mouseup.k",function(e){t.c.d.unbind("mousemove.k mouseup.k keyup.k"),i.val(i.cv)}),this},this._xy=function(){var e=this.$c.offset();return this.x=e.left,this.y=e.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(e){e.preventDefault(),i._xy()._mouse(e)}).bind("touchstart",function(e){e.preventDefault(),i._xy()._touch(e)}),this.listen()),this.relative&&e(window).resize(function(){i._carve().init(),i._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(e){var t=~~((e<0?-.5:.5)+e/this.o.step)*this.o.step;return Math.round(100*t)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(e){},this.val=function(e){},this.xy2val=function(e,t){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(e,t){var i;return e=e.substring(1,7),"rgba("+(i=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)])[0]+","+i[1]+","+i[2]+","+t+")"},this.copy=function(e,t){for(var i in e)t[i]=e[i]}},t.Dial=function(){t.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=e.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(e,t){if(null==e)return this.v;e=this.o.parse(e),!1!==t&&e!=this.v&&this.rH&&!1===this.rH(e)||(this.cv=this.o.stopper?i(n(e,this.o.max),this.o.min):e,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(e,t){var o,s;return o=Math.atan2(e-(this.x+this.w2),-(t-this.y-this.w2))-this.angleOffset,this.o.flip&&(o=this.angleArc-o-this.PI2),this.angleArc!=this.PI2&&o<0&&o>-.5?o=0:o<0&&(o+=this.PI2),s=o*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(s=i(n(s,this.o.max),this.o.min)),s},this.listen=function(){var t,o,s,a,r=this,l=function(e){e.preventDefault();var s=e.originalEvent,a=s.detail||s.wheelDeltaX,l=s.detail||s.wheelDeltaY,c=r._validate(r.o.parse(r.$.val()))+(a>0||l>0?r.o.step:a<0||l<0?-r.o.step:0);c=i(n(c,r.o.max),r.o.min),r.val(c,!1),r.rH&&(clearTimeout(t),t=setTimeout(function(){r.rH(c),t=null},100),o||(o=setTimeout(function(){t&&r.rH(c),o=null},200)))},c=1,u={37:-r.o.step,38:r.o.step,39:r.o.step,40:-r.o.step};this.$.bind("keydown",function(t){var o=t.keyCode;if(o>=96&&o<=105&&(o=t.keyCode=o-48),s=parseInt(String.fromCharCode(o)),isNaN(s)&&(13!==o&&8!==o&&9!==o&&189!==o&&(190!==o||r.$.val().match(/\./))&&t.preventDefault(),e.inArray(o,[37,38,39,40])>-1)){t.preventDefault();var l=r.o.parse(r.$.val())+u[o]*c;r.o.stopper&&(l=i(n(l,r.o.max),r.o.min)),r.change(r._validate(l)),r._draw(),a=window.setTimeout(function(){c*=2},30)}}).bind("keyup",function(e){isNaN(s)?a&&(window.clearTimeout(a),a=null,c=1,r.val(r.$.val())):r.$.val()>r.o.max&&r.$.val(r.o.max)||r.$.val()<r.o.min&&r.$.val(r.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",l),this.$.bind("mousewheel DOMMouseScroll",l)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var e=i(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/e>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(e){this.cv=e,this.$.val(this.o.format(e))},this.angle=function(e){return(e-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(e){var t,i;return e=this.angle(e),i=this.o.flip?(t=this.endAngle+1e-5)-e-1e-5:(t=this.startAngle-1e-5)+e+1e-5,this.o.cursor&&(t=i-this.cursorExt)&&(i+=this.cursorExt),{s:t,e:i,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var e,t=this.g,i=this.arc(this.cv),n=1;t.lineWidth=this.lineWidth,t.lineCap=this.lineCap,"none"!==this.o.bgColor&&(t.beginPath(),t.strokeStyle=this.o.bgColor,t.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),t.stroke()),this.o.displayPrevious&&(e=this.arc(this.v),t.beginPath(),t.strokeStyle=this.pColor,t.arc(this.xy,this.xy,this.radius,e.s,e.e,e.d),t.stroke(),n=this.cv==this.v),t.beginPath(),t.strokeStyle=n?this.o.fgColor:this.fgColor,t.arc(this.xy,this.xy,this.radius,i.s,i.e,i.d),t.stroke()},this.cancel=function(){this.val(this.v)}},e.fn.dial=e.fn.knob=function(i){return this.each(function(){var n=new t.Dial;n.o=i,n.$=e(this),n.run()}).parent()}}),function(e,t,i){"use strict";if(e&&t){var n=e.navigator.msPointerEnabled;o.prototype={on:function(e,t){e=e.toLowerCase(),this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(t)},off:function(e,t){var n,o,s;e!==i?(e=e.toLowerCase(),t!==i?this.events.hasOwnProperty(e)&&(n=this.events[e],o=t,(s=n.indexOf(o))>-1&&n.splice(s,1)):delete this.events[e]):this.events={}},fire:function(e,t){t=Array.prototype.slice.call(arguments),e=e.toLowerCase();var i=!1;return this.events.hasOwnProperty(e)&&d(this.events[e],function(e){i=!1===e.apply(this,t.slice(1))||i},this),"catchall"!=e&&(t.unshift("catchAll"),i=!1===this.fire.apply(this,t)||i),!i},webkitReadDataTransfer:function(e){var t=this,i=e.dataTransfer.items.length,n=[];function o(e,t){e.relativePath=t.substring(1),n.push(e),a()}function s(e){throw e}function a(){0==--i&&t.addFiles(n,e)}d(e.dataTransfer.items,function(e){var t=e.webkitGetAsEntry();t?t.isFile?o(e.getAsFile(),t.fullPath):function e(t){t.readEntries(function(n){n.length?(i+=n.length,d(n,function(t){if(t.isFile){var i=t.fullPath;t.file(function(e){o(e,i)},s)}else t.isDirectory&&e(t.createReader())}),e(t)):a()},s)}(t.createReader()):a()})},generateUniqueIdentifier:function(e){var t=this.opts.generateUniqueIdentifier;if("function"==typeof t)return t(e);var i=e.relativePath||e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+i.replace(/[^0-9a-zA-Z_-]/gim,"")},uploadNextChunk:function(e){var t=!1;if(this.opts.prioritizeFirstAndLastChunk&&(d(this.files,function(e){return!e.paused&&e.chunks.length&&"pending"===e.chunks[0].status()?(e.chunks[0].send(),t=!0,!1):!e.paused&&e.chunks.length>1&&"pending"===e.chunks[e.chunks.length-1].status()?(e.chunks[e.chunks.length-1].send(),t=!0,!1):void 0}),t))return t;if(d(this.files,function(e){if(e.paused||d(e.chunks,function(e){if("pending"===e.status())return e.send(),t=!0,!1}),t)return!1}),t)return!0;var i=!1;return d(this.files,function(e){if(!e.isComplete())return i=!0,!1}),i||e||c(function(){this.fire("complete")},this),!1},assignBrowse:function(e,i,n,o){e instanceof Element&&(e=[e]),d(e,function(e){var s;"INPUT"===e.tagName&&"file"===e.type?s=e:((s=t.createElement("input")).setAttribute("type","file"),u(s.style,{visibility:"hidden",position:"absolute",width:"1px",height:"1px"}),e.appendChild(s),e.addEventListener("click",function(){s.click()},!1)),this.opts.singleFile||n||s.setAttribute("multiple","multiple"),i&&s.setAttribute("webkitdirectory","webkitdirectory"),d(o,function(e,t){s.setAttribute(t,e)});var a=this;s.addEventListener("change",function(e){e.target.value&&(a.addFiles(e.target.files,e),e.target.value="")},!1)},this)},assignDrop:function(e){void 0===e.length&&(e=[e]),d(e,function(e){e.addEventListener("dragover",this.preventEvent,!1),e.addEventListener("dragenter",this.preventEvent,!1),e.addEventListener("drop",this.onDrop,!1)},this)},unAssignDrop:function(e){void 0===e.length&&(e=[e]),d(e,function(e){e.removeEventListener("dragover",this.preventEvent),e.removeEventListener("dragenter",this.preventEvent),e.removeEventListener("drop",this.onDrop)},this)},isUploading:function(){var e=!1;return d(this.files,function(t){if(t.isUploading())return e=!0,!1}),e},_shouldUploadNext:function(){var e=0,t=!0,i=this.opts.simultaneousUploads;return d(this.files,function(n){d(n.chunks,function(n){if("uploading"===n.status()&&++e>=i)return t=!1,!1})}),t&&e},upload:function(){var e=this._shouldUploadNext();if(!1!==e){this.fire("uploadStart");for(var t=!1,i=1;i<=this.opts.simultaneousUploads-e;i++)t=this.uploadNextChunk(!0)||t;t||c(function(){this.fire("complete")},this)}},resume:function(){d(this.files,function(e){e.isComplete()||e.resume()})},pause:function(){d(this.files,function(e){e.pause()})},cancel:function(){for(var e=this.files.length-1;e>=0;e--)this.files[e].cancel()},progress:function(){var e=0,t=0;return d(this.files,function(i){e+=i.progress()*i.size,t+=i.size}),t>0?e/t:0},addFile:function(e,t){this.addFiles([e],t)},addFiles:function(e,t){var i=[];d(e,function(e){if((!n||n&&e.size>0)&&(e.size%4096!=0||"."!==e.name&&"."!==e.fileName)){var o=this.generateUniqueIdentifier(e);if(this.opts.allowDuplicateUploads||!this.getFromUniqueIdentifier(o)){var a=new s(this,e,o);this.fire("fileAdded",a,t)&&i.push(a)}}},this),this.fire("filesAdded",i,t)&&(d(i,function(e){this.opts.singleFile&&this.files.length>0&&this.removeFile(this.files[0]),this.files.push(e)},this),this.fire("filesSubmitted",i,t))},removeFile:function(e){for(var t=this.files.length-1;t>=0;t--)this.files[t]===e&&(this.files.splice(t,1),e.abort(),this.fire("fileRemoved",e))},getFromUniqueIdentifier:function(e){var t=!1;return d(this.files,function(i){i.uniqueIdentifier===e&&(t=i)}),t},getSize:function(){var e=0;return d(this.files,function(t){e+=t.size}),e},sizeUploaded:function(){var e=0;return d(this.files,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){var e=0,t=0;return d(this.files,function(i){i.paused||i.error||(e+=i.size-i.sizeUploaded(),t+=i.averageSpeed)}),e&&!t?Number.POSITIVE_INFINITY:e||t?Math.floor(e/t):0}},s.prototype={measureSpeed:function(){var e=Date.now()-this._lastProgressCallback;if(e){var t=this.flowObj.opts.speedSmoothingFactor,i=this.sizeUploaded();this.currentSpeed=Math.max((i-this._prevUploadedSize)/e*1e3,0),this.averageSpeed=t*this.currentSpeed+(1-t)*this.averageSpeed,this._prevUploadedSize=i}},chunkEvent:function(e,t,i){switch(t){case"progress":if(Date.now()-this._lastProgressCallback<this.flowObj.opts.progressCallbacksInterval)break;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now();break;case"error":this.error=!0,this.abort(!0),this.flowObj.fire("fileError",this,i,e),this.flowObj.fire("error",i,this,e);break;case"success":if(this.error)return;this.measureSpeed(),this.flowObj.fire("fileProgress",this,e),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now(),this.isComplete()&&(this.currentSpeed=0,this.averageSpeed=0,this.flowObj.fire("fileSuccess",this,i,e));break;case"retry":this.flowObj.fire("fileRetry",this,e)}},pause:function(){this.paused=!0,this.abort()},resume:function(){this.paused=!1,this.flowObj.upload()},abort:function(e){this.currentSpeed=0,this.averageSpeed=0;var t=this.chunks;e&&(this.chunks=[]),d(t,function(e){"uploading"===e.status()&&(e.abort(),this.flowObj.uploadNextChunk())},this)},cancel:function(){this.flowObj.removeFile(this)},retry:function(){this.bootstrap(),this.flowObj.upload()},bootstrap:function(){"function"==typeof this.flowObj.opts.initFileFn&&this.flowObj.opts.initFileFn(this),this.abort(!0),this.error=!1,this._prevProgress=0;for(var e=this.flowObj.opts.forceChunkSize?Math.ceil:Math.floor,t=Math.max(e(this.size/this.flowObj.opts.chunkSize),1),i=0;i<t;i++)this.chunks.push(new r(this.flowObj,this,i))},progress:function(){if(this.error)return 1;if(1===this.chunks.length)return this._prevProgress=Math.max(this._prevProgress,this.chunks[0].progress()),this._prevProgress;var e=0;d(this.chunks,function(t){e+=t.progress()*(t.endByte-t.startByte)});var t=e/this.size;return this._prevProgress=Math.max(this._prevProgress,t>.9999?1:t),this._prevProgress},isUploading:function(){var e=!1;return d(this.chunks,function(t){if("uploading"===t.status())return e=!0,!1}),e},isComplete:function(){var e=!1;return d(this.chunks,function(t){var i=t.status();if("pending"===i||"uploading"===i||"reading"===i||1===t.preprocessState||1===t.readState)return e=!0,!1}),!e},sizeUploaded:function(){var e=0;return d(this.chunks,function(t){e+=t.sizeUploaded()}),e},timeRemaining:function(){if(this.paused||this.error)return 0;var e=this.size-this.sizeUploaded();return e&&!this.averageSpeed?Number.POSITIVE_INFINITY:e||this.averageSpeed?Math.floor(e/this.averageSpeed):0},getType:function(){return this.file.type&&this.file.type.split("/")[1]},getExtension:function(){return this.name.substr(2+(~-this.name.lastIndexOf(".")>>>0)).toLowerCase()}},r.prototype={getParams:function(){return{flowChunkNumber:this.offset+1,flowChunkSize:this.flowObj.opts.chunkSize,flowCurrentChunkSize:this.endByte-this.startByte,flowTotalSize:this.fileObj.size,flowIdentifier:this.fileObj.uniqueIdentifier,flowFilename:this.fileObj.name,flowRelativePath:this.fileObj.relativePath,flowTotalChunks:this.fileObj.chunks.length}},getTarget:function(e,t){return 0==t.length?e:(e.indexOf("?")<0?e+="?":e+="&",e+t.join("&"))},test:function(){this.xhr=new XMLHttpRequest,this.xhr.addEventListener("load",this.testHandler,!1),this.xhr.addEventListener("error",this.testHandler,!1);var e=l(this.flowObj.opts.testMethod,this.fileObj,this),t=this.prepareXhrRequest(e,!0);this.xhr.send(t)},preprocessFinished:function(){this.endByte=this.computeEndByte(),this.preprocessState=2,this.send()},readFinished:function(e){this.readState=2,this.bytes=e,this.send()},send:function(){var e=this.flowObj.opts.preprocess,t=this.flowObj.opts.readFileFn;if("function"==typeof e)switch(this.preprocessState){case 0:return this.preprocessState=1,void e(this);case 1:return}switch(this.readState){case 0:return this.readState=1,void t(this.fileObj,this.startByte,this.endByte,this.fileObj.file.type,this);case 1:return}if(!this.flowObj.opts.testChunks||this.tested){this.loaded=0,this.total=0,this.pendingRetry=!1,this.xhr=new XMLHttpRequest,this.xhr.upload.addEventListener("progress",this.progressHandler,!1),this.xhr.addEventListener("load",this.doneHandler,!1),this.xhr.addEventListener("error",this.doneHandler,!1);var i=l(this.flowObj.opts.uploadMethod,this.fileObj,this),n=this.prepareXhrRequest(i,!1,this.flowObj.opts.method,this.bytes);this.xhr.send(n)}else this.test()},abort:function(){var e=this.xhr;this.xhr=null,e&&e.abort()},status:function(e){return 1===this.readState?"reading":this.pendingRetry||1===this.preprocessState?"uploading":this.xhr?this.xhr.readyState<4?"uploading":this.flowObj.opts.successStatuses.indexOf(this.xhr.status)>-1?"success":this.flowObj.opts.permanentErrors.indexOf(this.xhr.status)>-1||!e&&this.retries>=this.flowObj.opts.maxChunkRetries?"error":(this.abort(),"pending"):"pending"},message:function(){return this.xhr?this.xhr.responseText:""},progress:function(){if(this.pendingRetry)return 0;var e=this.status();return"success"===e||"error"===e?1:"pending"===e?0:this.total>0?this.loaded/this.total:0},sizeUploaded:function(){var e=this.endByte-this.startByte;return"success"!==this.status()&&(e=this.progress()*e),e},prepareXhrRequest:function(e,t,i,n){var o=l(this.flowObj.opts.query,this.fileObj,this,t);o=u(o||{},this.getParams());var s=l(this.flowObj.opts.target,this.fileObj,this,t),a=null;if("GET"===e||"octet"===i){var r=[];d(o,function(e,t){r.push([encodeURIComponent(t),encodeURIComponent(e)].join("="))}),s=this.getTarget(s,r),a=n||null}else a=new FormData,d(o,function(e,t){a.append(t,e)}),void 0!==n&&a.append(this.flowObj.opts.fileParameterName,n,this.fileObj.file.name);return this.xhr.open(e,s,!0),this.xhr.withCredentials=this.flowObj.opts.withCredentials,d(l(this.flowObj.opts.headers,this.fileObj,this,t),function(e,t){this.xhr.setRequestHeader(t,e)},this),a}},o.evalOpts=l,o.extend=u,o.each=d,o.FlowFile=s,o.FlowChunk=r,o.version="2.13.2","object"==typeof module&&module&&"object"==typeof module.exports?module.exports=o:(e.Flow=o,"function"==typeof define&&define.amd&&define("flow",[],function(){return o}))}else console.warn("Flowjs needs window and document objects to work");function o(t){if(this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.slice&&!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice),this.support){this.supportDirectory=/Chrome/.test(e.navigator.userAgent)||/Firefox/.test(e.navigator.userAgent)||/Edge/.test(e.navigator.userAgent),this.files=[],this.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,singleFile:!1,fileParameterName:"file",progressCallbacksInterval:500,speedSmoothingFactor:.1,query:{},headers:{},withCredentials:!1,preprocess:null,method:"multipart",testMethod:"GET",uploadMethod:"POST",prioritizeFirstAndLastChunk:!1,allowDuplicateUploads:!1,target:"/",testChunks:!0,generateUniqueIdentifier:null,maxChunkRetries:0,chunkRetryInterval:null,permanentErrors:[404,413,415,500,501],successStatuses:[200,201,202],onDropStopPropagation:!1,initFileFn:null,readFileFn:a},this.opts={},this.events={};var i=this;this.onDrop=function(e){i.opts.onDropStopPropagation&&e.stopPropagation(),e.preventDefault();var t=e.dataTransfer;t.items&&t.items[0]&&t.items[0].webkitGetAsEntry?i.webkitReadDataTransfer(e):i.addFiles(t.files,e)},this.preventEvent=function(e){e.preventDefault()},this.opts=o.extend({},this.defaults,t||{})}}function s(e,t,n){this.flowObj=e,this.bytes=null,this.file=t,this.name=t.fileName||t.name,this.size=t.size,this.relativePath=t.relativePath||t.webkitRelativePath||this.name,this.uniqueIdentifier=n===i?e.generateUniqueIdentifier(t):n,this.chunks=[],this.paused=!1,this.error=!1,this.averageSpeed=0,this.currentSpeed=0,this._lastProgressCallback=Date.now(),this._prevUploadedSize=0,this._prevProgress=0,this.bootstrap()}function a(e,t,i,n,o){var s="slice";e.file.slice?s="slice":e.file.mozSlice?s="mozSlice":e.file.webkitSlice&&(s="webkitSlice"),o.readFinished(e.file[s](t,i,n))}function r(e,t,i){this.flowObj=e,this.fileObj=t,this.offset=i,this.tested=!1,this.retries=0,this.pendingRetry=!1,this.preprocessState=0,this.readState=0,this.loaded=0,this.total=0,this.chunkSize=this.flowObj.opts.chunkSize,this.startByte=this.offset*this.chunkSize,this.computeEndByte=function(){var e=Math.min(this.fileObj.size,(this.offset+1)*this.chunkSize);return this.fileObj.size-e<this.chunkSize&&!this.flowObj.opts.forceChunkSize&&(e=this.fileObj.size),e},this.endByte=this.computeEndByte(),this.xhr=null;var n=this;this.event=function(e,t){(t=Array.prototype.slice.call(arguments)).unshift(n),n.fileObj.chunkEvent.apply(n.fileObj,t)},this.progressHandler=function(e){e.lengthComputable&&(n.loaded=e.loaded,n.total=e.total),n.event("progress",e)},this.testHandler=function(e){var t=n.status(!0);"error"===t?(n.event(t,n.message()),n.flowObj.uploadNextChunk()):"success"===t?(n.tested=!0,n.event(t,n.message()),n.flowObj.uploadNextChunk()):n.fileObj.paused||(n.tested=!0,n.send())},this.doneHandler=function(e){var t=n.status();if("success"===t||"error"===t)delete this.data,n.event(t,n.message()),n.flowObj.uploadNextChunk();else{n.event("retry",n.message()),n.pendingRetry=!0,n.abort(),n.retries++;var i=n.flowObj.opts.chunkRetryInterval;null!==i?setTimeout(function(){n.send()},i):n.send()}}}function l(e,t){return"function"==typeof e&&(t=Array.prototype.slice.call(arguments),e=e.apply(null,t.slice(1))),e}function c(e,t){setTimeout(e.bind(t),0)}function u(e,t){return d(arguments,function(t){t!==e&&d(t,function(t,i){e[i]=t})}),e}function d(e,t,i){var n;if(e)if(void 0!==e.length){for(n=0;n<e.length;n++)if(!1===t.call(i,e[n],n))return}else for(n in e)if(e.hasOwnProperty(n)&&!1===t.call(i,e[n],n))return}}("undefined"!=typeof window&&window,"undefined"!=typeof document&&document),angular.module("flow.provider",[]).provider("flowFactory",function(){"use strict";this.defaults={},this.factory=function(e){return new Flow(e)},this.events=[],this.on=function(e,t){this.events.push([e,t])},this.$get=function(){var e=this.factory,t=this.defaults,i=this.events;return{create:function(n){var o=e(angular.extend({},t,n));return angular.forEach(i,function(e){o.on(e[0],e[1])}),o}}}}),angular.module("flow.init",["flow.provider"]).controller("flowCtrl",["$scope","$attrs","$parse","flowFactory",function(e,t,i,n){var o=angular.extend({},e.$eval(t.flowInit)),s=e.$eval(t.flowObject)||n.create(o),a=function(t){var i=Array.prototype.slice.call(arguments);i.shift();var n=e.$broadcast.apply(e,["flow::"+t,s].concat(i));if({progress:1,filesSubmitted:1,fileSuccess:1,fileError:1,complete:1}[t]&&e.$applyAsync(),n.defaultPrevented)return!1};s.on("catchAll",a),e.$on("$destroy",function(){s.off("catchAll",a)}),e.$flow=s,t.hasOwnProperty("flowName")&&(i(t.flowName).assign(e,s),e.$on("$destroy",function(){i(t.flowName).assign(e)}))}]).directive("flowInit",[function(){return{scope:!0,controller:"flowCtrl"}}]),angular.module("flow.btn",["flow.init"]).directive("flowBtn",[function(){return{restrict:"EA",scope:!1,require:"^flowInit",link:function(e,t,i){var n=i.hasOwnProperty("flowDirectory"),o=i.hasOwnProperty("flowSingleFile"),s=i.hasOwnProperty("flowAttrs")&&e.$eval(i.flowAttrs);e.$flow.assignBrowse(t,n,o,s)}}}]),angular.module("flow.dragEvents",["flow.init"]).directive("flowPreventDrop",function(){return{scope:!1,link:function(e,t,i){t.bind("drop dragover",function(e){e.preventDefault()})}}}).directive("flowDragEnter",["$timeout",function(e){return{scope:!1,link:function(t,i,n){var o,s=!1;i.bind("dragover",function(i){var a,r,l;(r=!1,l=(a=i).dataTransfer||a.originalEvent.dataTransfer,angular.forEach(l&&l.types,function(e){"Files"===e&&(r=!0)}),r)&&(s||(t.$apply(n.flowDragEnter),s=!0),e.cancel(o),i.preventDefault())}),i.bind("dragleave drop",function(i){e.cancel(o),o=e(function(){t.$eval(n.flowDragLeave),o=null,s=!1},100)})}}}]),angular.module("flow.drop",["flow.init"]).directive("flowDrop",function(){return{scope:!1,require:"^flowInit",link:function(e,t,i){function n(){e.$flow.assignDrop(t)}i.flowDropEnabled?e.$watch(i.flowDropEnabled,function(i){i?n():e.$flow.unAssignDrop(t)}):n()}}}),function(e){"use strict";var t=e.module("flow.events",["flow.init"]);e.forEach({fileSuccess:["$file","$message"],fileProgress:["$file"],fileAdded:["$file","$event"],filesAdded:["$files","$event"],filesSubmitted:["$files","$event"],fileRetry:["$file"],fileRemoved:["$file"],fileError:["$file","$message"],uploadStart:[],complete:[],progress:[],error:["$message","$file"]},function(i,n){var o,s="flow"+((o=n).charAt(0).toUpperCase()+o.slice(1));"flowUploadStart"==s&&(s="flowUploadStarted"),t.directive(s,[function(){return{require:"^flowInit",controller:["$scope","$attrs",function(t,o){t.$on("flow::"+n,function(){var n=Array.prototype.slice.call(arguments),a=n.shift();if(t.$flow===n.shift()){var r={};e.forEach(i,function(e,t){r[e]=n[t]}),!1===t.$eval(o[s],r)&&a.preventDefault()}})}]}}])})}(angular),angular.module("flow.img",["flow.init"]).directive("flowImg",[function(){return{scope:!1,require:"^flowInit",link:function(e,t,i){var n=i.flowImg;e.$watch(n,function(t){if(t){var n=new FileReader;n.readAsDataURL(t.file),n.onload=function(t){e.$apply(function(){i.$set("src",t.target.result)})}}})}}}]),angular.module("flow.transfers",["flow.init"]).directive("flowTransfers",[function(){return{scope:!0,require:"^flowInit",link:function(e){e.transfers=e.$flow.files}}}]),angular.module("flow",["flow.provider","flow.init","flow.events","flow.btn","flow.drop","flow.transfers","flow.img","flow.dragEvents"]),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).enquire=e()}}(function(){return function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return o(i||e)},u,u.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,i){var n=e(3),o=e(4).each;function s(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var i=this;this.listener=function(e){i.mql=e.currentTarget||e,i.assess()},this.mql.addListener(this.listener)}s.prototype={constuctor:s,addHandler:function(e){var t=new n(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;o(t,function(i,n){if(i.equals(e))return i.destroy(),!t.splice(n,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){o(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";o(this.handlers,function(t){t[e]()})}},t.exports=s},{3:3,4:4}],2:[function(e,t,i){var n=e(1),o=e(4),s=o.each,a=o.isFunction,r=o.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,i){var o=this.queries,l=i&&this.browserIsIncapable;return o[e]||(o[e]=new n(e,l)),a(t)&&(t={match:t}),r(t)||(t=[t]),s(t,function(t){a(t)&&(t={match:t}),o[e].addHandler(t)}),this},unregister:function(e,t){var i=this.queries[e];return i&&(t?i.removeHandler(t):(i.clear(),delete this.queries[e])),this}},t.exports=l},{1:1,4:4}],3:[function(e,t,i){function n(e){this.options=e,!e.deferSetup&&this.setup()}n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},t.exports=n},{}],4:[function(e,t,i){t.exports={isFunction:function(e){return"function"==typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var i=0,n=e.length;i<n&&!1!==t(e[i],i);i++);}}},{}],5:[function(e,t,i){var n=e(2);t.exports=new n},{2:2}]},{},[5])(5)}),function(e){"function"==typeof define&&define.amd?define("pnotify",["jquery"],e):e(jQuery)}(function(e){var t,i,n={dir1:"down",dir2:"left",push:"bottom",spacing1:25,spacing2:25,context:e("body")},o=e(window),s=function(){i=e("body"),PNotify.prototype.options.stack.context=i,(o=e(window)).bind("resize",function(){t&&clearTimeout(t),t=setTimeout(function(){PNotify.positionAll(!0)},10)})};return PNotify=function(e){this.parseOptions(e),this.init()},e.extend(PNotify.prototype,{version:"2.0.1",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"bootstrap3",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,opacity:1,animation:"fade",animate_speed:"slow",position_animate_speed:500,shadow:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:n},modules:{},runModules:function(e,t){var i;for(var n in this.modules)i="object"==typeof t&&n in t?t[n]:t,"function"==typeof this.modules[n][e]&&this.modules[n][e](this,"object"==typeof this.options[n]?this.options[n]:{},i)},state:"initializing",timer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:!1,timerHide:!1,init:function(){var t=this;return this.modules={},e.extend(!0,this.modules,PNotify.prototype.modules),"object"==typeof this.options.styling?this.styles=this.options.styling:this.styles=PNotify.styling[this.options.styling],this.elem=e("<div />",{class:"ui-pnotify "+this.options.addclass,css:{display:"none"},mouseenter:function(e){if(t.options.mouse_reset&&"out"===t.animating){if(!t.timerHide)return;t.cancelRemove()}t.options.hide&&t.options.mouse_reset&&t.cancelRemove()},mouseleave:function(e){t.options.hide&&t.options.mouse_reset&&t.queueRemove(),PNotify.positionAll()}}),this.container=e("<div />",{class:this.styles.container+" ui-pnotify-container "+("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice)}).appendTo(this.elem),""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),!1!==this.options.icon&&e("<div />",{class:"ui-pnotify-icon"}).append(e("<span />",{class:!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container),this.title_container=e("<h4 />",{class:"ui-pnotify-title"}).appendTo(this.container),!1===this.options.title?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=e("<div />",{class:"ui-pnotify-text"}).appendTo(this.container),!1===this.options.text?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),"string"==typeof this.options.width&&this.elem.css("width",this.options.width),"string"==typeof this.options.min_height&&this.container.css("min-height",this.options.min_height),"top"===this.options.stack.push?PNotify.notices=e.merge([this],PNotify.notices):PNotify.notices=e.merge(PNotify.notices,[this]),"top"===this.options.stack.push&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.options.auto_display&&this.open(),this},update:function(t){var i=this.options;return this.parseOptions(i,t),this.options.cornerclass!==i.cornerclass&&this.container.removeClass("ui-corner-all "+i.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==i.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),!1===this.options.addclass?this.elem.removeClass(i.addclass):this.options.addclass!==i.addclass&&this.elem.removeClass(i.addclass).addClass(this.options.addclass),!1===this.options.title?this.title_container.slideUp("fast"):this.options.title!==i.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),!1===i.title&&this.title_container.slideDown(200)),!1===this.options.text?this.text_container.slideUp("fast"):this.options.text!==i.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),!1===i.text&&this.text_container.slideDown(200)),this.options.type!==i.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),(this.options.icon!==i.icon||!0===this.options.icon&&this.options.type!==i.type)&&(this.container.find("div.ui-pnotify-icon").remove(),!1!==this.options.icon&&e("<div />",{class:"ui-pnotify-icon"}).append(e("<span />",{class:!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container)),this.options.width!==i.width&&this.elem.animate({width:this.options.width}),this.options.min_height!==i.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.opacity!==i.opacity&&this.elem.fadeTo(this.options.animate_speed,this.options.opacity),this.options.hide?i.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",i),this},open:function(){this.state="opening",this.runModules("beforeOpen");var e=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:i),"top"!==this.options.stack.push&&this.position(!0),"fade"===this.options.animation||"fade"===this.options.animation.effect_in?this.elem.show().fadeTo(0,0).hide():1!==this.options.opacity&&this.elem.show().fadeTo(0,this.options.opacity).hide(),this.animateIn(function(){e.queuePosition(!0),e.options.hide&&e.queueRemove(),e.state="open",e.runModules("afterOpen")}),this},remove:function(t){this.state="closing",this.timerHide=!!t,this.runModules("beforeClose");var i=this;return this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.animateOut(function(){if(i.state="closed",i.runModules("afterClose"),i.queuePosition(!0),i.options.remove&&i.elem.detach(),i.runModules("beforeDestroy"),i.options.destroy&&null!==PNotify.notices){var t=e.inArray(i,PNotify.notices);-1!==t&&PNotify.notices.splice(t,1)}i.runModules("afterDestroy")}),this},get:function(){return this.elem},parseOptions:function(t,i){this.options=e.extend(!0,{},PNotify.prototype.options),this.options.stack=PNotify.prototype.options.stack;var n,o=[t,i];for(var s in o){if(void 0===(n=o[s]))break;if("object"!=typeof n)this.options.text=n;else for(var a in n)this.modules[a]?e.extend(!0,this.options[a],n[a]):this.options[a]=n[a]}},animateIn:function(e){var t;this.animating="in","none"===(t=void 0!==this.options.animation.effect_in?this.options.animation.effect_in:this.options.animation)?(this.elem.show(),e()):"show"===t?this.elem.show(this.options.animate_speed,e):"fade"===t?this.elem.show().fadeTo(this.options.animate_speed,this.options.opacity,e):"slide"===t?this.elem.slideDown(this.options.animate_speed,e):"function"==typeof t?t("in",e,this.elem):this.elem.show(t,"object"==typeof this.options.animation.options_in?this.options.animation.options_in:{},this.options.animate_speed,e),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==t&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},animateOut:function(e){var t;this.animating="out","none"===(t=void 0!==this.options.animation.effect_out?this.options.animation.effect_out:this.options.animation)?(this.elem.hide(),e()):"show"===t?this.elem.hide(this.options.animate_speed,e):"fade"===t?this.elem.fadeOut(this.options.animate_speed,e):"slide"===t?this.elem.slideUp(this.options.animate_speed,e):"function"==typeof t?t("out",e,this.elem):this.elem.hide(t,"object"==typeof this.options.animation.options_out?this.options.animation.options_out:{},this.options.animate_speed,e),this.elem.parent().hasClass("ui-effects-wrapper")&&this.elem.parent().css({position:"fixed",overflow:"visible"}),"slide"!==t&&this.elem.css("overflow","visible"),this.container.css("overflow","hidden")},position:function(e){var t=this.options.stack,n=this.elem;if(n.parent().hasClass("ui-effects-wrapper")&&(n=this.elem.css({left:"0",top:"0",right:"0",bottom:"0"}).parent()),void 0===t.context&&(t.context=i),t){"number"!=typeof t.nextpos1&&(t.nextpos1=t.firstpos1),"number"!=typeof t.nextpos2&&(t.nextpos2=t.firstpos2),"number"!=typeof t.addpos2&&(t.addpos2=0);var s="none"===n.css("display");if(!s||e){var a,r,l,c,u={};switch(t.dir1){case"down":l="top";break;case"up":l="bottom";break;case"left":l="right";break;case"right":l="left"}switch(a=parseInt(n.css(l).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(a)&&(a=0),void 0!==t.firstpos1||s||(t.firstpos1=a,t.nextpos1=t.firstpos1),t.dir2){case"down":c="top";break;case"up":c="bottom";break;case"left":c="right";break;case"right":c="left"}if(r=parseInt(n.css(c).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(r)&&(r=0),void 0!==t.firstpos2||s||(t.firstpos2=r,t.nextpos2=t.firstpos2),("down"===t.dir1&&t.nextpos1+n.height()>(t.context.is(i)?o.height():t.context.prop("scrollHeight"))||"up"===t.dir1&&t.nextpos1+n.height()>(t.context.is(i)?o.height():t.context.prop("scrollHeight"))||"left"===t.dir1&&t.nextpos1+n.width()>(t.context.is(i)?o.width():t.context.prop("scrollWidth"))||"right"===t.dir1&&t.nextpos1+n.width()>(t.context.is(i)?o.width():t.context.prop("scrollWidth")))&&(t.nextpos1=t.firstpos1,t.nextpos2+=t.addpos2+(void 0===t.spacing2?25:t.spacing2),t.addpos2=0),t.animation&&t.nextpos2<r)switch(t.dir2){case"down":u.top=t.nextpos2+"px";break;case"up":u.bottom=t.nextpos2+"px";break;case"left":u.right=t.nextpos2+"px";break;case"right":u.left=t.nextpos2+"px"}else"number"==typeof t.nextpos2&&n.css(c,t.nextpos2+"px");switch(t.dir2){case"down":case"up":n.outerHeight(!0)>t.addpos2&&(t.addpos2=n.height());break;case"left":case"right":n.outerWidth(!0)>t.addpos2&&(t.addpos2=n.width())}if("number"==typeof t.nextpos1)if(t.animation&&(a>t.nextpos1||u.top||u.bottom||u.right||u.left))switch(t.dir1){case"down":u.top=t.nextpos1+"px";break;case"up":u.bottom=t.nextpos1+"px";break;case"left":u.right=t.nextpos1+"px";break;case"right":u.left=t.nextpos1+"px"}else n.css(l,t.nextpos1+"px");switch((u.top||u.bottom||u.right||u.left)&&n.animate(u,{duration:this.options.position_animate_speed,queue:!1}),t.dir1){case"down":case"up":t.nextpos1+=n.height()+(void 0===t.spacing1?25:t.spacing1);break;case"left":case"right":t.nextpos1+=n.width()+(void 0===t.spacing1?25:t.spacing1)}}return this}},queuePosition:function(e,i){return t&&clearTimeout(t),i||(i=10),t=setTimeout(function(){PNotify.positionAll(e)},i),this},cancelRemove:function(){return this.timer&&window.clearTimeout(this.timer),"closing"===this.state&&(this.elem.stop(!0),this.state="open",this.animating="in",this.elem.css("height","auto").animate({width:this.options.width,opacity:this.options.opacity},"fast")),this},queueRemove:function(){var e=this;return this.cancelRemove(),this.timer=window.setTimeout(function(){e.remove(!0)},isNaN(this.options.delay)?0:this.options.delay),this}}),e.extend(PNotify,{notices:[],removeAll:function(){e.each(PNotify.notices,function(){this.remove&&this.remove()})},positionAll:function(i){t&&clearTimeout(t),t=null,e.each(PNotify.notices,function(){var e=this.options.stack;e&&(e.nextpos1=e.firstpos1,e.nextpos2=e.firstpos2,e.addpos2=0,e.animation=i)}),e.each(PNotify.notices,function(){this.position()})},styling:{jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap2:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}}),PNotify.styling.fontawesome=e.extend({},PNotify.styling.bootstrap3),e.extend(PNotify.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),document.body?s():e(s),PNotify}),function(e){"function"==typeof define&&define.amd?define("pnotify.buttons",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,t){t.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,labels:{close:"Close",stick:"Stick"}},t.prototype.modules.buttons={myOptions:null,closer:null,sticker:null,init:function(t,i){var n=this;this.myOptions=i,t.elem.on({mouseenter:function(e){!n.myOptions.sticker||t.options.nonblock&&t.options.nonblock.nonblock||n.sticker.trigger("pnotify_icon").css("visibility","visible"),!n.myOptions.closer||t.options.nonblock&&t.options.nonblock.nonblock||n.closer.css("visibility","visible")},mouseleave:function(e){n.myOptions.sticker_hover&&n.sticker.css("visibility","hidden"),n.myOptions.closer_hover&&n.closer.css("visibility","hidden")}}),this.sticker=e("<div />",{class:"ui-pnotify-sticker",css:{cursor:"pointer",visibility:i.sticker_hover?"hidden":"visible"},click:function(){t.options.hide=!t.options.hide,t.options.hide?t.queueRemove():t.cancelRemove(),e(this).trigger("pnotify_icon")}}).bind("pnotify_icon",function(){e(this).children().removeClass(t.styles.pin_up+" "+t.styles.pin_down).addClass(t.options.hide?t.styles.pin_up:t.styles.pin_down)}).append(e("<span />",{class:t.styles.pin_up,title:i.labels.stick})).prependTo(t.container),(!i.sticker||t.options.nonblock&&t.options.nonblock.nonblock)&&this.sticker.css("display","none"),this.closer=e("<div />",{class:"ui-pnotify-closer",css:{cursor:"pointer",visibility:i.closer_hover?"hidden":"visible"},click:function(){t.remove(!1),n.sticker.css("visibility","hidden"),n.closer.css("visibility","hidden")}}).append(e("<span />",{class:t.styles.closer,title:i.labels.close})).prependTo(t.container),(!i.closer||t.options.nonblock&&t.options.nonblock.nonblock)&&this.closer.css("display","none")},update:function(e,t){this.myOptions=t,!t.closer||e.options.nonblock&&e.options.nonblock.nonblock?this.closer.css("display","none"):t.closer&&this.closer.css("display","block"),!t.sticker||e.options.nonblock&&e.options.nonblock.nonblock?this.sticker.css("display","none"):t.sticker&&this.sticker.css("display","block"),this.sticker.trigger("pnotify_icon"),t.sticker_hover?this.sticker.css("visibility","hidden"):e.options.nonblock&&e.options.nonblock.nonblock||this.sticker.css("visibility","visible"),t.closer_hover?this.closer.css("visibility","hidden"):e.options.nonblock&&e.options.nonblock.nonblock||this.closer.css("visibility","visible")}},e.extend(t.styling.jqueryui,{closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s"}),e.extend(t.styling.bootstrap2,{closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play"}),e.extend(t.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"}),e.extend(t.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"})}),function(e){"function"==typeof define&&define.amd?define("pnotify.callbacks",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,t){var i=t.prototype.init,n=t.prototype.open,o=t.prototype.remove;t.prototype.init=function(){this.options.before_init&&this.options.before_init(this.options),i.apply(this,arguments),this.options.after_init&&this.options.after_init(this)},t.prototype.open=function(){var e;this.options.before_open&&(e=this.options.before_open(this)),!1!==e&&(n.apply(this,arguments),this.options.after_open&&this.options.after_open(this))},t.prototype.remove=function(e){var t;this.options.before_close&&(t=this.options.before_close(this,e)),!1!==t&&(o.apply(this,arguments),this.options.after_close&&this.options.after_close(this,e))}}),function(e){"function"==typeof define&&define.amd?define("pnotify.confirm",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,t){t.prototype.options.confirm={confirm:!1,prompt:!1,prompt_class:"",prompt_default:"",prompt_multi_line:!1,align:"right",buttons:[{text:"Ok",addClass:"",promptTrigger:!0,click:function(e,t){e.remove(),e.get().trigger("pnotify.confirm",[e,t])}},{text:"Cancel",addClass:"",click:function(e){e.remove(),e.get().trigger("pnotify.cancel",e)}}]},t.prototype.modules.confirm={container:null,prompt:null,init:function(t,i){this.container=e('<div style="margin-top:5px;clear:both;" />').css("text-align",i.align).appendTo(t.container),i.confirm||i.prompt?this.makeDialog(t,i):this.container.hide()},update:function(e,t){t.confirm?(this.makeDialog(e,t),this.container.show()):this.container.hide().empty()},afterOpen:function(e,t){t.prompt&&this.prompt.focus()},makeDialog:function(t,i){var n,o,s=!1,a=this;for(var r in this.container.empty(),i.prompt&&(this.prompt=e("<"+(i.prompt_multi_line?'textarea rows="5"':'input type="text"')+' style="margin-bottom:5px;clear:both;" />').addClass(t.styles.input+" "+i.prompt_class).val(i.prompt_default).appendTo(this.container)),i.buttons)n=i.buttons[r],s?this.container.append(" "):s=!0,o=e('<button type="button" />').addClass(t.styles.btn+" "+n.addClass).text(n.text).appendTo(this.container).on("click",function(e){return function(){"function"==typeof e.click&&e.click(t,i.prompt?a.prompt.val():null)}}(n)),i.prompt&&!i.prompt_multi_line&&n.promptTrigger&&this.prompt.keypress(function(e){return function(t){13==t.keyCode&&e.click()}}(o)),t.styles.text&&o.wrapInner('<span class="'+t.styles.text+'"></span>'),t.styles.btnhover&&o.hover(function(e){return function(){e.addClass(t.styles.btnhover)}}(o),function(e){return function(){e.removeClass(t.styles.btnhover)}}(o)),t.styles.btnactive&&o.on("mousedown",function(e){return function(){e.addClass(t.styles.btnactive)}}(o)).on("mouseup",function(e){return function(){e.removeClass(t.styles.btnactive)}}(o)),t.styles.btnfocus&&o.on("focus",function(e){return function(){e.addClass(t.styles.btnfocus)}}(o)).on("blur",function(e){return function(){e.removeClass(t.styles.btnfocus)}}(o))}},e.extend(t.styling.jqueryui,{btn:"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only",btnhover:"ui-state-hover",btnactive:"ui-state-active",btnfocus:"ui-state-focus",input:"",text:"ui-button-text"}),e.extend(t.styling.bootstrap2,{btn:"btn",input:""}),e.extend(t.styling.bootstrap3,{btn:"btn btn-default",input:"form-control"}),e.extend(t.styling.fontawesome,{btn:"btn btn-default",input:"form-control"})}),function(e){"function"==typeof define&&define.amd?define("pnotify.desktop",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,t){var i,n=function(e,t){return(n="Notification"in window?function(e,t){return new Notification(e,t)}:"mozNotification"in navigator?function(e,t){return navigator.mozNotification.createNotification(e,t.body,t.icon).show()}:"webkitNotifications"in window?function(e,t){return window.webkitNotifications.createNotification(t.icon,e,t.body)}:function(e,t){return null})(e,t)};t.prototype.options.desktop={desktop:!1,icon:null,tag:null},t.prototype.modules.desktop={tag:null,icon:null,genNotice:function(e,t){null===t.icon?this.icon="http://sciactive.com/pnotify/includes/desktop/"+e.options.type+".png":!1===t.icon?this.icon=null:this.icon=t.icon,null!==this.tag&&null===t.tag||(this.tag=null===t.tag?"PNotify-"+Math.round(1e6*Math.random()):t.tag),e.desktop=n(e.options.title,{icon:this.icon,body:e.options.text,tag:this.tag}),"close"in e.desktop||(e.desktop.close=function(){e.desktop.cancel()}),e.desktop.onclick=function(){e.elem.trigger("click")},e.desktop.onclose=function(){"closing"!==e.state&&"closed"!==e.state&&e.remove()}},init:function(e,n){n.desktop&&0==(i=t.desktop.checkPermission())&&this.genNotice(e,n)},update:function(e,t,n){0==i&&t.desktop&&this.genNotice(e,t)},beforeOpen:function(e,t){0==i&&t.desktop&&e.elem.css({left:"-10000px",display:"none"})},afterOpen:function(e,t){0==i&&t.desktop&&(e.elem.css({left:"-10000px",display:"none"}),"show"in e.desktop&&e.desktop.show())},beforeClose:function(e,t){0==i&&t.desktop&&e.elem.css({left:"-10000px",display:"none"})},afterClose:function(e,t){0==i&&t.desktop&&(e.elem.css({left:"-10000px",display:"none"}),e.desktop.close())}},t.desktop={permission:function(){"undefined"!=typeof Notification&&"requestPermission"in Notification?Notification.requestPermission():"webkitNotifications"in window&&window.webkitNotifications.requestPermission()},checkPermission:function(){return"undefined"!=typeof Notification&&"permission"in Notification?"granted"==Notification.permission?0:1:"webkitNotifications"in window?window.webkitNotifications.checkPermission():1}},i=t.desktop.checkPermission()}),function(e){"function"==typeof define&&define.amd?define("pnotify.history",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,t){var i,n;e(function(){e("body").on("pnotify.history-all",function(){e.each(t.notices,function(){this.modules.history.inHistory&&(this.elem.is(":visible")?this.options.hide&&this.queueRemove():this.open&&this.open())})}).on("pnotify.history-last",function(){var e,i="top"===t.prototype.options.stack.push,n=i?0:-1;do{if(!(e=-1===n?t.notices.slice(n):t.notices.slice(n,n+1))[0])return!1;n=i?n+1:n-1}while(!e[0].modules.history.inHistory||e[0].elem.is(":visible"));e[0].open&&e[0].open()})}),t.prototype.options.history={history:!0,menu:!1,fixed:!0,maxonscreen:1/0,labels:{redisplay:"Redisplay",all:"All",last:"Last"}},t.prototype.modules.history={inHistory:!1,init:function(t,o){if(t.options.destroy=!1,this.inHistory=o.history,o.menu&&void 0===i){i=e("<div />",{class:"ui-pnotify-history-container "+t.styles.hi_menu,mouseleave:function(){i.animate({top:"-"+n+"px"},{duration:100,queue:!1})}}).append(e("<div />",{class:"ui-pnotify-history-header",text:o.labels.redisplay})).append(e("<button />",{class:"ui-pnotify-history-all "+t.styles.hi_btn,text:o.labels.all,mouseenter:function(){e(this).addClass(t.styles.hi_btnhov)},mouseleave:function(){e(this).removeClass(t.styles.hi_btnhov)},click:function(){return e(this).trigger("pnotify.history-all"),!1}})).append(e("<button />",{class:"ui-pnotify-history-last "+t.styles.hi_btn,text:o.labels.last,mouseenter:function(){e(this).addClass(t.styles.hi_btnhov)},mouseleave:function(){e(this).removeClass(t.styles.hi_btnhov)},click:function(){return e(this).trigger("pnotify.history-last"),!1}})).appendTo("body");var s=e("<span />",{class:"ui-pnotify-history-pulldown "+t.styles.hi_hnd,mouseenter:function(){i.animate({top:"0"},{duration:100,queue:!1})}}).appendTo(i);console.log(s.offset()),n=s.offset().top+2,i.css({top:"-"+n+"px"}),o.fixed&&i.addClass("ui-pnotify-history-fixed")}},update:function(e,t){this.inHistory=t.history,t.fixed&&i?i.addClass("ui-pnotify-history-fixed"):i&&i.removeClass("ui-pnotify-history-fixed")},beforeOpen:function(i,n){var o;t.notices&&t.notices.length>n.maxonscreen&&(o="top"!==i.options.stack.push?t.notices.slice(0,t.notices.length-n.maxonscreen):t.notices.slice(n.maxonscreen,t.notices.length),e.each(o,function(){this.remove&&this.remove()}))}},e.extend(t.styling.jqueryui,{hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"}),e.extend(t.styling.bootstrap2,{hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"icon-chevron-down"}),e.extend(t.styling.bootstrap3,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"glyphicon glyphicon-chevron-down"}),e.extend(t.styling.fontawesome,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"fa fa-chevron-down"})}),function(e){"function"==typeof define&&define.amd?define("pnotify.nonblock",["jquery","pnotify"],e):e(jQuery,PNotify)}(function(e,t){var i,n=/^on/,o=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,s=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,a=/^(scroll|resize|(un)?load|abort|error)$/,r=function(t,i){var r;if(t=t.toLowerCase(),document.createEvent&&this.dispatchEvent){if((t=t.replace(n,"")).match(o)?(e(this).offset(),(r=document.createEvent("MouseEvents")).initMouseEvent(t,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget)):t.match(s)?(r=document.createEvent("UIEvents")).initUIEvent(t,i.bubbles,i.cancelable,i.view,i.detail):t.match(a)&&(r=document.createEvent("HTMLEvents")).initEvent(t,i.bubbles,i.cancelable),!r)return;this.dispatchEvent(r)}else t.match(n)||(t="on"+t),r=document.createEventObject(i),this.fireEvent(t,r)},l=function(t,n,o){t.elem.css("display","none");var s=document.elementFromPoint(n.clientX,n.clientY);t.elem.css("display","block");var a=e(s),l=a.css("cursor");t.elem.css("cursor","auto"!==l?l:"default"),i&&i.get(0)==s||(i&&(r.call(i.get(0),"mouseleave",n.originalEvent),r.call(i.get(0),"mouseout",n.originalEvent)),r.call(s,"mouseenter",n.originalEvent),r.call(s,"mouseover",n.originalEvent)),r.call(s,o,n.originalEvent),i=a};t.prototype.options.nonblock={nonblock:!1,nonblock_opacity:.2},t.prototype.modules.nonblock={myOptions:null,init:function(e,t){var n=this;this.myOptions=t,e.elem.on({mouseenter:function(t){n.myOptions.nonblock&&t.stopPropagation(),n.myOptions.nonblock&&e.elem.stop().animate({opacity:n.myOptions.nonblock_opacity},"fast")},mouseleave:function(t){n.myOptions.nonblock&&t.stopPropagation(),i=null,e.elem.css("cursor","auto"),n.myOptions.nonblock&&"out"!==e.animating&&e.elem.stop().animate({opacity:e.options.opacity},"fast")},mouseover:function(e){n.myOptions.nonblock&&e.stopPropagation()},mouseout:function(e){n.myOptions.nonblock&&e.stopPropagation()},mousemove:function(t){n.myOptions.nonblock&&(t.stopPropagation(),l(e,t,"onmousemove"))},mousedown:function(t){n.myOptions.nonblock&&(t.stopPropagation(),t.preventDefault(),l(e,t,"onmousedown"))},mouseup:function(t){n.myOptions.nonblock&&(t.stopPropagation(),t.preventDefault(),l(e,t,"onmouseup"))},click:function(t){n.myOptions.nonblock&&(t.stopPropagation(),l(e,t,"onclick"))},dblclick:function(t){n.myOptions.nonblock&&(t.stopPropagation(),l(e,t,"ondblclick"))}})},update:function(e,t){this.myOptions=t}}}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(i){return e.returnExportsGlobal=t(i)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){"use strict";var t,i,n,o,s,a,r,l;t=function(){function t(e){this.$inputor=e,this.domInputor=this.$inputor[0]}return t.prototype.setPos=function(){return this.domInputor},t.prototype.getIEPosition=function(){return this.getPosition()},t.prototype.getPosition=function(){var e,t;return t=this.getOffset(),e=this.$inputor.offset(),t.left-=e.left,t.top-=e.top,t},t.prototype.getOldIEPos=function(){var e,t;return t=a.selection.createRange(),(e=a.body.createTextRange()).moveToElementText(this.domInputor),e.setEndPoint("EndToEnd",t),e.text.length},t.prototype.getPos=function(){var e,t,i;return(i=this.range())?((e=i.cloneRange()).selectNodeContents(this.domInputor),e.setEnd(i.endContainer,i.endOffset),t=e.toString().length,e.detach(),t):a.selection?this.getOldIEPos():void 0},t.prototype.getOldIEOffset=function(){var e,t;return(e=a.selection.createRange().duplicate()).moveStart("character",-1),{height:(t=e.getBoundingClientRect()).bottom-t.top,left:t.left,top:t.top}},t.prototype.getOffset=function(){var t,i,n,o,s;return r.getSelection&&(n=this.range())?(n.endOffset-1>0&&n.endContainer===!this.domInputor&&((t=n.cloneRange()).setStart(n.endContainer,n.endOffset-1),t.setEnd(n.endContainer,n.endOffset),i={height:(o=t.getBoundingClientRect()).height,left:o.left+o.width,top:o.top},t.detach()),i&&0!==(null!=i?i.height:void 0)||(t=n.cloneRange(),s=e(a.createTextNode("|")),t.insertNode(s[0]),t.selectNode(s[0]),i={height:(o=t.getBoundingClientRect()).height,left:o.left,top:o.top},s.remove(),t.detach())):a.selection&&(i=this.getOldIEOffset()),i&&(i.top+=e(r).scrollTop(),i.left+=e(r).scrollLeft()),i},t.prototype.range=function(){var e;if(r.getSelection)return(e=r.getSelection()).rangeCount>0?e.getRangeAt(0):null},t}(),i=function(){function t(e){this.$inputor=e,this.domInputor=this.$inputor[0]}return t.prototype.getIEPos=function(){var e,t,i,n,o,s;return t=this.domInputor,n=0,(o=a.selection.createRange())&&o.parentElement()===t&&(i=t.value.replace(/\r\n/g,"\n").length,(s=t.createTextRange()).moveToBookmark(o.getBookmark()),(e=t.createTextRange()).collapse(!1),n=s.compareEndPoints("StartToEnd",e)>-1?i:-s.moveStart("character",-i)),n},t.prototype.getPos=function(){return a.selection?this.getIEPos():this.domInputor.selectionStart},t.prototype.setPos=function(e){var t,i;return t=this.domInputor,a.selection?((i=t.createTextRange()).move("character",e),i.select()):t.setSelectionRange&&t.setSelectionRange(e,e),t},t.prototype.getIEOffset=function(e){var t;return t=this.domInputor.createTextRange(),e||(e=this.getPos()),t.move("character",e),{left:t.boundingLeft,top:t.boundingTop,height:t.boundingHeight}},t.prototype.getOffset=function(t){var i,n,o;return i=this.$inputor,a.selection?((n=this.getIEOffset(t)).top+=e(r).scrollTop()+i.scrollTop(),n.left+=e(r).scrollLeft()+i.scrollLeft(),n):(n=i.offset(),o=this.getPosition(t),n={left:n.left+o.left-i.scrollLeft(),top:n.top+o.top-i.scrollTop(),height:o.height})},t.prototype.getPosition=function(e){var t,i,o,s,a;return t=this.$inputor,o=function(e){return e=e.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(e=e.replace(/\s/g,"&nbsp;")),e},void 0===e&&(e=this.getPos()),a=t.val().slice(0,e),i=t.val().slice(e),s="<span style='position: relative; display: inline;'>"+o(a)+"</span>",s+="<span id='caret' style='position: relative; display: inline;'>|</span>",s+="<span style='position: relative; display: inline;'>"+o(i)+"</span>",new n(t).create(s).rect()},t.prototype.getIEPosition=function(e){var t,i;return i=this.getIEOffset(e),t=this.$inputor.offset(),{left:i.left-t.left,top:i.top-t.top,height:i.height}},t}(),n=function(){function t(e){this.$inputor=e}return t.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],t.prototype.mirrorCss=function(){var t,i=this;return t={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),e.each(this.css_attr,function(e,n){return t[n]=i.$inputor.css(n)}),t},t.prototype.create=function(t){return this.$mirror=e("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(t),this.$inputor.after(this.$mirror),this},t.prototype.rect=function(){var e,t,i;return i={left:(t=(e=this.$mirror.find("#caret")).position()).left,top:t.top,height:e.height()},this.$mirror.remove(),i},t}(),o={contentEditable:function(e){return!(!e[0].contentEditable||"true"!==e[0].contentEditable)}},s={pos:function(e){return e||0===e?this.setPos(e):this.getPos()},position:function(e){return a.selection?this.getIEPosition(e):this.getPosition(e)},offset:function(e){return this.getOffset(e)}},a=null,r=null,l=function(e){var t;return(t=null!=e?e.iframe:void 0)?(t,r=t.contentWindow,a=t.contentDocument||r.document):(void 0,r=window,a=document)},e.fn.caret=function(n,a,r){var c;return s[n]?(e.isPlainObject(a)?(l(a),a=void 0):l(r),c=o.contentEditable(this)?new t(this):new i(this),s[n].apply(c,[a])):e.error("Method "+n+" does not exist on jQuery.caret")},e.fn.caret.EditableCaret=t,e.fn.caret.InputCaret=i,e.fn.caret.Utils=o,e.fn.caret.apis=s}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.fn.jScrollPane=function(t){function i(t,i){function n(i){var s,r,c,u,d,f,g=!1,m=!1;if(T=i,void 0===S)d=t.scrollTop(),f=t.scrollLeft(),t.css({overflow:"hidden",padding:0}),E=t.innerWidth()+ne,P=t.innerHeight(),t.width(E),S=e('<div class="jspPane" />').css("padding",ie).append(t.children()),D=e('<div class="jspContainer" />').css({width:E+"px",height:P+"px"}).append(S).appendTo(t);else{if(t.css("width",""),g=T.stickToBottom&&function(){var e=_-P;return e>20&&e-k()<10}(),m=T.stickToRight&&function(){var e=M-E;return e>20&&e-C()<10}(),(u=t.innerWidth()+ne!=E||t.outerHeight()!=P)&&(E=t.innerWidth()+ne,P=t.innerHeight(),D.css({width:E+"px",height:P+"px"})),!u&&oe==M&&S.outerHeight()==_)return void t.width(E);oe=M,S.css("width",""),t.width(E),D.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}S.css("overflow","auto"),M=i.contentWidth?i.contentWidth:S[0].scrollWidth,_=S[0].scrollHeight,S.css("overflow",""),A=(I=_/P)>1,(L=(O=M/E)>1)||A?(t.addClass("jspScrollable"),(s=T.maintainPosition&&(R||z))&&(r=C(),c=k()),o(),a(),l(),s&&(w(m?M-E:r,!1),y(g?_-P:c,!1)),S.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(e){x(e.target,!1)}),D.unbind(de).bind(de,function(e,t,i,n){z||(z=0),R||(R=0);var o=z,s=R,a=e.deltaFactor||T.mouseWheelSpeed;return se.scrollBy(i*a,-n*a,!1),o==z&&s==R}),function(){var e,t,i,n,o,s=!1;D.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(a){var r=a.originalEvent.touches[0];e=C(),t=k(),i=r.pageX,n=r.pageY,o=!1,s=!0}).bind("touchmove.jsp",function(a){if(s){var r=a.originalEvent.touches[0],l=z,c=R;return se.scrollTo(e+i-r.pageX,t+n-r.pageY),o=o||Math.abs(i-r.pageX)>5||Math.abs(n-r.pageY)>5,l==z&&c==R}}).bind("touchend.jsp",function(){s=!1}).bind("click.jsp-touchclick",function(){return o?(o=!1,!1):void 0})}(),T.enableKeyboardNavigation&&function(){function i(){var e=z,t=R;switch(n){case 40:se.scrollByY(T.keyboardSpeed,!1);break;case 38:se.scrollByY(-T.keyboardSpeed,!1);break;case 34:case 32:se.scrollByY(P*T.scrollPagePercent,!1);break;case 33:se.scrollByY(-P*T.scrollPagePercent,!1);break;case 39:se.scrollByX(T.keyboardSpeed,!1);break;case 37:se.scrollByX(-T.keyboardSpeed,!1)}return o=e!=z||t!=R}var n,o,s=[];L&&s.push(K[0]),A&&s.push(U[0]),S.bind("focus.jsp",function(){t.focus()}),t.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(t){if(t.target===this||s.length&&e(t.target).closest(s).length){var a=z,r=R;switch(t.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=t.keyCode,i();break;case 35:y(_-P),n=null;break;case 36:y(0),n=null}return!(o=t.keyCode==n&&a!=z||r!=R)}}).bind("keypress.jsp",function(t){return t.keyCode==n&&i(),t.target===this||s.length&&e(t.target).closest(s).length?!o:void 0}),T.hideFocus?(t.css("outline","none"),"hideFocus"in D[0]&&t.attr("hideFocus",!0)):(t.css("outline",""),"hideFocus"in D[0]&&t.attr("hideFocus",!1))}(),T.clickOnTrack&&h(),function(){if(location.hash&&location.hash.length>1){var t,i,n=escape(location.hash.substr(1));try{t=e("#"+n+', a[name="'+n+'"]')}catch(e){return}t.length&&S.find(n)&&(0===D.scrollTop()?i=setInterval(function(){D.scrollTop()>0&&(x(t,!0),e(document).scrollTop(D.position().top),clearInterval(i))},50):(x(t,!0),e(document).scrollTop(D.position().top)))}}(),T.hijackInternalLinks&&(e(document.body).data("jspHijack")||(e(document.body).data("jspHijack",!0),e(document.body).delegate('a[href*="#"]',"click",function(t){var i,n,o,s,a,r=this.href.substr(0,this.href.indexOf("#")),l=location.href;if(-1!==location.href.indexOf("#")&&(l=location.href.substr(0,location.href.indexOf("#"))),r===l){i=escape(this.href.substr(this.href.indexOf("#")+1));try{n=e("#"+i+', a[name="'+i+'"]')}catch(e){return}n.length&&((o=n.closest(".jspScrollable")).data("jsp").scrollToElement(n,!0),o[0].scrollIntoView&&(s=e(window).scrollTop(),a=n.offset().top,(s>a||a>s+e(window).height())&&o[0].scrollIntoView()),t.preventDefault())}})))):(t.removeClass("jspScrollable"),S.css({top:0,left:0,width:D.width()-ne}),D.unbind(de),S.find(":input,a").unbind("focus.jsp"),t.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),S.unbind(".jsp"),p()),T.autoReinitialise&&!te?te=setInterval(function(){n(T)},T.autoReinitialiseDelay):!T.autoReinitialise&&te&&clearInterval(te),d&&t.scrollTop(0)&&y(d,!1),f&&t.scrollLeft(0)&&w(f,!1),t.trigger("jsp-initialised",[L||A])}function o(){A&&(D.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'),e('<div class="jspDragBottom" />'))),e('<div class="jspCap jspCapBottom" />'))),U=D.find(">.jspVerticalBar"),B=U.find(">.jspTrack"),F=B.find(">.jspDrag"),T.showArrows&&(G=e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",u(0,-1)).bind("click.jsp",$),Y=e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",u(0,1)).bind("click.jsp",$),T.arrowScrollOnHover&&(G.bind("mouseover.jsp",u(0,-1,G)),Y.bind("mouseover.jsp",u(0,1,Y))),c(B,T.verticalArrowPositions,G,Y)),q=P,D.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){q-=e(this).outerHeight()}),F.hover(function(){F.addClass("jspHover")},function(){F.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",$),F.addClass("jspActive");var i=t.pageY-F.position().top;return e("html").bind("mousemove.jsp",function(e){g(e.pageY-i,!1)}).bind("mouseup.jsp mouseleave.jsp",f),!1}),s())}function s(){B.height(q+"px"),R=0,W=T.verticalGutter+B.outerWidth(),S.width(E-W-ne);try{0===U.position().left&&S.css("margin-left",W+"px")}catch(e){}}function a(){L&&(D.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'),e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'),e('<div class="jspDragRight" />'))),e('<div class="jspCap jspCapRight" />'))),K=D.find(">.jspHorizontalBar"),X=K.find(">.jspTrack"),H=X.find(">.jspDrag"),T.showArrows&&(J=e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",u(-1,0)).bind("click.jsp",$),ee=e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",u(1,0)).bind("click.jsp",$),T.arrowScrollOnHover&&(J.bind("mouseover.jsp",u(-1,0,J)),ee.bind("mouseover.jsp",u(1,0,ee))),c(X,T.horizontalArrowPositions,J,ee)),H.hover(function(){H.addClass("jspHover")},function(){H.removeClass("jspHover")}).bind("mousedown.jsp",function(t){e("html").bind("dragstart.jsp selectstart.jsp",$),H.addClass("jspActive");var i=t.pageX-H.position().left;return e("html").bind("mousemove.jsp",function(e){v(e.pageX-i,!1)}).bind("mouseup.jsp mouseleave.jsp",f),!1}),Q=D.innerWidth(),r())}function r(){D.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){Q-=e(this).outerWidth()}),X.width(Q+"px"),z=0}function l(){if(L&&A){var t=X.outerHeight(),i=B.outerWidth();q-=t,e(K).find(">.jspCap:visible,>.jspArrow").each(function(){Q+=e(this).outerWidth()}),Q-=i,P-=i,E-=t,X.parent().append(e('<div class="jspCorner" />').css("width",t+"px")),s(),r()}L&&S.width(D.outerWidth()-ne+"px"),_=S.outerHeight(),I=_/P,L&&((Z=Math.ceil(1/O*Q))>T.horizontalDragMaxWidth?Z=T.horizontalDragMaxWidth:Z<T.horizontalDragMinWidth&&(Z=T.horizontalDragMinWidth),H.width(Z+"px"),j=Q-Z,b(z)),A&&((V=Math.ceil(1/I*q))>T.verticalDragMaxHeight?V=T.verticalDragMaxHeight:V<T.verticalDragMinHeight&&(V=T.verticalDragMinHeight),F.height(V+"px"),N=q-V,m(R))}function c(e,t,i,n){var o,s="before",a="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split"),t==s?a=t:t==a&&(s=t,o=i,i=n,n=o),e[s](i)[a](n)}function u(e,t,i){return function(){return d(e,t,this,i),this.blur(),!1}}function d(t,i,n,o){n=e(n).addClass("jspActive");var s,a,r=!0,l=function(){0!==t&&se.scrollByX(t*T.arrowButtonSpeed),0!==i&&se.scrollByY(i*T.arrowButtonSpeed),a=setTimeout(l,r?T.initialDelay:T.arrowRepeatFreq),r=!1};l(),s=o?"mouseout.jsp":"mouseup.jsp",(o=o||e("html")).bind(s,function(){n.removeClass("jspActive"),a&&clearTimeout(a),a=null,o.unbind(s)})}function h(){p(),A&&B.bind("mousedown.jsp",function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var i,n=e(this),o=n.offset(),s=t.pageY-o.top-R,a=!0,r=function(){var e=n.offset(),o=t.pageY-e.top-V/2,c=P*T.scrollPagePercent,u=N*c/(_-P);if(0>s)R-u>o?se.scrollByY(-c):g(o);else{if(!(s>0))return void l();o>R+u?se.scrollByY(c):g(o)}i=setTimeout(r,a?T.initialDelay:T.trackClickRepeatFreq),a=!1},l=function(){i&&clearTimeout(i),i=null,e(document).unbind("mouseup.jsp",l)};return r(),e(document).bind("mouseup.jsp",l),!1}}),L&&X.bind("mousedown.jsp",function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var i,n=e(this),o=n.offset(),s=t.pageX-o.left-z,a=!0,r=function(){var e=n.offset(),o=t.pageX-e.left-Z/2,c=E*T.scrollPagePercent,u=j*c/(M-E);if(0>s)z-u>o?se.scrollByX(-c):v(o);else{if(!(s>0))return void l();o>z+u?se.scrollByX(c):v(o)}i=setTimeout(r,a?T.initialDelay:T.trackClickRepeatFreq),a=!1},l=function(){i&&clearTimeout(i),i=null,e(document).unbind("mouseup.jsp",l)};return r(),e(document).bind("mouseup.jsp",l),!1}})}function p(){X&&X.unbind("mousedown.jsp"),B&&B.unbind("mousedown.jsp")}function f(){e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),F&&F.removeClass("jspActive"),H&&H.removeClass("jspActive")}function g(i,n){if(A){0>i?i=0:i>N&&(i=N);var o=new e.Event("jsp-will-scroll-y");if(t.trigger(o,[i]),!o.isDefaultPrevented()){var s=i||0,a=0===s,r=s==N,l=-(i/N)*(_-P);void 0===n&&(n=T.animateScroll),n?se.animate(F,"top",i,m,function(){t.trigger("jsp-user-scroll-y",[-l,a,r])}):(F.css("top",i),m(i),t.trigger("jsp-user-scroll-y",[-l,a,r]))}}}function m(e){void 0===e&&(e=F.position().top),D.scrollTop(0);var i=0===(R=e||0),n=R==N,o=-(e/N)*(_-P);(ae!=i||le!=n)&&(ae=i,le=n,t.trigger("jsp-arrow-change",[ae,le,re,ce])),function(e,t){T.showArrows&&(G[e?"addClass":"removeClass"]("jspDisabled"),Y[t?"addClass":"removeClass"]("jspDisabled"))}(i,n),S.css("top",o),t.trigger("jsp-scroll-y",[-o,i,n]).trigger("scroll")}function v(i,n){if(L){0>i?i=0:i>j&&(i=j);var o=new e.Event("jsp-will-scroll-x");if(t.trigger(o,[i]),!o.isDefaultPrevented()){var s=i||0,a=0===s,r=s==j,l=-(i/j)*(M-E);void 0===n&&(n=T.animateScroll),n?se.animate(H,"left",i,b,function(){t.trigger("jsp-user-scroll-x",[-l,a,r])}):(H.css("left",i),b(i),t.trigger("jsp-user-scroll-x",[-l,a,r]))}}}function b(e){void 0===e&&(e=H.position().left),D.scrollTop(0);var i=0===(z=e||0),n=z==j,o=-(e/j)*(M-E);(re!=i||ce!=n)&&(re=i,ce=n,t.trigger("jsp-arrow-change",[ae,le,re,ce])),function(e,t){T.showArrows&&(J[e?"addClass":"removeClass"]("jspDisabled"),ee[t?"addClass":"removeClass"]("jspDisabled"))}(i,n),S.css("left",o),t.trigger("jsp-scroll-x",[-o,i,n]).trigger("scroll")}function y(e,t){g(e/(_-P)*N,t)}function w(e,t){v(e/(M-E)*j,t)}function x(t,i,n){var o,s,a,r,l,c,u,d,h,p=0,f=0;try{o=e(t)}catch(e){return}for(s=o.outerHeight(),a=o.outerWidth(),D.scrollTop(0),D.scrollLeft(0);!o.is(".jspPane");)if(p+=o.position().top,f+=o.position().left,o=o.offsetParent(),/^body|html$/i.test(o[0].nodeName))return;c=(r=k())+P,r>p||i?d=p-T.horizontalGutter:p+s>c&&(d=p-P+s+T.horizontalGutter),isNaN(d)||y(d,n),u=(l=C())+E,l>f||i?h=f-T.horizontalGutter:f+a>u&&(h=f-E+a+T.horizontalGutter),isNaN(h)||w(h,n)}function C(){return-S.position().left}function k(){return-S.position().top}function $(){return!1}var T,S,E,P,D,M,_,O,I,A,L,F,N,R,H,j,z,U,B,W,q,V,G,Y,K,X,Q,Z,J,ee,te,ie,ne,oe,se=this,ae=!0,re=!0,le=!1,ce=!1,ue=t.clone(!1,!1).empty(),de=e.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===t.css("box-sizing")?(ie=0,ne=0):(ie=t.css("paddingTop")+" "+t.css("paddingRight")+" "+t.css("paddingBottom")+" "+t.css("paddingLeft"),ne=(parseInt(t.css("paddingLeft"),10)||0)+(parseInt(t.css("paddingRight"),10)||0)),e.extend(se,{reinitialise:function(t){n(t=e.extend({},T,t))},scrollToElement:function(e,t,i){x(e,t,i)},scrollTo:function(e,t,i){w(e,i),y(t,i)},scrollToX:function(e,t){w(e,t)},scrollToY:function(e,t){y(e,t)},scrollToPercentX:function(e,t){w(e*(M-E),t)},scrollToPercentY:function(e,t){y(e*(_-P),t)},scrollBy:function(e,t,i){se.scrollByX(e,i),se.scrollByY(t,i)},scrollByX:function(e,t){v((C()+Math[0>e?"floor":"ceil"](e))/(M-E)*j,t)},scrollByY:function(e,t){g((k()+Math[0>e?"floor":"ceil"](e))/(_-P)*N,t)},positionDragX:function(e,t){v(e,t)},positionDragY:function(e,t){g(e,t)},animate:function(e,t,i,n,o){var s={};s[t]=i,e.animate(s,{duration:T.animateDuration,easing:T.animateEase,queue:!1,step:n,complete:o})},getContentPositionX:function(){return C()},getContentPositionY:function(){return k()},getContentWidth:function(){return M},getContentHeight:function(){return _},getPercentScrolledX:function(){return C()/(M-E)},getPercentScrolledY:function(){return k()/(_-P)},getIsScrollableH:function(){return L},getIsScrollableV:function(){return A},getContentPane:function(){return S},scrollToBottom:function(e){g(N,e)},hijackInternalLinks:e.noop,destroy:function(){var e,i;e=k(),i=C(),t.removeClass("jspScrollable").unbind(".jsp"),S.unbind(".jsp"),t.replaceWith(ue.append(S.children())),ue.scrollTop(e),ue.scrollLeft(i),te&&clearInterval(te)}}),n(i)}return t=e.extend({},e.fn.jScrollPane.defaults,t),e.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){t[this]=t[this]||t.speed}),this.each(function(){var n=e(this),o=n.data("jsp");o?o.reinitialise(t):(e("script",n).filter('[type="text/javascript"],:not([type])').remove(),o=new i(n,t),n.data("jsp",o))})},e.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}),function(){"use strict";angular.module("disableAll",[]),angular.module("disableAll").directive("skipDisable",function(){return{restrict:"A"}}),angular.module("disableAll").directive("disableAll",function(){return{restrict:"A",link:function(i,n,o){var s=o.disableElementId?document.getElementById(o.disableElementId):n[0];i.$watch(o.disableAll,function(i){i?e(s):t(s)}),i.$on("$destroy",function(){t(s)})}}});var e=function(e){angular.element(e).addClass("disable-all"),e.style.color="gray",n(e.getElementsByTagName("input")),n(e.getElementsByTagName("button")),n(e.getElementsByTagName("textarea")),n(e.getElementsByTagName("select")),e.addEventListener("click",i,!0)},t=function(e){angular.element(e).removeClass("disable-all"),e.style.color="inherit",o(e.getElementsByTagName("input")),o(e.getElementsByTagName("button")),o(e.getElementsByTagName("textarea")),o(e.getElementsByTagName("select")),e.removeEventListener("click",i,!0)},i=function(e){for(var t=0;t<e.target.attributes.length;t++){if("skip-disable"===e.target.attributes[t].name)return!0}return e.stopPropagation(),e.preventDefault(),!1},n=function(e){for(var t=e.length,i=0;i<t;i++){for(var n=!0,o=0;o<e[i].attributes.length;o++){"skip-disable"!==e[i].attributes[o].name||(n=!1)}n&&!1===e[i].disabled&&(e[i].disabled=!0,e[i].disabledIf=!0)}},o=function(e){for(var t=e.length,i=0;i<t;i++)!0===e[i].disabled&&!0===e[i].disabledIf&&(e[i].disabled=!1,e[i].disabledIf=null)}}(),function(){var e="__default";angular.module("angularUtils.directives.dirPagination",[]).directive("dirPaginate",["$compile","$parse","paginationService",function(t,i,n){return{terminal:!0,multiElement:!0,priority:100,compile:function(o,s){var a=s.dirPaginate,r=a.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),l=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(null===r[2].match(l))throw"pagination directive: the 'itemsPerPage' filter must be set.";var c=r[2].replace(l,""),u=i(c);!function(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).attr("dir-paginate-no-compile",!0)})}(o);var d=s.paginationId||e;return n.registerInstance(d),function(o,s,r){var l=i(r.paginationId)(o)||r.paginationId||e;n.registerInstance(l);var c=function(t,i){var n=!!t.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return i===e||n?t:t.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+i+"'")}(a,l);!function(e,t,i){e[0].hasAttribute("dir-paginate-start")||e[0].hasAttribute("data-dir-paginate-start")?(t.$set("ngRepeatStart",i),e.eq(e.length-1).attr("ng-repeat-end",!0)):t.$set("ngRepeat",i)}(s,r,c),function(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).removeAttr("dir-paginate-no-compile")}),e.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),e.eq(e.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}(s);var d=t(s),h=function(e,t,n){var o;if(t.currentPage)o=i(t.currentPage);else{var s=(n+"__currentPage").replace(/\W/g,"_");e[s]=1,o=i(s)}return o}(o,r,l);n.setCurrentPageParser(l,h,o),void 0!==r.totalItems?(n.setAsyncModeTrue(l),o.$watch(function(){return i(r.totalItems)(o)},function(e){0<=e&&n.setCollectionLength(l,e)})):(n.setAsyncModeFalse(l),o.$watchCollection(function(){return u(o)},function(e){if(e){var t=e instanceof Array?e.length:Object.keys(e).length;n.setCollectionLength(l,t)}})),d(o)}}}}]).directive("dirPaginateNoCompile",function(){return{priority:5e3,terminal:!0}}).directive("dirPaginationControls",["paginationService","paginationTemplate",function(t,i){var n=/^\d+$/,o={restrict:"AE",scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:function(i,o,s){var r=s.paginationId||e,l=i.paginationId||s.paginationId||e;if(!t.isRegistered(l)&&!t.isRegistered(r)){var c=l!==e?" (id: "+l+") ":" ";window.console&&console.warn("Pagination directive: the pagination controls"+c+"cannot be used without the corresponding pagination directive, which was not found at link time.")}i.maxSize||(i.maxSize=9);i.autoHide=void 0===i.autoHide||i.autoHide,i.directionLinks=!angular.isDefined(s.directionLinks)||i.$parent.$eval(s.directionLinks),i.boundaryLinks=!!angular.isDefined(s.boundaryLinks)&&i.$parent.$eval(s.boundaryLinks);var u=Math.max(i.maxSize,5);function d(e){if(t.isRegistered(l)&&f(e)){var n=i.pagination.current;i.pages=a(e,t.getCollectionLength(l),t.getItemsPerPage(l),u),i.pagination.current=e,p(),i.onPageChange&&i.onPageChange({newPageNumber:e,oldPageNumber:n})}}function h(){if(t.isRegistered(l)){var e=parseInt(t.getCurrentPage(l))||1;i.pages=a(e,t.getCollectionLength(l),t.getItemsPerPage(l),u),i.pagination.current=e,i.pagination.last=i.pages[i.pages.length-1],i.pagination.last<i.pagination.current?i.setCurrent(i.pagination.last):p()}}function p(){if(t.isRegistered(l)){var e=t.getCurrentPage(l),n=t.getItemsPerPage(l),o=t.getCollectionLength(l);i.range.lower=(e-1)*n+1,i.range.upper=Math.min(e*n,o),i.range.total=o}}function f(e){return n.test(e)&&0<e&&e<=i.pagination.last}i.pages=[],i.pagination={last:1,current:1},i.range={lower:1,upper:1,total:1},i.$watch("maxSize",function(e){e&&(u=Math.max(i.maxSize,5),h())}),i.$watch(function(){if(t.isRegistered(l))return(t.getCollectionLength(l)+1)*t.getItemsPerPage(l)},function(e){0<e&&h()}),i.$watch(function(){if(t.isRegistered(l))return t.getItemsPerPage(l)},function(e,t){e!=t&&void 0!==t&&d(i.pagination.current)}),i.$watch(function(){if(t.isRegistered(l))return t.getCurrentPage(l)},function(e,t){e!=t&&d(e)}),i.setCurrent=function(e){t.isRegistered(l)&&f(e)&&(e=parseInt(e,10),t.setCurrentPage(l,e))},i.tracker=function(e,t){return e+"_"+t}}},s=i.getString();void 0!==s?o.template=s:o.templateUrl=function(e,t){return t.templateUrl||i.getPath()};return o;function a(e,t,i,n){var o,s=[],a=Math.ceil(t/i),l=Math.ceil(n/2);o=e<=l?"start":a-l<e?"end":"middle";for(var c=n<a,u=1;u<=a&&u<=n;){var d=r(u,e,n,a),h=2===u&&("middle"===o||"end"===o),p=u===n-1&&("middle"===o||"start"===o);c&&(h||p)?s.push("..."):s.push(d),u++}return s}function r(e,t,i,n){var o=Math.ceil(i/2);return e===i?n:1===e?e:i<n?n-o<t?n-i+e:o<t?t-o+e:e:e}}]).filter("itemsPerPage",["paginationService",function(t){return function(i,n,o){if(void 0===o&&(o=e),!t.isRegistered(o))throw"pagination directive: the itemsPerPage id argument (id: "+o+") does not match a registered pagination-id.";var s,a;if(angular.isObject(i)){if(n=parseInt(n)||9999999999,a=t.isAsyncMode(o)?0:(t.getCurrentPage(o)-1)*n,s=a+n,t.setItemsPerPage(o,n),i instanceof Array)return i.slice(a,s);var r={};return angular.forEach(function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t}(i).slice(a,s),function(e){r[e]=i[e]}),r}return i}}]).service("paginationService",function(){var e,t={};this.registerInstance=function(i){void 0===t[i]&&(t[i]={asyncMode:!1},e=i)},this.deregisterInstance=function(e){delete t[e]},this.isRegistered=function(e){return void 0!==t[e]},this.getLastInstanceId=function(){return e},this.setCurrentPageParser=function(e,i,n){t[e].currentPageParser=i,t[e].context=n},this.setCurrentPage=function(e,i){t[e].currentPageParser.assign(t[e].context,i)},this.getCurrentPage=function(e){var i=t[e].currentPageParser;return i?i(t[e].context):1},this.setItemsPerPage=function(e,i){t[e].itemsPerPage=i},this.getItemsPerPage=function(e){return t[e].itemsPerPage},this.setCollectionLength=function(e,i){t[e].collectionLength=i},this.getCollectionLength=function(e){return t[e].collectionLength},this.setAsyncModeTrue=function(e){t[e].asyncMode=!0},this.setAsyncModeFalse=function(e){t[e].asyncMode=!1},this.isAsyncMode=function(e){return t[e].asyncMode}}).provider("paginationTemplate",function(){var e,t="angularUtils.directives.dirPagination.template";this.setPath=function(e){t=e},this.setString=function(t){e=t},this.$get=function(){return{getPath:function(){return t},getString:function(){return e}}}}).run(["$templateCache",function(e){e.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}])}(),function(e){"use strict";var t=function(){function e(e,t,i){t=t||"",i=i||512;var n,o=window.atob(e),s=[];for(n=0;n<o.length;n+=i){var a,r=o.slice(n,n+i),l=new Array(r.length);for(a=0;a<r.length;a+=1)l[a]=r.charCodeAt(a);var c=new window.Uint8Array(l);s.push(c)}return new window.Blob(s,{type:t})}var t='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content="Microsoft Excel 11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table>{table}</table></body></html>',i=",",n="\r\n",o=function(e){return window.btoa(window.unescape(encodeURIComponent(e)))},s=function(e){return e.nodeType?e:document.getElementById(e)};function a(t,i,n,o){var s;if(window.navigator.msSaveBlob)return s=e(i,n),window.navigator.msSaveBlob(s,o),!1;if(window.URL.createObjectURL){s=e(i,n);var a=window.URL.createObjectURL(s);t.href=a}else{var r="data:"+n+";base64,"+i;t.download=o,t.href=r}return!0}return{version:function(){return"2.0.3"},excel:function(e,i,n){i=s(i);var r,l={worksheet:n||"Worksheet",table:i.innerHTML};return a(e,o((r=l,t.replace(new RegExp("{(\\w+)}","g"),function(e,t){return r[t]}))),"application/vnd.ms-excel","export.xls")},csv:function(e,t,r,l){void 0!==r&&r&&(i=r),void 0!==l&&l&&(n=l);var c="\ufeff"+function(e){var t,o,s,a,r,l,c,u,d="";for(t=0;t<e.rows.length;t+=1){for(s=e.rows[t],o=0;o<s.cells.length;o+=1)a=s.cells[o],d=d+(o?i:"")+(r=a.textContent.trim(),l=void 0,l=r,c=-1!==r.indexOf(i)||-1!==r.indexOf("\r")||-1!==r.indexOf("\n"),(u=-1!==r.indexOf('"'))&&(l=l.replace(/"/g,'""')),(c||u)&&(l='"'+l+'"'),l);d+=n}return d}(t=s(t));return a(e,o(c),"application/csv","export.csv")}}}();"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.ExcellentExport=t):e.ExcellentExport=t}(this),function(e){angular.module("ngCsv.config",[]).value("ngCsv.config",{debug:!0}).config(["$compileProvider",function(e){angular.isDefined(e.urlSanitizationWhitelist)?e.urlSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data):/):e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data):/)}]),angular.module("ngCsv.directives",["ngCsv.services"]),angular.module("ngCsv.services",[]),angular.module("ngCsv",["ngCsv.config","ngCsv.services","ngCsv.directives","ngSanitize"]),angular.module("ngCsv.services").service("CSV",["$q",function(e){var t="\r\n";this.stringifyField=function(e,t){return"locale"===t.decimalSep&&this.isFloat(e)?e.toLocaleString():"."!==t.decimalSep&&this.isFloat(e)?e.toString().replace(".",t.decimalSep):"string"==typeof e?(e=e.replace(/"/g,'""'),(t.quoteStrings||e.indexOf(",")>-1||e.indexOf("\n")>-1||e.indexOf("\r")>-1)&&(e=t.txtDelim+e+t.txtDelim),e):"boolean"==typeof e?e?"TRUE":"FALSE":e},this.isFloat=function(e){return+e===e&&(!isFinite(e)||Boolean(e%1))},this.stringify=function(i,n){var o=e.defer(),s=this,a="",r="",l=e.when(i).then(function(e){var i,l;(e=angular.copy(e),angular.isDefined(n.header)&&n.header)&&(i=[],angular.forEach(n.header,function(e){this.push(s.stringifyField(e,n))},i),l=i.join(n.fieldSep?n.fieldSep:","),r+=l+t);var c=[];angular.isArray(e)?c=e:angular.isFunction(e)&&(c=e()),angular.forEach(c,function(e,i){var o,a;a=[],angular.forEach(e,function(e){this.push(s.stringifyField(e,n))},a),o=a.join(n.fieldSep?n.fieldSep:","),r+=i<c.length?o+t:o}),n.addByteOrderMarker&&(a+="\ufeff"),a+=r,o.resolve(a)});return"function"==typeof l.catch&&l.catch(function(e){o.reject(e)}),o.promise}}]),angular.module("ngCsv.directives").directive("ngCsv",["$parse","$q","CSV","$document","$timeout",function(t,i,n,o,s){return{restrict:"AC",scope:{data:"&ngCsv",filename:"@filename",header:"&csvHeader",txtDelim:"@textDelimiter",decimalSep:"@decimalSeparator",quoteStrings:"@quoteStrings",fieldSep:"@fieldSeparator",lazyLoad:"@lazyLoad",addByteOrderMarker:"@addBom",ngClick:"&",charset:"@charset"},controller:["$scope","$element","$attrs","$transclude",function(e,t,o){e.csv="",angular.isDefined(e.lazyLoad)&&"true"==e.lazyLoad||angular.isArray(e.data)&&e.$watch("data",function(){e.buildCSV()},!0),e.getFilename=function(){return e.filename||"download.csv"},e.buildCSV=function(){var s=i.defer();return t.addClass(o.ngCsvLoadingClass||"ng-csv-loading"),n.stringify(e.data(),function(){var t={txtDelim:e.txtDelim?e.txtDelim:'"',decimalSep:e.decimalSep?e.decimalSep:".",quoteStrings:e.quoteStrings,addByteOrderMarker:e.addByteOrderMarker};return angular.isDefined(o.csvHeader)&&(t.header=e.$eval(e.header)),t.fieldSep=e.fieldSep?e.fieldSep:",",t}()).then(function(i){e.csv=i,t.removeClass(o.ngCsvLoadingClass||"ng-csv-loading"),s.resolve(i)}),e.$apply(),s.promise}}],link:function(t,i){i.bind("click",function(){t.buildCSV().then(function(){!function(){var i=t.charset||"utf-8",n=new Blob([t.csv],{type:"text/csv;charset="+i+";"});if(e.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(n,t.getFilename());else{var a=angular.element("<a></a>");a.attr("href",e.URL.createObjectURL(n)),a.attr("download",t.getFilename()),a.attr("target","_blank"),o.find("body").append(a),s(function(){a[0].click(),a.remove()},null)}}()}),t.$apply()})}}}])}(window,document),function(){function e(e,t,i,o,s,a,r){function l(i){a(function(){t.parent().length&&f.push(e.$watch(i,function(e,t){e!=t&&c()}))})}function c(){var i=t.clone();if(t.attr("__afu_gen__")&&angular.element(document.getElementById(t.attr("id").substring(1))).remove(),t.parent().length){for(var n=0;n<f.length;n++)f[n]();t.replaceWith(i),r(i)(e)}return i}function u(n,o){if(n){l(n);var a=s(n)(e);a?(t.attr(o,a),i[o]=a):(t.attr(o,null),delete i[o])}}function d(t){p(t.__files_||t.target&&t.target.files,i,o,e,t)}function h(e){if(null!=g[0].value&&""!=g[0].value&&(g[0].value=null,-1===navigator.userAgent.indexOf("Trident/7")&&d({target:{files:[]}})),t.attr("__afu_clone__"))t.attr("__afu_clone__",null);else if(-1!==navigator.appVersion.indexOf("MSIE 10")||-1!==navigator.userAgent.indexOf("Trident/7")){var i=c();return i.attr("__afu_clone__",!0),i[0].click(),e.preventDefault(),e.stopPropagation(),!0}}function p(e,t,i,o,r){for(var l=[],c=[],u=s(t.ngAccept)(o),d=angular.isString(u)&&u?new RegExp(n(u),"gi"):null,h=d?null:t.ngAccept,p=0;p<e.length;p++){var f=e.item(p);!(!d||f.type.match(d)||null!=f.name&&f.name.match(d))||h&&!s(h)(o,{$file:f,$event:r})?c.push(f):l.push(f)}a(function(){i&&(s(t.ngModel).assign(o,l),i&&i.$setViewValue(null!=l&&0==l.length?"":l),t.ngModelRejected&&s(t.ngModelRejected).assign(o,c)),t.ngFileChange&&""!=t.ngFileChange&&s(t.ngFileChange)(o,{$files:l,$rejectedFiles:c,$event:r})})}var f=[];u(i.ngMultiple,"multiple"),u(i.ngAccept,"ng-accept"),u(i.ngCapture,"capture"),""!=i.ngFileSelect&&(i.ngFileChange=i.ngFileSelect);var g=t;if("input"===t[0].tagName.toLowerCase()&&t.attr("type")&&"file"===t.attr("type").toLowerCase())t.bind("click",h);else{for(var m in g=angular.element('<input type="file">'),t.attr("multiple")&&g.attr("multiple",t.attr("multiple")),t.attr("accept")&&g.attr("accept",t.attr("accept")),t.attr("capture")&&g.attr("capture",t.attr("capture")),i)if(0==m.indexOf("inputFile")){var v=m.substring("inputFile".length);v=v[0].toLowerCase()+v.substring(1),g.attr(v,i[m])}g.css("width","0px").css("height","0px").css("position","absolute").css("padding",0).css("margin",0).css("overflow","hidden").attr("tabindex","-1").css("opacity",0).attr("__afu_gen__",!0),t.attr("__refElem__",!0),g[0].__refElem__=t[0],t.parent()[0].insertBefore(g[0],t[0]),t.css("overflow","hidden"),t.bind("click",function(e){h(e)||g[0].click()})}g.bind("change",d),t.on("$destroy",function(){for(var e=0;e<f.length;e++)f[e]();t[0]!=g[0]&&g.remove()}),f.push(e.$watch(i.ngModel,function(e,t){e==t||null!=e&&e.length||(-1!==navigator.appVersion.indexOf("MSIE 10")?c():g[0].value=null)}))}function t(e,t,o,s,a,r,l){var c=i();if(o.dropAvailable&&r(function(){e.dropAvailable?e.dropAvailable.value=c:e.dropAvailable=c}),c){var u,d=null,h=a(o.stopPropagation)(e),p=1,f=a(o.ngAccept)(e)||o.accept,g=angular.isString(f)&&f?new RegExp(n(f),"gi"):null,m=g?null:o.ngAccept;t[0].addEventListener("dragover",function(i){if(i.preventDefault(),h&&i.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var n=i.dataTransfer.effectAllowed;i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy"}r.cancel(d),e.actualDragOverClass||(u=function(e,t,i){var n=!0;if(g||m){var o=i.dataTransfer.items;if(null!=o)for(var s=0;s<o.length&&n;s++)n=n&&("file"==o[s].kind||""==o[s].kind)&&(m&&a(m)(e,{$file:o[s],$event:i})||g&&null!=o[s].type&&o[s].type.match(g)||null!=o[s].name&&o[s].name.match(g))}var r=a(t.dragOverClass)(e,{$event:i});return r&&(r.delay&&(p=r.delay),r.accept&&(r=n?r.accept:r.reject)),r||t.dragOverClass||"dragover"}(e,o,i)),t.addClass(u)},!1),t[0].addEventListener("dragenter",function(e){e.preventDefault(),h&&e.stopPropagation()},!1),t[0].addEventListener("dragleave",function(){d=r(function(){t.removeClass(u),u=null},p||1)},!1),""!=o.ngFileDrop&&(o.ngFileChange=e.ngFileDrop),t[0].addEventListener("drop",function(i){i.preventDefault(),h&&i.stopPropagation(),t.removeClass(u),u=null,function(t,i,n,o){function s(i){!(!g||i.type.match(g)||null!=i.name&&i.name.match(g))||m&&!a(m)(e,{$file:i,$event:t})?d.push(i):u.push(i)}function c(e,t,i){if(null!=t)if(t.isDirectory){var n=(i||"")+t.name;s({name:t.name,type:"directory",path:n});var o=t.createReader(),a=[];p++;var r=function(){o.readEntries(function(n){try{if(n.length)a=a.concat(Array.prototype.slice.call(n||[],0)),r();else{for(var o=0;o<a.length;o++)c(e,a[o],(i||"")+t.name+"/");p--}}catch(e){p--,console.error(e)}},function(){p--})};r()}else p++,t.file(function(e){try{p--,e.path=(i||"")+e.name,s(e)}catch(e){p--,console.error(e)}},function(){p--})}var u=[],d=[],h=t.dataTransfer.items,p=0;if(h&&h.length>0&&"file"!=l.protocol())for(var f=0;f<h.length;f++){if(h[f].webkitGetAsEntry&&h[f].webkitGetAsEntry()&&h[f].webkitGetAsEntry().isDirectory){var v=h[f].webkitGetAsEntry();if(v.isDirectory&&!n)continue;null!=v&&c(u,v)}else{var b=h[f].getAsFile();null!=b&&s(b)}if(!o&&u.length>0)break}else{var y=t.dataTransfer.files;if(null!=y)for(f=0;f<y.length&&(s(y.item(f)),o||!(u.length>0));f++);}var w=0;!function e(t){r(function(){if(p)10*w++<2e4&&e(10);else{if(!o&&u.length>1){for(var t=0;"directory"==u[t].type;)t++;u=[u[t]]}i(u,d)}},t||0)}()}(i,function(t,n){r(function(){s&&(a(o.ngModel).assign(e,t),s&&s.$setViewValue(null!=t&&0==t.length?"":t)),o.ngModelRejected&&e[o.ngModelRejected]&&a(o.ngModelRejected).assign(e,n)}),r(function(){a(o.ngFileChange)(e,{$files:t,$rejectedFiles:n,$event:i})})},0!=a(o.allowDir)(e),o.multiple||a(o.ngMultiple)(e))},!1)}else 0!=a(o.hideOnDropNotAvailable)(e)&&t.css("display","none")}function i(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e}function n(e){if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])return e.substring(1,e.length-1);var t=e.split(","),i="";if(t.length>1)for(var o=0;o<t.length;o++)i+="("+n(t[o])+")",o<t.length-1&&(i+="|");else 0==e.indexOf(".")&&(e="*"+e),i=(i="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$").replace(/\\\*/g,".*").replace(/\\\?/g,".");return i}window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim&&function(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}("setRequestHeader",function(e){return function(t,i){if("__setXHR_"===t){var n=i(this);n instanceof Function&&n(this)}else e.apply(this,arguments)}});var o=angular.module("angularFileUpload",[]);o.version="3.1.2",o.service("$upload",["$http","$q","$timeout",function(e,t,i){function n(n){n.method=n.method||"POST",n.headers=n.headers||{},n.transformRequest=n.transformRequest||function(t,i){return window.ArrayBuffer&&t instanceof window.ArrayBuffer?t:e.defaults.transformRequest[0](t,i)};var o=t.defer(),s=o.promise;return n.headers.__setXHR_=function(){return function(e){e&&(n.__XHR=e,n.xhrFn&&n.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=n,o.notify?o.notify(e):s.progress_fn&&i(function(){s.progress_fn(e)})},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=n,o.notify?o.notify(e):s.progress_fn&&i(function(){s.progress_fn(e)}))},!1))}},e(n).then(function(e){o.resolve(e)},function(e){o.reject(e)},function(e){o.notify(e)}),s.success=function(e){return s.then(function(t){e(t.data,t.status,t.headers,n)}),s},s.error=function(e){return s.then(null,function(t){e(t.data,t.status,t.headers,n)}),s},s.progress=function(e){return s.progress_fn=e,s.then(null,null,function(t){e(t)}),s},s.abort=function(){return n.__XHR&&i(function(){n.__XHR.abort()}),s},s.xhr=function(e){return n.xhrFn=(t=n.xhrFn,function(){t&&t.apply(s,arguments),e.apply(s,arguments)}),s;var t},s}this.upload=function(e){return e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest,e.transformRequest=e.transformRequest?"[object Array]"===Object.prototype.toString.call(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var i=new FormData,n={};for(var o in e.fields)n[o]=e.fields[o];if(t&&(n.data=t),e.formDataAppender)for(var o in n)e.formDataAppender(i,o,n[o]);else for(var o in n){var s=n[o];void 0!==s&&("[object String]"===Object.prototype.toString.call(s)?i.append(o,s):e.sendObjectsAsJsonBlob&&"object"==typeof s?i.append(o,new Blob([s],{type:"application/json"})):i.append(o,JSON.stringify(s)))}if(null!=e.file){var a=e.fileFormDataName||"file";if("[object Array]"===Object.prototype.toString.call(e.file))for(var r="[object String]"===Object.prototype.toString.call(a),l=0;l<e.file.length;l++)i.append(r?a:a[l],e.file[l],e.fileName&&e.fileName[l]||e.file[l].name);else i.append(a,e.file,e.fileName||e.file.name)}return i}),n(e)},this.http=function(e){return n(e)}}]),o.directive("ngFileSelect",["$parse","$timeout","$compile",function(t,i,n){return{restrict:"AEC",require:"?ngModel",link:function(o,s,a,r){e(o,s,a,r,t,i,n)}}}]),o.directive("ngFileDrop",["$parse","$timeout","$location",function(e,i,n){return{restrict:"AEC",require:"?ngModel",link:function(o,s,a,r){t(o,s,a,r,e,i,n)}}}]),o.directive("ngNoFileDrop",function(){return function(e,t){i()&&t.css("display","none")}}),o.directive("ngFileDropAvailable",["$parse","$timeout",function(e,t){return function(n,o,s){if(i()){var a=e(s.ngFileDropAvailable);t(function(){a(n)})}}}]);var s=angular.module("ngFileUpload",[]);for(var a in o)s[a]=o[a]}(),function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,i){try{Object.defineProperty(e,t,{get:i})}catch(e){}}var i=function(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(e){if(void 0!=navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1};if(window.XMLHttpRequest&&!window.FormData||window.FileAPI&&FileAPI.forceLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(i,n){e.__listeners[i]=n,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,i,o){n(this),this.__url=i;try{e.apply(this,[t,i,o])}catch(i){i.message.indexOf("Access is denied")>-1&&(this.__origError=i,e.apply(this,[t,"_fix_for_ie_crossdomain__",o]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,i){if("__setXHR_"===t){n(this);var o=i(this);o instanceof Function&&o(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=i,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){for(var o=arguments[0],s={url:n.__url,jsonp:!1,cache:!0,complete:function(e,i){n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==i.status&&t(n,"status",function(){return 0==i.status&&e&&"abort"!==e?500:i.status}),void 0!==i.statusText&&t(n,"statusText",function(){return i.statusText}),t(n,"readyState",function(){return 4}),void 0!==i.response&&t(n,"response",function(){return i.response});var o=i.responseText||(e&&0==i.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return o}),t(n,"response",function(){return o}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=i,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},fileprogress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders,data:{},files:{}},a=0;a<o.data.length;a++){var r=o.data[a];null!=r.val&&null!=r.val.name&&null!=r.val.size&&null!=r.val.type?s.files[r.key]=r.val:s.data[r.key]=r.val}setTimeout(function(){if(!i())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(s)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0;var o=function(e){if(!i())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var t=angular.element(e);if(!t.attr("disabled")){for(var n=!1,o=0;o<t[0].attributes.length;o++){if(-1!==t[0].attributes[o].name.indexOf("file-select")){n=!0;break}}if(!t.hasClass("js-fileapi-wrapper")&&(n||null!=t.attr("__afu_gen__"))&&(t.addClass("js-fileapi-wrapper"),null!=t.attr("__afu_gen__"))){for(var s=t[0].__refElem__&&angular.element(t[0].__refElem__)||t;s&&!s.attr("__refElem__");)s=angular.element(s[0].nextSibling);s.bind("mouseover",function(){(""===t.parent().css("position")||"static"===t.parent().css("position"))&&t.parent().css("position","relative"),t.css("position","absolute").css("top",s[0].offsetTop+"px").css("left",s[0].offsetLeft+"px").css("width",s[0].offsetWidth+"px").css("height",s[0].offsetHeight+"px").css("padding",s.css("padding")).css("margin",s.css("margin")).css("filter","alpha(opacity=0)"),s.attr("onclick",""),t.css("z-index","1000")})}}},s=function(e){return function(t){for(var i=FileAPI.getFiles(t),n=0;n<i.length;n++)void 0===i[n].size&&(i[n].size=0),void 0===i[n].name&&(i[n].name="file"),void 0===i[n].type&&(i[n].type="undefined");t.target||(t.target={}),t.target.files=i,t.target.files!=i&&(t.__files_=i),(t.__files_||t.target.files).item=function(e){return(t.__files_||t.target.files)[e]||null},e&&e.apply(this,[t])}},a=function(e,t){return("change"===t.toLowerCase()||"onchange"===t.toLowerCase())&&"file"==e.getAttribute("type")};HTMLInputElement.prototype.addEventListener&&(HTMLInputElement.prototype.addEventListener=function(e){return function(t,i,n,r){a(this,t)?(o(this),e.apply(this,[t,s(i),n,r])):e.apply(this,[t,i,n,r])}}(HTMLInputElement.prototype.addEventListener)),HTMLInputElement.prototype.attachEvent&&(HTMLInputElement.prototype.attachEvent=function(e){return function(t,i){a(this,t)?(o(this),window.jQuery?angular.element(this).bind("change",s(null)):e.apply(this,[t,s(i)])):e.apply(this,[t,i])}}(HTMLInputElement.prototype.attachEvent)),window.FormData=FormData=function(){return{append:function(e,t,i){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:i})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}},function(){if(window.FileAPI||(window.FileAPI={}),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var e,t,n,o,s,a=document.createElement("script"),r=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)e=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)t=window.FileAPI.jsPath;else for(n=0;n<r.length;n++)if((o=(s=r[n].src).search(/\/angular\-file\-upload[\-a-zA-z0-9\.]*\.js/))>-1){t=s.substring(0,o+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=t),a.setAttribute("src",e||t+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(a),FileAPI.hasFlash=i()}}(),FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,i){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(i)},this.removeEventListener=function(t,i){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(i),1)},this.dispatchEvent=function(t){var i=e.listeners[t.type];if(i)for(var n=0;n<i.length;n++)i[n].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var i=function(t,i){var n={type:t,target:e,loaded:i.loaded,total:i.total,error:i.error};return null!=i.result&&(n.target.result=i.result),n},n=function(n){if(t||(t=!0,e.onloadstart&&e.onloadstart(i("loadstart",n))),"load"===n.type){e.onloadend&&e.onloadend(i("loadend",n));var o=i("load",n);e.onload&&e.onload(o),e.dispatchEvent(o)}else if("progress"===n.type){o=i("progress",n);e.onprogress&&e.onprogress(o),e.dispatchEvent(o)}else{o=i("error",n);e.onerror&&e.onerror(o),e.dispatchEvent(o)}};this.readAsArrayBuffer=function(e){FileAPI.readAsBinaryString(e,n)},this.readAsBinaryString=function(e){FileAPI.readAsBinaryString(e,n)},this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,n)},this.readAsText=function(e){FileAPI.readAsText(e,n)}})}(),function(e){"use strict";var t=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},i=function(t,o){this.settings=e.extend({},i.DEFAULTS),this.scrollbarWidth=n.getScrollbarWidth(),this.isInput="input"==t[0].tagName.toLowerCase(),this.active=!1,this.matches=[],this.$el=t,this.$el.wrap('<div class="highlightTextarea"></div>'),this.$main=this.$el.parent(),this.$main.prepend('<div class="highlightTextarea-container"><div class="highlightTextarea-highlighter"></div></div>'),this.$container=this.$main.children().first(),this.$highlighter=this.$container.children(),this.setOptions(o),this.settings.id&&(this.$main[0].id=this.settings.id),this.settings.resizable&&this.applyResizable(),this.updateCss(),this.bindEvents(),this.highlight()};i.DEFAULTS={words:{},ranges:{},color:"#ffff00",caseSensitive:!0,wordsOnly:!1,resizable:!1,resizableOptions:{},id:"",debug:!1},i.prototype.highlight=function(){var t=this.$el.val(),i=this;i.spacer="",this.settings.wordsOnly&&(i.spacer="\\b");var o=[];if(e.each(this.settings.words,function(n,s){var a=new RegExp(i.spacer+"("+s.join("|")+")"+i.spacer,i.regParam),r=t.match(a);if(r){var l=[];e.each(r,function(e,i){o.push(i),-1===l.indexOf(i)&&(t=t.replace(new RegExp(i,"g"),'<mark style="background-color:'+n+';">$&</mark>',"g"),l.push(i))})}}),e.each(this.settings.ranges,function(e,i){if(i.start<t.length){t=n.strInsert(t,i.end,"</mark>");var o='<mark style="background-color:'+i.color+';"';null!=i.class&&(o+='class="'+i.class+'"'),o+=">",t=n.strInsert(t,i.start,o)}}),o.length!==this.matches.length){this.matches=o;var s=e.Event("matchesChanged");s.matches=this.matches,this.$el.trigger(s)}this.$highlighter.html(t),this.updateSizePosition()},i.prototype.setWords=function(e){this.setOptions({words:e,ranges:{}})},i.prototype.setRanges=function(e){this.setOptions({words:{},ranges:e})},i.prototype.enable=function(){this.bindEvents(),this.highlight()},i.prototype.disable=function(){this.unbindEvents(),this.$highlighter.empty()},i.prototype.destroy=function(){this.disable(),n.cloneCss(this.$container,this.$el,["background-image","background-color","background-position","background-repeat","background-origin","background-clip","background-size","background-attachment"]),this.$main.replaceWith(this.$el),this.$el.removeData("highlighter")},i.prototype.setOptions=function(t){"object"!=typeof t||e.isEmptyObject(t)||(e.extend(this.settings,t),this.regParam=this.settings.caseSensitive?"gm":"gim",e.isEmptyObject(this.settings.words)?e.isEmptyObject(this.settings.ranges)||(this.settings.words={},this.settings.ranges=n.cleanRanges(this.settings.ranges,this.settings.color)):(this.settings.words=n.cleanWords(this.settings.words,this.settings.color),this.settings.ranges={}),this.settings.debug?this.$main.addClass("debug"):this.$main.removeClass("debug"),this.active&&this.highlight())},i.prototype.bindEvents=function(){if(!this.active){this.active=!0;var t=this;this.$highlighter.bind({"this.highlighter":function(){t.$el.focus()}}),this.$el.bind({"input.highlightTextarea":n.throttle(function(){this.highlight()},100,this),"resize.highlightTextarea":n.throttle(function(){this.updateSizePosition(!0)},50,this),"scroll.highlightTextarea select.highlightTextarea":n.throttle(function(){this.updateSizePosition()},50,this)}),this.isInput&&this.$el.bind({"keydown.highlightTextarea keypress.highlightTextarea keyup.highlightTextarea":function(){setTimeout(e.proxy(t.updateSizePosition,t),1)},"blur.highlightTextarea":function(){this.value=this.value,this.scrollLeft=0,t.updateSizePosition.call(t)}})}},i.prototype.unbindEvents=function(){this.active&&(this.active=!1,this.$highlighter.off(".highlightTextarea"),this.$el.off(".highlightTextarea"))},i.prototype.updateCss=function(){n.cloneCss(this.$el,this.$main,["float","vertical-align"]),this.$main.css({width:this.$el.outerWidth(!0),height:this.$el.outerHeight(!0)}),n.cloneCss(this.$el,this.$container,["background-image","background-color","background-position","background-repeat","background-origin","background-clip","background-size","background-attachment","padding-top","padding-right","padding-bottom","padding-left"]),this.$container.css({top:n.toPx(this.$el.css("margin-top"))+n.toPx(this.$el.css("border-top-width")),left:n.toPx(this.$el.css("margin-left"))+n.toPx(this.$el.css("border-left-width")),width:this.$el.width(),height:this.$el.height()}),n.cloneCss(this.$el,this.$highlighter,["font-size","font-family","font-style","font-weight","font-variant","font-stretch","vertical-align","word-spacing","text-align","letter-spacing","text-rendering"]),this.$el.css({background:"none"})},i.prototype.applyResizable=function(){if(jQuery.ui){var t={handles:"se",resize:n.throttle(function(){this.updateSizePosition(!0)},50,this)},i=e.extend({},t,this.settings.resizableOptions);this.$el.resizable(i)}},i.prototype.updateSizePosition=function(e){e&&(this.$main.css({width:this.$el.outerWidth(!0),height:this.$el.outerHeight(!0)}),this.$container.css({width:this.$el.width(),height:this.$el.height()}));var t,i=0;this.isInput?t=99999:(("scroll"==this.$el.css("overflow")||"scroll"==this.$el.css("overflow-y")||"hidden"!=this.$el.css("overflow")&&"hidden"!=this.$el.css("overflow-y")&&this.$el[0].clientHeight<this.$el[0].scrollHeight)&&(i=this.scrollbarWidth),t=this.$el.width()-i),this.$highlighter.css({width:t,height:this.$el.height()+this.$el.scrollTop(),top:-this.$el.scrollTop(),left:-this.$el.scrollLeft()})};var n=function(){};n.getScrollbarWidth=function(){var t=e('<div style="width:50px;height:50px;overflow:auto"><div>&nbsp;</div></div>').appendTo("body"),i=t.children(),n=i.innerWidth()-i.height(100).innerWidth();return t.remove(),n},n.cloneCss=function(e,t,i){for(var n=0,o=i.length;o>n;n++)t.css(i[n],e.css(i[n]))},n.toPx=function(t){if(t!=t.replace("em","")){var i=e('<div style="font-size:1em;margin:0;padding:0;height:auto;line-height:1;border:0;">&nbsp;</div>').appendTo("body");return t=Math.round(parseFloat(t.replace("em",""))*i.height()),i.remove(),t}return t!=t.replace("px","")?parseInt(t.replace("px","")):parseInt(t)},n.htmlEntities=function(t){return t?e("<div></div>").text(t).html():""},n.strInsert=function(e,t,i){return e.slice(0,t)+i+e.slice(t)},n.throttle=function(e,t,i){var n={pid:null,last:0};return function(){function o(){return n.last=(new Date).getTime(),i?e.apply(i,Array.prototype.slice.call(a)):e.apply(r,Array.prototype.slice.call(a))}var s=(new Date).getTime()-n.last,a=arguments,r=this;return s>t?o():(clearTimeout(n.pid),void(n.pid=setTimeout(o,t-s)))}},n.cleanWords=function(t,i){var o={};e.isArray(t)||(t=[t]);for(var s=0,a=t.length;a>s;s++){var r=t[s];if(e.isPlainObject(r)){o[r.color]||(o[r.color]=[]),e.isArray(r.words)||(r.words=[r.words]);for(var l=0,c=r.words.length;c>l;l++)o[r.color].push(n.htmlEntities(r.words[l]))}else o[i]||(o[i]=[]),o[i].push(n.htmlEntities(r))}return o},n.cleanRanges=function(i,n){var o=[];(e.isPlainObject(i)||t(i[0]))&&(i=[i]);for(var s=0,a=i.length;a>s;s++){var r=i[s];if(e.isArray(r))o.push({color:n,start:r[0],end:r[1]});else if(r.ranges){(e.isPlainObject(r.ranges)||t(r.ranges[0]))&&(r.ranges=[r.ranges]);for(var l=0,c=r.ranges.length;c>l;l++)e.isArray(r.ranges[l])?o.push({color:r.color,class:r.class,start:r.ranges[l][0],end:r.ranges[l][1]}):(r.ranges[l].length&&(r.ranges[l].end=r.ranges[l].start+r.ranges[l].length),o.push(r.ranges[l]))}else r.length&&(r.end=r.start+r.length),o.push(r)}o.sort(function(e,t){return e.start==t.start?e.end-t.end:e.start-t.start});var u=-1;return e.each(o,function(t,i){i.start>=i.end&&e.error("Invalid range end/start"),i.start<u&&e.error("Ranges overlap"),u=i.end}),o.reverse(),o},e.fn.highlightTextarea=function(t){var n=arguments;return this.each(function(){var o=e(this),s=o.data("highlighter");(s||"destroy"!=t)&&(s||(s=new i(o,"object"==typeof t&&t),o.data("highlighter",s)),"string"==typeof t&&s[t].apply(s,Array.prototype.slice.call(n,1)))})}}(window.jQuery||window.Zepto),angular.module("com.2fdevs.videogular",["ngSanitize"]).run(["$templateCache",function(e){e.put("vg-templates/vg-media-video","<video></video>"),e.put("vg-templates/vg-media-audio","<audio></audio>"),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},o=function(){return i.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,o.prototype=new n,o})}]),angular.module("com.2fdevs.videogular").constant("VG_STATES",{PLAY:"play",PAUSE:"pause",STOP:"stop"}).constant("VG_VOLUME_KEY","videogularVolume"),angular.module("com.2fdevs.videogular").controller("vgController",["$scope","$window","vgConfigLoader","vgFullscreen","VG_UTILS","VG_STATES","VG_VOLUME_KEY",function(e,t,i,n,o,s,a){var r=null,l=!1,c=!1,u=!1;this.videogularElement=null,this.clearMedia=function(){this.mediaElement[0].src="",this.mediaElement[0].removeEventListener("canplay",this.onCanPlay.bind(this),!1),this.mediaElement[0].removeEventListener("loadedmetadata",this.onLoadMetaData.bind(this),!1),this.mediaElement[0].removeEventListener("waiting",this.onStartBuffering.bind(this),!1),this.mediaElement[0].removeEventListener("ended",this.onComplete.bind(this),!1),this.mediaElement[0].removeEventListener("playing",this.onStartPlaying.bind(this),!1),this.mediaElement[0].removeEventListener("play",this.onPlay.bind(this),!1),this.mediaElement[0].removeEventListener("pause",this.onPause.bind(this),!1),this.mediaElement[0].removeEventListener("volumechange",this.onVolumeChange.bind(this),!1),this.mediaElement[0].removeEventListener("playbackchange",this.onPlaybackChange.bind(this),!1),this.mediaElement[0].removeEventListener("timeupdate",this.onUpdateTime.bind(this),!1),this.mediaElement[0].removeEventListener("progress",this.onProgress.bind(this),!1),this.mediaElement[0].removeEventListener("seeking",this.onSeeking.bind(this),!1),this.mediaElement[0].removeEventListener("seeked",this.onSeeked.bind(this),!1),this.mediaElement[0].removeEventListener("error",this.onVideoError.bind(this),!1)},this.onRouteChange=function(){void 0!==this.clearMediaOnNavigate&&!0!==this.clearMediaOnNavigate||this.clearMedia()},this.onCanPlay=function(t){this.isBuffering=!1,e.$parent.$digest(e.vgCanPlay({$event:t})),!c&&(this.startTime>0||0===this.startTime)&&(this.seekTime(this.startTime),c=!0)},this.onVideoReady=function(){this.isReady=!0,this.autoPlay=e.vgAutoPlay,this.playsInline=e.vgPlaysInline,this.nativeFullscreen=e.vgNativeFullscreen||!0,this.cuePoints=e.vgCuePoints,this.startTime=e.vgStartTime,this.virtualClipDuration=e.vgVirtualClipDuration,this.clearMediaOnNavigate=e.vgClearMediaOnNavigate||!0,this.currentState=s.STOP,l=!0,u=this.startTime>=0&&this.virtualClipDuration>0,o.supportsLocalStorage()&&this.setVolume(parseFloat(t.localStorage.getItem(a)||"1")),e.vgConfig?i.loadConfig(e.vgConfig).then(this.onLoadConfig.bind(this)):e.vgPlayerReady({$API:this})},this.onLoadConfig=function(t){this.config=t,e.vgTheme=this.config.theme,e.vgAutoPlay=this.config.autoPlay,e.vgPlaysInline=this.config.playsInline,e.vgNativeFullscreen=this.config.nativeFullscreen,e.vgCuePoints=this.config.cuePoints,e.vgClearMediaOnNavigate=this.config.clearMediaOnNavigate,e.vgStartTime=this.config.startTime,e.vgVirtualClipDuration=this.config.virtualClipDuration,u=e.vgStartTime>=0&&e.vgVirtualClipDuration>0,e.vgPlayerReady({$API:this})},this.onLoadMetaData=function(e){this.isBuffering=!1,this.onUpdateTime(e)},this.onProgress=function(t){this.updateBuffer(t),e.$parent.$digest()},this.updateBuffer=function(e){e.target.buffered.length&&(this.buffered=e.target.buffered,this.bufferEnd=1e3*e.target.buffered.end(e.target.buffered.length-1),this.bufferEnd>this.totalTime&&(this.bufferEnd=this.totalTime))},this.onUpdateTime=function(t){var i=1e3*t.target.currentTime;this.updateBuffer(t),t.target.duration!=1/0&&null!=t.target.duration&&void 0!=t.target.duration&&1.7976931348623157e308!=t.target.duration?(u?c&&(t.target.currentTime<this.startTime||t.target.currentTime-this.startTime>this.virtualClipDuration)?this.onComplete():(this.currentTime=Math.max(0,i-1e3*this.startTime),this.totalTime=1e3*this.virtualClipDuration,this.timeLeft=1e3*this.virtualClipDuration-this.currentTime):(this.currentTime=i,this.totalTime=1e3*t.target.duration,this.timeLeft=1e3*(t.target.duration-t.target.currentTime)),this.isLive=!1):(this.currentTime=i,this.isLive=!0);var n=u?this.currentTime/1e3:t.target.currentTime,o=u?this.totalTime/1e3:t.target.duration;this.cuePoints&&this.checkCuePoints(n),e.vgUpdateTime({$currentTime:n,$duration:o}),"$apply"!=e.$$phase&&"$digest"!=e.$$phase&&e.$parent.$digest()},this.checkCuePoints=function(e){for(var t in this.cuePoints)for(var i=0,n=this.cuePoints[t].length;i<n;i++){var o=this.cuePoints[t][i],s=parseInt(e,10),a=parseInt(o.timeLapse.start,10);o.timeLapse.end||(o.timeLapse.end=o.timeLapse.start+1),e<o.timeLapse.end&&(o.$$isCompleted=!1),o.$$isDirty||s!==a||"function"!=typeof o.onEnter||(o.onEnter(e,o.timeLapse,o.params),o.$$isDirty=!0),e>o.timeLapse.start?(e<o.timeLapse.end&&(o.onUpdate&&o.onUpdate(e,o.timeLapse,o.params),o.$$isDirty||"function"!=typeof o.onEnter||o.onEnter(e,o.timeLapse,o.params)),e>=o.timeLapse.end&&o.onComplete&&!o.$$isCompleted&&(o.$$isCompleted=!0,o.onComplete(e,o.timeLapse,o.params)),o.$$isDirty=!0):(o.onLeave&&o.$$isDirty&&o.onLeave(e,o.timeLapse,o.params),o.$$isDirty=!1)}},this.onPlay=function(){this.setState(s.PLAY),e.$parent.$digest()},this.onPause=function(){0==(u?this.currentTime:this.mediaElement[0].currentTime)?this.setState(s.STOP):this.setState(s.PAUSE),e.$parent.$digest()},this.onVolumeChange=function(){this.volume=this.mediaElement[0].volume,e.$parent.$digest()},this.onPlaybackChange=function(){this.playback=this.mediaElement[0].playbackRate,e.$parent.$digest()},this.onSeeking=function(t){e.vgSeeking({$currentTime:t.target.currentTime,$duration:t.target.duration})},this.onSeeked=function(t){e.vgSeeked({$currentTime:t.target.currentTime,$duration:t.target.duration})},this.seekTime=function(e,t){var i;if(t)u?(i=(e=Math.max(0,Math.min(e,100)))*this.virtualClipDuration/100,this.mediaElement[0].currentTime=this.startTime+i):(i=e*this.mediaElement[0].duration/100,this.mediaElement[0].currentTime=i);else if(u){var n=e/this.mediaElement[0].duration;i=c?this.virtualClipDuration*n:0,this.mediaElement[0].currentTime=c?this.startTime+i:this.startTime}else i=e,this.mediaElement[0].currentTime=i;this.currentTime=1e3*i},this.playPause=function(){this.mediaElement[0].paused?this.play():this.pause()},this.setState=function(t){return t&&t!=this.currentState&&(e.vgUpdateState({$state:t}),this.currentState=t),this.currentState},this.play=function(){this.mediaElement[0].play(),this.setState(s.PLAY)},this.pause=function(){this.mediaElement[0].pause(),this.setState(s.PAUSE)},this.stop=function(){try{this.mediaElement[0].pause();var e=u?this.startTime:0;this.mediaElement[0].currentTime=e,this.currentTime=e,this.buffered=[],this.bufferEnd=0,this.setState(s.STOP)}catch(e){return e}},this.toggleFullScreen=function(){n.isAvailable&&this.nativeFullscreen?this.isFullScreen?o.isMobileDevice()||n.exit():o.isMobileDevice()?o.isiOSDevice()?l?this.enterElementInFullScreen(this.mediaElement[0]):(!0,this.play()):this.enterElementInFullScreen(this.mediaElement[0]):this.enterElementInFullScreen(this.videogularElement[0]):(this.isFullScreen?(this.videogularElement.removeClass("fullscreen"),this.videogularElement.css("z-index","auto")):(this.videogularElement.addClass("fullscreen"),this.videogularElement.css("z-index",o.getZIndex())),this.isFullScreen=!this.isFullScreen)},this.enterElementInFullScreen=function(e){n.request(e)},this.changeSource=function(t){e.vgChangeSource({$source:t})},this.setVolume=function(i){i=Math.max(Math.min(i,1),0),e.vgUpdateVolume({$volume:i}),this.mediaElement[0].volume=i,this.volume=i,o.supportsLocalStorage()&&t.localStorage.setItem(a,i.toString())},this.setPlayback=function(t){e.vgUpdatePlayback({$playBack:t}),this.mediaElement[0].playbackRate=t,this.playback=t},this.updateTheme=function(e){var t,i,n=document.getElementsByTagName("link");if(r)for(t=0,i=n.length;t<i;t++)if(n[t].outerHTML.indexOf(r)>=0){n[t].parentNode.removeChild(n[t]);break}if(e){var o=angular.element(document).find("head"),s=!1;for(t=0,i=n.length;t<i&&!(s=n[t].outerHTML.indexOf(e)>=0);t++);s||o.append("<link rel='stylesheet' href='"+e+"'>"),r=e}},this.onStartBuffering=function(t){this.isBuffering=!0,e.$parent.$digest()},this.onStartPlaying=function(t){this.isBuffering=!1,e.$parent.$digest()},this.onComplete=function(t){e.vgComplete(),this.setState(s.STOP),this.isCompleted=!0,u&&this.stop(),e.$parent.$digest()},this.onVideoError=function(t){e.vgError({$event:t})},this.addListeners=function(){this.mediaElement[0].addEventListener("canplay",this.onCanPlay.bind(this),!1),this.mediaElement[0].addEventListener("loadedmetadata",this.onLoadMetaData.bind(this),!1),this.mediaElement[0].addEventListener("waiting",this.onStartBuffering.bind(this),!1),this.mediaElement[0].addEventListener("ended",this.onComplete.bind(this),!1),this.mediaElement[0].addEventListener("playing",this.onStartPlaying.bind(this),!1),this.mediaElement[0].addEventListener("play",this.onPlay.bind(this),!1),this.mediaElement[0].addEventListener("pause",this.onPause.bind(this),!1),this.mediaElement[0].addEventListener("volumechange",this.onVolumeChange.bind(this),!1),this.mediaElement[0].addEventListener("playbackchange",this.onPlaybackChange.bind(this),!1),this.mediaElement[0].addEventListener("timeupdate",this.onUpdateTime.bind(this),!1),this.mediaElement[0].addEventListener("progress",this.onProgress.bind(this),!1),this.mediaElement[0].addEventListener("seeking",this.onSeeking.bind(this),!1),this.mediaElement[0].addEventListener("seeked",this.onSeeked.bind(this),!1),this.mediaElement[0].addEventListener("error",this.onVideoError.bind(this),!1)},this.init=function(){this.isReady=!1,this.isCompleted=!1,this.buffered=[],this.bufferEnd=0,this.currentTime=0,this.totalTime=0,this.timeLeft=0,this.isLive=!1,this.isFullScreen=!1,this.playback=1,this.isConfig=void 0!=e.vgConfig,this.mediaElement=[{play:function(){},pause:function(){},stop:function(){},addEventListener:function(){},removeEventListener:function(){}}],n.isAvailable&&(this.isFullScreen=n.isFullScreen()),this.updateTheme(e.vgTheme),this.addBindings(),n.isAvailable&&document.addEventListener(n.onchange,this.onFullScreenChange.bind(this))},this.onUpdateTheme=function(e){this.updateTheme(e)},this.onUpdateAutoPlay=function(e){e&&!this.autoPlay&&(this.autoPlay=e,this.play(this))},this.onUpdateStartTime=function(e){if(e&&e!=this.startTime){this.mediaElement[0].currentTime=e,this.startTime=e,u=this.startTime>=0&&this.virtualClipDuration>0;var t={target:this.mediaElement[0]};this.onUpdateTime(t,!0)}},this.onUpdateVirtualClipDuration=function(e){if(e&&e!=this.virtualClipDuration){this.virtualClipDuration=e,u=this.startTime>=0&&this.virtualClipDuration>0;var t={target:this.mediaElement[0]};this.onUpdateTime(t,!0)}},this.onUpdatePlaysInline=function(e){this.playsInline=e},this.onUpdateNativeFullscreen=function(e){void 0==e&&(e=!0),this.nativeFullscreen=e},this.onUpdateCuePoints=function(e){this.cuePoints=e,this.checkCuePoints(this.currentTime)},this.onUpdateClearMediaOnNavigate=function(e){this.clearMediaOnNavigate=e},this.addBindings=function(){e.$watch("vgTheme",this.onUpdateTheme.bind(this)),e.$watch("vgAutoPlay",this.onUpdateAutoPlay.bind(this)),e.$watch("vgStartTime",this.onUpdateStartTime.bind(this)),e.$watch("vgVirtualClipDuration",this.onUpdateVirtualClipDuration.bind(this)),e.$watch("vgPlaysInline",this.onUpdatePlaysInline.bind(this)),e.$watch("vgNativeFullscreen",this.onUpdateNativeFullscreen.bind(this)),e.$watch("vgCuePoints",this.onUpdateCuePoints.bind(this)),e.$watch("vgClearMediaOnNavigate",this.onUpdateClearMediaOnNavigate.bind(this))},this.onFullScreenChange=function(t){this.isFullScreen=n.isFullScreen(),e.$parent.$digest()},e.$on("$destroy",this.clearMedia.bind(this)),e.$on("$routeChangeStart",this.onRouteChange.bind(this)),this.init()}]),angular.module("com.2fdevs.videogular").directive("vgCrossorigin",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,i,n){var o;e.setCrossorigin=function(e){e?n.mediaElement.attr("crossorigin",e):n.mediaElement.removeAttr("crossorigin")},n.isConfig?e.$watch(function(){return n.config},function(){n.config&&e.setCrossorigin(n.config.crossorigin)}):e.$watch(i.vgCrossorigin,function(t,i){o&&t==i||!t?e.setCrossorigin():(o=t,e.setCrossorigin(o))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgLoop",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,i,n){var o;e.setLoop=function(e){e?n.mediaElement.attr("loop",e):n.mediaElement.removeAttr("loop")},n.isConfig?e.$watch(function(){return n.config},function(){n.config&&e.setLoop(n.config.loop)}):e.$watch(i.vgLoop,function(t,i){o&&t==i||!t?e.setLoop():(o=t,e.setLoop(o))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgMedia",["$timeout","VG_UTILS","VG_STATES",function(e,t,i){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){var i=t.vgType||"video";return t.vgTemplate||"vg-templates/vg-media-"+i},scope:{vgSrc:"=?",vgType:"=?"},link:function(n,o,s,a){var r;s.vgType&&"video"!==s.vgType?s.vgType="audio":s.vgType="video",n.onChangeSource=function(e,t){r&&e==t||!e||(r=e,a.currentState!==i.PLAY&&(a.currentState=i.STOP),a.sources=r,n.changeSource())},n.changeSource=function(){if(angular.isArray(r)){var i="";if(a.mediaElement[0].canPlayType){for(var n=0,o=r.length;n<o;n++)if("maybe"==(i=a.mediaElement[0].canPlayType(r[n].type))||"probably"==i){a.mediaElement.attr("src",r[n].src),a.mediaElement.attr("type",r[n].type),a.changeSource(r[n]);break}}else a.mediaElement.attr("src",r[0].src),a.mediaElement.attr("type",r[0].type),a.changeSource(r[0])}else a.mediaElement.attr("src",r),a.changeSource(r);t.isMobileDevice()&&a.mediaElement[0].load(),e(function(){!a.autoPlay||!t.isCordova()&&t.isMobileDevice()||a.play()}),""==i&&a.onVideoError()},a.mediaElement=o.find(s.vgType),a.sources=n.vgSrc,a.addListeners(),a.onVideoReady(),n.$watch("vgSrc",n.onChangeSource),n.$watch(function(){return a.sources},n.onChangeSource),n.$watch(function(){return a.playsInline},function(e,t){e?a.mediaElement.attr("webkit-playsinline",""):a.mediaElement.removeAttr("webkit-playsinline")}),a.isConfig&&n.$watch(function(){return a.config},function(){a.config&&(n.vgSrc=a.config.sources)})}}}]),angular.module("com.2fdevs.videogular").directive("vgNativeControls",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,i,n){var o;e.setControls=function(e){e?n.mediaElement.attr("controls",e):n.mediaElement.removeAttr("controls")},n.isConfig?e.$watch(function(){return n.config},function(){n.config&&e.setControls(n.config.controls)}):e.$watch(i.vgNativeControls,function(t,i){o&&t==i||!t?e.setControls():(o=t,e.setControls(o))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgPreload",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,i,n){var o;e.setPreload=function(e){e?n.mediaElement.attr("preload",e):n.mediaElement.removeAttr("preload")},n.isConfig?e.$watch(function(){return n.config},function(){n.config&&e.setPreload(n.config.preload)}):e.$watch(i.vgPreload,function(t,i){o&&t==i||!t?e.setPreload():(o=t,e.setPreload(o))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgTracks",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,i,n){var o,s,a,r=!1;e.onLoadMetaData=function(){r=!0,e.updateTracks()},e.updateTracks=function(){var t=n.mediaElement.children();for(s=0,a=t.length;s<a;s++)t[s].remove&&t[s].remove();if(o)for(s=0,a=o.length;s<a;s++){var i=document.createElement("track");for(var r in o[s])i[r]=o[s][r];i.addEventListener("load",e.onLoadTrack.bind(e,i)),n.mediaElement[0].appendChild(i)}},e.onLoadTrack=function(t){t.default?t.mode="showing":t.mode="hidden";for(var i=0,o=n.mediaElement[0].textTracks.length;i<o;i++)t.label==n.mediaElement[0].textTracks[i].label&&(t.default?n.mediaElement[0].textTracks[i].mode="showing":n.mediaElement[0].textTracks[i].mode="disabled");t.removeEventListener("load",e.onLoadTrack.bind(e,t))},e.setTracks=function(t){o=t,n.tracks=t,r?e.updateTracks():n.mediaElement[0].addEventListener("loadedmetadata",e.onLoadMetaData.bind(e),!1)},n.isConfig?e.$watch(function(){return n.config},function(){n.config&&e.setTracks(n.config.tracks)}):e.$watch(i.vgTracks,function(t,i){o&&t==i||e.setTracks(t)},!0)}}}}]),angular.module("com.2fdevs.videogular").directive("videogular",[function(){return{restrict:"EA",scope:{vgTheme:"=?",vgAutoPlay:"=?",vgStartTime:"=?",vgVirtualClipDuration:"=?",vgPlaysInline:"=?",vgNativeFullscreen:"=?",vgClearMediaOnNavigate:"=?",vgCuePoints:"=?",vgConfig:"@",vgCanPlay:"&",vgComplete:"&",vgUpdateVolume:"&",vgUpdatePlayback:"&",vgUpdateTime:"&",vgUpdateState:"&",vgPlayerReady:"&",vgChangeSource:"&",vgSeeking:"&",vgSeeked:"&",vgError:"&"},controller:"vgController",controllerAs:"API",link:{pre:function(e,t,i,n){n.videogularElement=angular.element(t)}}}}]),angular.module("com.2fdevs.videogular").service("vgConfigLoader",["$http","$q","$sce",function(e,t,i){this.loadConfig=function(n){var o=t.defer();return e({method:"GET",url:n}).then(function(e){for(var t=e.data,n=0,s=t.sources.length;n<s;n++)t.sources[n].src=i.trustAsResourceUrl(t.sources[n].src);o.resolve(t)},function(){o.reject()}),o.promise}}]),angular.module("com.2fdevs.videogular").service("vgFullscreen",["VG_UTILS",function(e){var t,i=null,n={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(var o in n)if(n[o].enabled in document){i=n[o];break}e.isiOSDevice()&&(i=n.ios),this.isAvailable=null!=i,i&&(this.onchange=i.onchange,this.onerror=i.onerror,this.isFullScreen=function(){return t?null!=document[i.element]||t.webkitDisplayingFullscreen:null!=document[i.element]},this.exit=function(){document[i.exit]()},this.request=function(e){(t=e)[i.request]()})}]),angular.module("com.2fdevs.videogular").service("VG_UTILS",["$window",function(e){this.fixEventOffset=function(e){var t=navigator.userAgent.match(/Firefox\/(\d+)/i);if(t&&Number.parseInt(t.pop())<39){var i=e.currentTarget.currentStyle||window.getComputedStyle(e.target,null),n=parseInt(i.borderLeftWidth,10),o=parseInt(i.borderTopWidth,10),s=e.currentTarget.getBoundingClientRect(),a=e.clientX-n-s.left,r=e.clientY-o-s.top;e.offsetX=a,e.offsetY=r}return e},this.getZIndex=function(){for(var e,t=1,i=document.getElementsByTagName("*"),n=0,o=i.length;n<o;n++)(e=parseInt(window.getComputedStyle(i[n])["z-index"]))>t&&(t=e+1);return t},this.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},this.isiOSDevice=function(){return navigator.userAgent.match(/ip(hone|ad|od)/i)&&!navigator.userAgent.match(/(iemobile)[\/\s]?([\w\.]*)/i)},this.isCordova=function(){return-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")},this.supportsLocalStorage=function(){try{var t=e.sessionStorage;return t.setItem("videogular-test-key","1"),t.removeItem("videogular-test-key"),"localStorage"in e&&null!==e.localStorage}catch(e){return!1}}}]),angular.module("com.2fdevs.videogular.plugins.controls",[]).run(["$templateCache",function(e){e.put("vg-templates/vg-controls",'<div class="controls-container" ng-mousemove="onMouseMove()" ng-class="animationClass" ng-transclude></div>')}]).directive("vgControls",["$timeout","VG_STATES",function(e,t){return{restrict:"E",require:"^videogular",transclude:!0,templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-controls"},scope:{vgAutohide:"=?",vgAutohideTime:"=?"},link:function(i,n,o,s){var a,r=2e3;i.API=s,i.onMouseMove=function(){i.vgAutohide&&i.showControls()},i.setAutohide=function(n){n&&s.currentState==t.PLAY?a=e(i.hideControls,r):(i.animationClass="",e.cancel(a),i.showControls())},i.setAutohideTime=function(e){r=e},i.hideControls=function(){i.animationClass="hide-animation"},i.showControls=function(){i.animationClass="show-animation",e.cancel(a),i.vgAutohide&&s.currentState==t.PLAY&&(a=e(i.hideControls,r))},s.isConfig?i.$watch("API.config",function(){if(i.API.config){var e=i.API.config.plugins.controls.autohide||!1,t=i.API.config.plugins.controls.autohideTime||2e3;i.vgAutohide=e,i.vgAutohideTime=t,i.setAutohideTime(t),i.setAutohide(e)}}):(void 0!=i.vgAutohide&&i.$watch("vgAutohide",i.setAutohide),void 0!=i.vgAutohideTime&&i.$watch("vgAutohideTime",i.setAutohideTime)),i.$watch(function(){return s.currentState},function(e,t){i.vgAutohide&&i.showControls()})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-fullscreen-button",'<button class="iconButton" ng-click="onClickFullScreen()" ng-class="fullscreenIcon" aria-label="Toggle full screen" type="button"> </button>')}]).directive("vgFullscreenButton",[function(){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-fullscreen-button"},link:function(e,t,i,n){e.onChangeFullScreen=function(t){e.fullscreenIcon={enter:!t,exit:t}},e.onClickFullScreen=function(){n.toggleFullScreen()},e.fullscreenIcon={enter:!0},e.$watch(function(){return n.isFullScreen},function(t,i){t!=i&&e.onChangeFullScreen(t)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-play-pause-button",'<button class="iconButton" ng-click="onClickPlayPause()" ng-class="playPauseIcon" aria-label="Play/Pause" type="button"></button>')}]).directive("vgPlayPauseButton",["VG_STATES",function(e){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-play-pause-button"},link:function(t,i,n,o){t.setState=function(i){switch(i){case e.PLAY:t.playPauseIcon={pause:!0};break;case e.PAUSE:case e.STOP:t.playPauseIcon={play:!0}}},t.onClickPlayPause=function(){o.playPause()},t.playPauseIcon={play:!0},t.$watch(function(){return o.currentState},function(e,i){t.setState(e)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-playback-button",'<button class="playbackValue iconButton" ng-click="onClickPlayback()">{{playback}}x</button>')}]).directive("vgPlaybackButton",[function(){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-playback-button"},scope:{vgSpeeds:"=?"},link:function(e,t,i,n){e.playback="1",e.setPlayback=function(t){e.playback=t,n.setPlayback(parseFloat(t))},e.onClickPlayback=function(){var t=e.vgSpeeds||["0.5","1","1.5","2"],i=t.indexOf(e.playback.toString())+1;i>=t.length?e.playback=t[0]:e.playback=t[i],e.setPlayback(e.playback)},e.$watch(function(){return n.playback},function(t,i){t!=i&&e.setPlayback(t)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgScrubBarBuffer",[function(){return{restrict:"E",require:"^videogular",link:function(e,t,i,n){var o=0;e.onUpdateBuffer=function(e){"number"==typeof e&&n.totalTime?(o=e/n.totalTime*100,t.css("width",o+"%")):t.css("width",0)},e.$watch(function(){return n.bufferEnd},function(t,i){e.onUpdateBuffer(t)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-scrub-bar-cue-points",'<div class="cue-point-timeline"><div ng-repeat="cuePoint in vgCuePoints" class="cue-point" ng-style="cuePoint.$$style"></div></div>')}]).directive("vgScrubBarCuePoints",[function(){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-scrub-bar-cue-points"},scope:{vgCuePoints:"="},link:function(e,t,i,n){e.onPlayerReady=function(){e.updateCuePoints(e.vgCuePoints)},e.updateCuePoints=function(e){if(e){parseInt(t[0].clientWidth);for(var i=0,o=e.length;i<o;i++){var s=1e3*((e[i].timeLapse.end>=0?e[i].timeLapse.end:e[i].timeLapse.start+1)-e[i].timeLapse.start),a=100*e[i].timeLapse.start/Math.round(n.totalTime/1e3)+"%",r=0;"number"==typeof s&&n.totalTime&&(r=100*s/n.totalTime+"%"),e[i].$$style={width:r,left:a}}}},e.$watch("vgCuePoints",e.updateCuePoints),e.$watch(function(){return n.totalTime},function(t,i){t>0&&e.onPlayerReady()})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgScrubBarCurrentTime",[function(){return{restrict:"E",require:"^videogular",link:function(e,t,i,n){var o=0;e.onUpdateTime=function(e){"number"==typeof e&&n.totalTime?(o=e/n.totalTime*100,t.css("width",o+"%")):t.css("width",0)},e.$watch(function(){return n.currentTime},function(t,i){e.onUpdateTime(t)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-scrub-bar-thumbnails",'<div class="vg-thumbnails" ng-show="thumbnails" ng-style="thumbnailContainer"><div class="image-thumbnail" ng-style="thumbnails"></div></div><div class="background"></div>')}]).directive("vgScrubBarThumbnails",["VG_UTILS",function(e){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-scrub-bar-thumbnails"},scope:{vgThumbnails:"="},link:function(t,i,n,o){var s,a=0,r=0,l=i[0].querySelector(".background"),c="string"==typeof t.vgThumbnails;t.thumbnails=!1,t.thumbnailContainer={},t.getOffset=function(e){for(var t=e.target,i=0;t&&!isNaN(t.offsetLeft);)i+=t.offsetLeft-t.scrollLeft,t=t.offsetParent;return e.clientX-i},t.onLoadThumbnails=function(e){a=e.currentTarget.naturalWidth,r=a/100},t.onLoadThumbnail=function(e){r=e.currentTarget.naturalWidth},t.updateThumbnails=function(e){var i=Math.round(100*e/(o.totalTime/1e3)),n=l.scrollWidth*i/100-r/2;if(c){var s=Math.round(a*i/100);t.thumbnailContainer={width:r+"px",left:n+"px"},t.thumbnails={"background-image":'url("'+t.vgThumbnails+'")',"background-position":-s+"px 0px"}}else{var u=o.totalTime/l.scrollWidth/1e3,d={start:Math.floor(e-u/2),end:Math.ceil(e)};if(d.start<0&&(d.start=0),d.end>o.totalTime&&(d.end=o.totalTime),t.thumbnailContainer={left:n+"px"},t.thumbnails={"background-image":"none"},t.vgThumbnails)for(var h=0,p=t.vgThumbnails.length;h<p;h++){var f=t.vgThumbnails[h];if(f.timeLapse.end>=0){if(d.start>=f.timeLapse.start&&(d.end<=f.timeLapse.end||d.end<=f.timeLapse.start)){t.thumbnails={"background-image":'url("'+f.params.thumbnail+'")'};break}}else if(f.timeLapse.start>=d.start&&f.timeLapse.start<=d.end){t.thumbnails={"background-image":'url("'+f.params.thumbnail+'")'};break}}}},t.onMouseMove=function(e){var i=Math.round(e.offsetX*o.mediaElement[0].duration/l.scrollWidth);t.updateThumbnails(i),t.$digest()},t.onTouchMove=function(e){var i=e.touches,n=t.getOffset(i[0]),s=Math.round(n*o.mediaElement[0].duration/l.scrollWidth);t.updateThumbnails(s),t.$digest()},t.onMouseLeave=function(e){t.thumbnails=!1,t.$digest()},t.onTouchLeave=function(e){t.thumbnails=!1,t.$digest()},t.onDestroy=function(){i.unbind("touchmove",t.onTouchMove),i.unbind("touchleave",t.onTouchLeave),i.unbind("touchend",t.onTouchLeave),i.unbind("mousemove",t.onMouseMove),i.unbind("mouseleave",t.onMouseLeave)},c?((s=new Image).onload=t.onLoadThumbnails.bind(t),s.src=t.vgThumbnails):((s=new Image).onload=t.onLoadThumbnail.bind(t),s.src=t.vgThumbnails[0].params.thumbnail),e.isMobileDevice()?(i.bind("touchmove",t.onTouchMove),i.bind("touchleave",t.onTouchLeave),i.bind("touchend",t.onTouchLeave)):(i.bind("mousemove",t.onMouseMove),i.bind("mouseleave",t.onMouseLeave)),t.$on("destroy",t.onDestroy.bind(t))}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-scrub-bar",'<div role="slider" aria-valuemax="{{ariaTime(API.totalTime)}}" aria-valuenow="{{ariaTime(API.currentTime)}}" aria-valuemin="0" aria-label="Time scrub bar" tabindex="0" ng-keydown="onScrubBarKeyDown($event)"></div><div class="container" ng-transclude></div>')}]).directive("vgScrubBar",["VG_STATES","VG_UTILS",function(e,t){return{restrict:"E",require:"^videogular",transclude:!0,templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-scrub-bar"},scope:{vgThumbnails:"="},link:function(i,n,o,s){var a=!1,r=!1,l=!1,c=0,u=0,d=n[0].querySelector("div[role=slider]");if(i.thumbnails=!1,i.thumbnailContainer={},i.API=s,i.onLoadThumbnails=function(e){c=e.path[0].naturalWidth,u=c/100},i.ariaTime=function(e){return Math.round(e/1e3)},i.getOffset=function(e){for(var t=e.target,i=0;t&&!isNaN(t.offsetLeft);)i+=t.offsetLeft-t.scrollLeft,t=t.offsetParent;return e.clientX-i},i.onScrubBarTouchStart=function(e){var t=(e.originalEvent||e).touches,n=i.getOffset(t[0]);a=!0,r&&(l=!0),s.pause(),s.seekTime(n*s.mediaElement[0].duration/d.scrollWidth),i.$digest()},i.onScrubBarTouchEnd=function(e){e.originalEvent;l&&(l=!1,s.play()),a=!1,i.$digest()},i.onScrubBarTouchMove=function(e){var t=(e.originalEvent||e).touches,n=i.getOffset(t[0]);if(i.vgThumbnails&&i.vgThumbnails.length){var o=Math.round(n*s.mediaElement[0].duration/d.scrollWidth),r=Math.round(100*o/(s.totalTime/1e3));i.updateThumbnails(r)}a&&s.seekTime(n*s.mediaElement[0].duration/d.scrollWidth),i.$digest()},i.onScrubBarTouchLeave=function(e){a=!1,i.thumbnails=!1,i.$digest()},i.onScrubBarMouseDown=function(e){e=t.fixEventOffset(e),a=!0,r&&(l=!0),s.pause(),s.seekTime(e.offsetX*s.mediaElement[0].duration/d.scrollWidth),i.$digest()},i.onScrubBarMouseUp=function(e){l&&(l=!1,s.play()),a=!1,i.$digest()},i.onScrubBarMouseMove=function(e){if(i.vgThumbnails&&i.vgThumbnails.length){var n=Math.round(e.offsetX*s.mediaElement[0].duration/d.scrollWidth),o=Math.round(100*n/(s.totalTime/1e3));i.updateThumbnails(o)}a&&(e=t.fixEventOffset(e),s.seekTime(e.offsetX*s.mediaElement[0].duration/d.scrollWidth)),i.$digest()},i.onScrubBarMouseLeave=function(e){a=!1,i.thumbnails=!1,i.$digest()},i.onScrubBarKeyDown=function(e){var t=s.currentTime/s.totalTime*100;37===e.which||37===e.keyCode?(s.seekTime(t-5,!0),e.preventDefault()):39!==e.which&&39!==e.keyCode||(s.seekTime(t+5,!0),e.preventDefault())},i.updateThumbnails=function(e){var t=Math.round(c*e/100),n=d.scrollWidth*e/100-u/2;i.thumbnailContainer={width:u+"px",left:n+"px"},i.thumbnails={"background-image":'url("'+i.vgThumbnails+'")',"background-position":-t+"px 0px"}},i.setState=function(t){if(!a)switch(t){case e.PLAY:r=!0;break;case e.PAUSE:case e.STOP:r=!1}},i.onDestroy=function(){n.unbind("touchstart",i.onScrubBarTouchStart),n.unbind("touchend",i.onScrubBarTouchEnd),n.unbind("touchmove",i.onScrubBarTouchMove),n.unbind("touchleave",i.onScrubBarTouchLeave),n.unbind("mousedown",i.onScrubBarMouseDown),n.unbind("mouseup",i.onScrubBarMouseUp),n.unbind("mousemove",i.onScrubBarMouseMove),n.unbind("mouseleave",i.onScrubBarMouseLeave)},i.$watch(function(){return s.currentState},function(e,t){e!=t&&i.setState(e)}),i.vgThumbnails){var h=new Image;h.onload=i.onLoadThumbnails.bind(i),h.src=i.vgThumbnails}t.isMobileDevice()?(n.bind("touchstart",i.onScrubBarTouchStart),n.bind("touchend",i.onScrubBarTouchEnd),n.bind("touchmove",i.onScrubBarTouchMove),n.bind("touchleave",i.onScrubBarTouchLeave)):(n.bind("mousedown",i.onScrubBarMouseDown),n.bind("mouseup",i.onScrubBarMouseUp),n.bind("mousemove",i.onScrubBarMouseMove),n.bind("mouseleave",i.onScrubBarMouseLeave)),i.$on("destroy",i.onDestroy.bind(i))}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgTimeDisplay",[function(){return{require:"^videogular",restrict:"E",link:function(e,t,i,n){e.currentTime=n.currentTime,e.timeLeft=n.timeLeft,e.totalTime=n.totalTime,e.isLive=n.isLive,e.$watch(function(){return n.currentTime},function(t,i){e.currentTime=t}),e.$watch(function(){return n.timeLeft},function(t,i){e.timeLeft=t}),e.$watch(function(){return n.totalTime},function(t,i){e.totalTime=t}),e.$watch(function(){return n.isLive},function(t,i){e.isLive=t})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-mute-button",'<button type="button" class="iconButton" ng-class="muteIcon" ng-click="onClickMute()" ng-focus="onMuteButtonFocus()" ng-blur="onMuteButtonLoseFocus()" ng-mouseleave="onMuteButtonLeave()" ng-keydown="onMuteButtonKeyDown($event)" aria-label="Mute"></button>')}]).directive("vgMuteButton",[function(){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-mute-button"},link:function(e,t,i,n){var o=!1;e.onClickMute=function(){o?e.currentVolume=e.defaultVolume:(e.currentVolume=0,e.muteIcon={mute:!0}),o=!o,n.setVolume(e.currentVolume)},e.onMuteButtonFocus=function(){e.volumeVisibility="visible"},e.onMuteButtonLoseFocus=function(){e.volumeVisibility="hidden"},e.onMuteButtonLeave=function(){document.activeElement.blur()},e.onMuteButtonKeyDown=function(e){var t,i=null!=n.volume?n.volume:1;38===e.which||38===e.keyCode?((t=i+.05)>1&&(t=1),n.setVolume(t),e.preventDefault()):40!==e.which&&40!==e.keyCode||((t=i-.05)<0&&(t=0),n.setVolume(t),e.preventDefault())},e.onSetVolume=function(t){e.currentVolume=t,(o=0===e.currentVolume)?t>0&&(e.defaultVolume=t):e.defaultVolume=t;var i=Math.round(100*t);0==i?e.muteIcon={mute:!0}:i>0&&i<25?e.muteIcon={level0:!0}:i>=25&&i<50?e.muteIcon={level1:!0}:i>=50&&i<75?e.muteIcon={level2:!0}:i>=75&&(e.muteIcon={level3:!0})},e.defaultVolume=1,e.currentVolume=e.defaultVolume,e.muteIcon={level3:!0},e.onSetVolume(n.volume),e.$watch(function(){return n.volume},function(t,i){t!=i&&e.onSetVolume(t)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").run(["$templateCache",function(e){e.put("vg-templates/vg-volume-bar",'<div class="verticalVolumeBar">              <div class="volumeBackground" ng-click="onClickVolume($event)" ng-mousedown="onMouseDownVolume()" ng-mouseup="onMouseUpVolume()" ng-mousemove="onMouseMoveVolume($event)" ng-mouseleave="onMouseLeaveVolume()">                <div class="volumeValue"></div>                <div class="volumeClickArea"></div>              </div>            </div>')}]).directive("vgVolumeBar",["VG_UTILS",function(e){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-volume-bar"},link:function(t,i,n,o){var s=!1,a=angular.element(i[0].getElementsByClassName("volumeBackground")),r=angular.element(i[0].getElementsByClassName("volumeValue"));t.onClickVolume=function(t){t=e.fixEventOffset(t);var i=parseInt(a.prop("offsetHeight")),n=1-100*t.offsetY/i/100;o.setVolume(n)},t.onMouseDownVolume=function(){s=!0},t.onMouseUpVolume=function(){s=!1},t.onMouseLeaveVolume=function(){s=!1},t.onMouseMoveVolume=function(t){if(s){t=e.fixEventOffset(t);var i=parseInt(a.prop("offsetHeight")),n=1-100*t.offsetY/i/100;o.setVolume(n)}},t.updateVolumeView=function(e){e*=100,r.css("height",e+"%"),r.css("top",100-e+"%")},t.onChangeVisibility=function(e){i.css("visibility",e)},i.css("visibility",t.volumeVisibility),t.$watch("volumeVisibility",t.onChangeVisibility),t.updateVolumeView(o.volume),t.$watch(function(){return o.volume},function(e,i){e!=i&&t.updateVolumeView(e)})}}}]),angular.module("com.2fdevs.videogular.plugins.controls").directive("vgVolume",["VG_UTILS",function(e){return{restrict:"E",link:function(t,i,n){t.onMouseOverVolume=function(){t.$evalAsync(function(){t.volumeVisibility="visible"})},t.onMouseLeaveVolume=function(){t.$evalAsync(function(){t.volumeVisibility="hidden"})},t.onDestroy=function(){i.unbind("mouseover",t.onScrubBarTouchStart),i.unbind("mouseleave",t.onScrubBarTouchEnd)},e.isMobileDevice()?i.css("display","none"):(t.volumeVisibility="hidden",i.bind("mouseover",t.onMouseOverVolume),i.bind("mouseleave",t.onMouseLeaveVolume)),t.$on("destroy",t.onDestroy.bind(t))}}}]),angular.module("com.2fdevs.videogular.plugins.overlayplay",[]).run(["$templateCache",function(e){e.put("vg-templates/vg-overlay-play",'<div class="overlayPlayContainer" ng-click="onClickOverlayPlay()">                  <div class="iconButton" ng-class="overlayPlayIcon"></div>                </div>')}]).directive("vgOverlayPlay",["VG_STATES",function(e){return{restrict:"E",require:"^videogular",scope:{},templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-overlay-play"},link:function(t,i,n,o){t.onChangeState=function(i){switch(i){case e.PLAY:t.overlayPlayIcon={};break;case e.PAUSE:case e.STOP:t.overlayPlayIcon={play:!0}}},t.onClickOverlayPlay=function(e){o.playPause()},t.overlayPlayIcon={play:!0},t.$watch(function(){return o.currentState},function(e,i){t.onChangeState(e)})}}}]),angular.module("com.2fdevs.videogular.plugins.poster",[]).run(["$templateCache",function(e){e.put("vg-templates/vg-poster",'<img ng-src="{{vgUrl}}" ng-class="API.currentState" role="presentation" alt="">')}]).directive("vgPoster",[function(){return{restrict:"E",require:"^videogular",scope:{vgUrl:"=?"},templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-poster"},link:function(e,t,i,n){e.API=n,n.isConfig&&e.$watch("API.config",function(){e.API.config&&(e.vgUrl=e.API.config.plugins.poster.url)})}}}]),angular.module("com.2fdevs.videogular.plugins.buffering",[]).run(["$templateCache",function(e){e.put("vg-templates/vg-buffering",'<div class="bufferingContainer">              <div ng-class="spinnerClass" class="loadingSpinner"></div>            </div>')}]).directive("vgBuffering",["VG_STATES","VG_UTILS",function(e,t){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){return t.vgTemplate||"vg-templates/vg-buffering"},link:function(i,n,o,s){i.showSpinner=function(){i.spinnerClass={stop:s.isBuffering},n.css("display","block")},i.hideSpinner=function(){i.spinnerClass={stop:s.isBuffering},n.css("display","none")},i.setState=function(e){e?i.showSpinner():i.hideSpinner()},i.onStateChange=function(t){t==e.STOP&&i.hideSpinner()},i.onPlayerReady=function(e){e&&i.hideSpinner()},i.showSpinner(),t.isMobileDevice()?i.hideSpinner():i.$watch(function(){return s.isReady},function(e,t){1!=s.isReady&&e==t||i.onPlayerReady(e)}),i.$watch(function(){return s.currentState},function(e,t){e!=t&&i.onStateChange(e)}),i.$watch(function(){return s.isBuffering},function(e,t){e!=t&&i.setState(e)})}}}]),function(){"use strict";var e=8,t=9,i=13,n=27,o=32,s=38,a=40,r=37,l=39,c=46,u=188,d=["text","email","url"],h=angular.module("ngTagsInput",[]);h.directive("tagsInput",["$timeout","$document","$window","$q","tagsInputConfig","tiUtil",function(t,n,s,a,h,p){function f(e){return-1!==d.indexOf(e)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",templateScope:"=?",tagClass:"&",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(e,t,i){e.events=p.simplePubSub(),h.load("tagsInput",e,t,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",f],placeholder:[String,""],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,9007199254740991],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,9007199254740991],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0],useStrings:[Boolean,!1]}),e.tagList=new function(e,t,i,n){var o,s,r,l,c={};return o=function(t){return p.safeToString(t[e.displayProperty])},s=function(t,i){t[e.displayProperty]=i},r=function(t){var n=o(t),s=n&&n.length>=e.minLength&&n.length<=e.maxLength&&e.allowedTagsPattern.test(n)&&!p.findInObjectArray(c.items,t,e.keyProperty||e.displayProperty);return a.when(s&&i({$tag:t})).then(p.promisifyValue)},l=function(e){return a.when(n({$tag:e})).then(p.promisifyValue)},c.items=[],c.addText=function(e){var t={};return s(t,e),c.add(t)},c.add=function(i){var n=o(i);return e.replaceSpacesWithDashes&&(n=p.replaceSpacesWithDashes(n)),s(i,n),r(i).then(function(){c.items.push(i),t.trigger("tag-added",{$tag:i})}).catch(function(){n&&t.trigger("invalid-tag",{$tag:i})})},c.remove=function(e){var i=c.items[e];return l(i).then(function(){return c.items.splice(e,1),c.clearSelection(),t.trigger("tag-removed",{$tag:i}),i})},c.select=function(e){e<0?e=c.items.length-1:e>=c.items.length&&(e=0),c.index=e,c.selected=c.items[e]},c.selectPrior=function(){c.select(--c.index)},c.selectNext=function(){c.select(++c.index)},c.removeSelected=function(){return c.remove(c.index)},c.clearSelection=function(){c.selected=null,c.index=-1},c.getItems=function(){return e.useStrings?c.items.map(o):c.items},c.clearSelection(),c}(e.options,e.events,p.handleUndefinedResult(e.onTagAdding,!0),p.handleUndefinedResult(e.onTagRemoving,!0)),this.registerAutocomplete=function(){i.find("input");return{addTag:function(t){return e.tagList.add(t)},getTags:function(){return e.tagList.items},getCurrentTagText:function(){return e.newTag.text()},getOptions:function(){return e.options},getTemplateScope:function(){return e.templateScope},on:function(t,i){return e.events.on(t,i,!0),this}}},this.registerTagItem=function(){return{getOptions:function(){return e.options},removeTag:function(t){e.disabled||e.tagList.remove(t)}}}}],link:function(a,d,h,f){var g,m,v=[i,u,o,e,c,r,l],b=a.tagList,y=a.events,w=a.options,x=d.find("input"),C=["minTags","maxTags","allowLeftoverText"];g=function(){f.$setValidity("maxTags",b.items.length<=w.maxTags),f.$setValidity("minTags",b.items.length>=w.minTags),f.$setValidity("leftoverText",!(!a.hasFocus&&!w.allowLeftoverText)||!a.newTag.text())},m=function(){t(function(){x[0].focus()})},f.$isEmpty=function(e){return!e||!e.length},a.newTag={text:function(e){if(!angular.isDefined(e))return a.text||"";a.text=e,y.trigger("input-change",e)},invalid:null},a.track=function(e){return e[w.keyProperty||w.displayProperty]},a.getTagClass=function(e,t){var i=e===b.selected;return $(".invalidTag").closest("li").addClass("invalidList"),[a.tagClass({$tag:e,$index:t,$selected:i}),{selected:i}]},a.$watch("tags",function(e){if(e){if(b.items=p.makeObjectArray(e,w.displayProperty),w.useStrings)return;a.tags=b.items}else b.items=[]}),a.$watch("tags.length",function(){g(),f.$validate()}),h.$observe("disabled",function(e){a.disabled=e}),a.eventHandlers={input:{keydown:function(e){y.trigger("input-keydown",e)},focus:function(){a.hasFocus||(a.hasFocus=!0,y.trigger("input-focus"))},blur:function(){t(function(){var e=n.prop("activeElement"),t=e===x[0],i=d[0].contains(e);!t&&i||(a.hasFocus=!1,y.trigger("input-blur"))})},paste:function(e){e.getTextData=function(){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;return t?t.getData("text/plain"):s.clipboardData.getData("Text")},y.trigger("input-paste",e)}},host:{click:function(){a.disabled||m()}},tag:{click:function(e){y.trigger("tag-clicked",{$tag:e})}}},y.on("tag-added",a.onTagAdded).on("invalid-tag",a.onInvalidTag).on("tag-removed",a.onTagRemoved).on("tag-clicked",a.onTagClicked).on("tag-added",function(){a.newTag.text("")}).on("tag-added tag-removed",function(){a.tags=b.getItems(),f.$setDirty(),m()}).on("invalid-tag",function(){a.newTag.invalid=!0}).on("option-change",function(e){-1!==C.indexOf(e.name)&&g()}).on("input-change",function(){b.clearSelection(),a.newTag.invalid=null}).on("input-focus",function(){d.triggerHandler("focus"),f.$setValidity("leftoverText",!0)}).on("input-blur",function(){w.addOnBlur&&!w.addFromAutocompleteOnly&&b.addText(a.newTag.text()),d.triggerHandler("blur"),g()}).on("input-keydown",function(t){var n,s,d,h,f=t.keyCode,g={};p.isModifierOn(t)||-1===v.indexOf(f)||(g[i]=w.addOnEnter,g[u]=w.addOnComma,g[o]=w.addOnSpace,n=!w.addFromAutocompleteOnly&&g[f],s=(f===e||f===c)&&b.selected,h=f===e&&0===a.newTag.text().length&&w.enableEditingLastTag,d=(f===e||f===r||f===l)&&0===a.newTag.text().length&&!w.enableEditingLastTag,n?b.addText(a.newTag.text()):h?(b.selectPrior(),b.removeSelected().then(function(e){e&&a.newTag.text(e[w.displayProperty])})):s?b.removeSelected():d&&(f===r||f===e?b.selectPrior():f===l&&b.selectNext()),(n||d||s||h)&&t.preventDefault())}).on("input-paste",function(e){if(w.addOnPaste){var t=e.getTextData().split(w.pasteSplitPattern);(t=t.filter(function(e,i){return t.indexOf(e)==i})).length>1&&(t.forEach(function(e){b.addText(e)}),e.preventDefault())}})}}}]),h.directive("tiTagItem",["tiUtil",function(e){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(t,i,n,o){var s=o.registerTagItem(),a=s.getOptions();t.$$template=a.template,t.$$removeTagSymbol=a.removeTagSymbol,t.$getTagClass=function(){var i="validTag";return/^[_a-zA-Z0-9]*['a-zA-Z0-9]*[-a-zA-Z0-9]*[\.a-zA-Z0-9]*@[a-zA-Z0-9-]+(\.a-zA-Z0-9-]+)*(\.[a-zA-Z]{2,4})*(\.[a-zA-Z]{2,4})/.test(e.safeToString(t.data[a.displayProperty]))||(i="invalidTag"),i},$(".invalidTag").closest("li").addClass("invalidList"),t.$getDisplayText=function(){return e.safeToString(t.data[a.displayProperty])},t.$removeTag=function(){s.removeTag(t.$index)},t.$watch("$parent.$index",function(e){t.$index=e})}}}]),h.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(e,o,r,l,c,u){return{restrict:"E",require:"^tagsInput",scope:{source:"&",matchClass:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(e,t,i){e.events=u.simplePubSub(),c.load("autoComplete",e,i,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),e.suggestionList=new function(e,t,i){var n,o,s,a={};return s=function(){return t.tagsInput.keyProperty||t.tagsInput.displayProperty},n=function(e,i){return e.filter(function(e){return!u.findInObjectArray(i,e,s(),function(e,i){return t.tagsInput.replaceSpacesWithDashes&&(e=u.replaceSpacesWithDashes(e),i=u.replaceSpacesWithDashes(i)),u.defaultComparer(e,i)})})},a.reset=function(){o=null,a.items=[],a.visible=!1,a.index=-1,a.selected=null,a.query=null},a.show=function(){t.selectFirstMatch?a.select(0):a.selected=null,a.visible=!0},a.load=u.debounce(function(i,r){a.query=i;var c=l.when(e({$query:i}));o=c,c.then(function(e){c===o&&(e=u.makeObjectArray(e.data||e,s()),e=n(e,r),a.items=e.slice(0,t.maxResultsToShow),a.items.length>0?a.show():a.reset())})},t.debounceDelay),a.selectNext=function(){a.select(++a.index)},a.selectPrior=function(){a.select(--a.index)},a.select=function(e){e<0?e=a.items.length-1:e>=a.items.length&&(e=0),a.index=e,a.selected=a.items[e],i.trigger("suggestion-selected",e)},a.reset(),a}(e.source,e.options,e.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return e.options},getQuery:function(){return e.suggestionList.query}}}}],link:function(e,o,r,l){var c,d=[i,t,n,s,a],h=e.suggestionList,p=l.registerAutocomplete(),f=e.options,g=e.events;f.tagsInput=p.getOptions(),c=function(e){return e&&e.length>=f.minLength||!e&&f.loadOnEmpty},e.templateScope=p.getTemplateScope(),e.addSuggestionByIndex=function(t){h.select(t),e.addSuggestion()},e.addSuggestion=function(){var e=!1;return h.selected&&(p.addTag(angular.copy(h.selected)),h.reset(),e=!0),e},e.track=function(e){return e[f.tagsInput.keyProperty||f.tagsInput.displayProperty]},e.getSuggestionClass=function(t,i){var n=t===h.selected;return[e.matchClass({$match:t,$index:i,$selected:n}),{selected:n}]},p.on("tag-added tag-removed invalid-tag input-blur",function(){h.reset()}).on("input-change",function(e){c(e)?h.load(e,p.getTags()):h.reset()}).on("input-focus",function(){var e=p.getCurrentTagText();f.loadOnFocus&&c(e)&&h.load(e,p.getTags())}).on("input-keydown",function(o){var r=o.keyCode,l=!1;if(!u.isModifierOn(o)&&-1!==d.indexOf(r))return h.visible?r===a?(h.selectNext(),l=!0):r===s?(h.selectPrior(),l=!0):r===n?(h.reset(),l=!0):r!==i&&r!==t||(l=e.addSuggestion()):r===a&&e.options.loadOnDownArrow&&(h.load(p.getCurrentTagText(),p.getTags()),l=!0),l?(o.preventDefault(),o.stopImmediatePropagation(),!1):void 0}),g.on("suggestion-selected",function(e){!function(e,t){var i=e.find("li").eq(t),n=i.parent(),o=i.prop("offsetTop"),s=i.prop("offsetHeight"),a=n.prop("clientHeight"),r=n.prop("scrollTop");o<r?n.prop("scrollTop",o):o+s>a+r&&n.prop("scrollTop",o+s-a)}(o,e)})}}}]),h.directive("tiAutocompleteMatch",["$sce","tiUtil",function(e,t){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(i,n,o,s){var a=s.registerAutocompleteMatch(),r=a.getOptions();i.$$template=r.template,i.$index=i.$parent.$index,i.$highlight=function(i){return r.highlightMatchedText&&(i=t.safeHighlight(i,a.getQuery())),e.trustAsHtml(i)},i.$getDisplayText=function(){return t.safeToString(i.data[r.displayProperty||r.tagsInput.displayProperty])}}}}]),h.directive("tiTranscludeAppend",function(){return function(e,t,i,n,o){o(function(e){t.append(e)})}}),h.directive("tiAutosize",["tagsInputConfig",function(e){return{restrict:"A",require:"ngModel",link:function(t,i,n,o){var s,a,r=e.getTextAutosizeThreshold();(s=angular.element('<span class="input"></span>')).css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),i.parent().append(s),a=function(e){var t,o=e;return angular.isString(o)&&0===o.length&&(o=n.placeholder),o&&(s.text(o),s.css("display",""),t=s.prop("offsetWidth"),s.css("display","none")),i.css("width",t?t+r+"px":""),e},o.$parsers.unshift(a),o.$formatters.unshift(a),n.$observe("placeholder",function(e){o.$modelValue||a(e)})}}}]),h.directive("tiBindAttrs",function(){return function(e,t,i){e.$watch(i.tiBindAttrs,function(e){angular.forEach(e,function(e,t){i.$set(t,e)})},!0)}}),h.provider("tagsInputConfig",function(){var e={},t={},i=3;this.setDefaults=function(t,i){return e[t]=i,this},this.setActiveInterpolation=function(e,i){return t[e]=i,this},this.setTextAutosizeThreshold=function(e){return i=e,this},this.$get=["$interpolate",function(n){var o={};return o[String]=function(e){return e},o[Number]=function(e){return parseInt(e,10)},o[Boolean]=function(e){return"true"===e.toLowerCase()},o[RegExp]=function(e){return new RegExp(e)},{load:function(i,s,a,r){var l=function(){return!0};s.options={},angular.forEach(r,function(r,c){var u,d,h,p,f,g;u=r[0],d=r[1],h=r[2]||l,p=o[u],f=function(){var t=e[i]&&e[i][c];return angular.isDefined(t)?t:d},g=function(e){s.options[c]=e&&h(e)?p(e):f()},t[i]&&t[i][c]?a.$observe(c,function(e){g(e),s.events.trigger("option-change",{name:c,newValue:e})}):g(a[c]&&n(a[c])(s.$parent))})},getTextAutosizeThreshold:function(){return i}}}]}),h.factory("tiUtil",["$timeout","$q",function(e,t){var i={debounce:function(t,i){var n;return function(){var o=arguments;e.cancel(n),n=e(function(){t.apply(null,o)},i)}},makeObjectArray:function(e,t){if(!angular.isArray(e)||0===e.length||angular.isObject(e[0]))return e;var i=[];return e.forEach(function(e){var n={};n[t]=e,i.push(n)}),i},findInObjectArray:function(e,t,n,o){var s=null;return o=o||i.defaultComparer,e.some(function(e){if(o(e[n],t[n]))return s=e,!0}),s},defaultComparer:function(e,t){return i.safeToString(e).toLowerCase()===i.safeToString(t).toLowerCase()},safeHighlight:function(e,t){if(e=i.encodeHTML(e),!(t=i.encodeHTML(t)))return e;var n=new RegExp("&[^;]+;|"+function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(t),"gi");return e.replace(n,function(e){return e.toLowerCase()===t.toLowerCase()?"<em>"+e+"</em>":e})},safeToString:function(e){return angular.isUndefined(e)||null==e?"":e.toString().trim()},encodeHTML:function(e){return i.safeToString(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},handleUndefinedResult:function(e,t){return function(){var i=e.apply(null,arguments);return angular.isUndefined(i)?t:i}},replaceSpacesWithDashes:function(e){return i.safeToString(e).replace(/\s/g,"-")},isModifierOn:function(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey},promisifyValue:function(e){return e=!!angular.isUndefined(e)||e,t[e?"when":"reject"]()},simplePubSub:function(){var e={};return{on:function(t,i,n){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]),(n?[].unshift:[].push).call(e[t],i)}),this},trigger:function(t,n){return(e[t]||[]).every(function(e){return i.handleUndefinedResult(e,!0)(n)}),this}}}};return i}]),h.run(["$templateCache",function(e){e.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),e.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),e.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(tag)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"></ti-autocomplete-match></li></ul></div>'),e.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery)}(this,function(e){"use strict";var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.cont=e[0];var i=e.closest(".fl-scrolls-body");i.length&&(this.scrollBody=i),this.sbar=this.initScroll(),this.visible=!0,this.updateAPI(),this.syncSbar(this.cont),this.addEventHandlers()}return t.prototype.initScroll=function(){var t=e("<div class='fl-scrolls'></div>"),i=this.cont;return e("<div></div>").appendTo(t).css({width:i.scrollWidth+"px"}),t.appendTo(i)},t.prototype.addEventHandlers=function(){var t=this;(t.eventHandlers=[{$el:t.scrollBody||e(window),handlers:{scroll:function(){t.checkVisibility()},resize:function(){t.updateAPI()}}},{$el:t.sbar,handlers:{scroll:function(e){var i=e.target;t.visible&&t.syncCont(i,!0)}}},{$el:e(t.cont),handlers:{scroll:function(e){var i=e.target;t.syncSbar(i,!0)},focusin:function(){setTimeout(t.syncSbar.bind(t,t.cont),0)},"update.fscroll":function(e){"fscroll"===e.namespace&&t.updateAPI()},"destroy.fscroll":function(e){"fscroll"===e.namespace&&t.destroyAPI()}}}]).forEach(function(e){var t=e.$el,i=e.handlers;return t.bind(i)})},t.prototype.checkVisibility=function(){var e=this.sbar[0].scrollWidth<=this.sbar[0].offsetWidth;if(!e){var t=this.cont.getBoundingClientRect(),i=this.scrollBody?this.scrollBody[0].getBoundingClientRect().bottom:window.innerHeight||document.documentElement.clientHeight;e=t.bottom<=i||t.top>i}this.visible===e&&(this.visible=!e,this.sbar.toggleClass("fl-scrolls-hidden"))},t.prototype.syncCont=function(e,t){!0!==this.preventSyncCont?(this.preventSyncSbar=!!t,this.cont.scrollLeft=e.scrollLeft):this.preventSyncCont=!1},t.prototype.syncSbar=function(e,t){!0!==this.preventSyncSbar?(this.preventSyncCont=!!t,this.sbar[0].scrollLeft=e.scrollLeft):this.preventSyncSbar=!1},t.prototype.updateAPI=function(){var t=this.cont;this.sbar.width(e(t).outerWidth()),this.scrollBody||this.sbar.css("left",t.getBoundingClientRect().left+"px"),e("div",this.sbar).width(t.scrollWidth),this.checkVisibility()},t.prototype.destroyAPI=function(){this.eventHandlers.forEach(function(e){var t=e.$el,i=e.handlers;return t.unbind(i)}),this.eventHandlers=null,this.sbar.remove()},t}();e.fn.floatingScroll=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"init";return"init"===i?this.each(function(i,n){return new t(e(n))}):t.prototype.hasOwnProperty(i+"API")&&this.trigger(i+".fscroll"),this},e(document).ready(function(){e("body [data-fl-scrolls]").floatingScroll()})}),function(e){"use strict";var t=function(t,i){this.options=i,this.$element=e(t),this.$container=e("<div/>",{class:"ms-container"}),this.$selectableContainer=e("<div/>",{class:"ms-selectable"}),this.$selectionContainer=e("<div/>",{class:"ms-selection"}),this.$selectableUl=e("<ul/>",{class:"ms-list",tabindex:"-1"}),this.$selectionUl=e("<ul/>",{class:"ms-list",tabindex:"-1"}),this.scrollTo=0,this.elemsSelector="li:visible:not(.ms-optgroup-label,.ms-optgroup-container,."+i.disabledClass+")"};t.prototype={constructor:t,init:function(){var t=this,i=this.$element;if(0===i.next(".ms-container").length){i.css({position:"absolute",left:"-9999px"}),i.attr("id",i.attr("id")?i.attr("id"):Math.ceil(1e3*Math.random())+"multiselect"),this.$container.attr("id","ms-"+i.attr("id")),this.$container.addClass(t.options.cssClass),i.find("option").each(function(){t.generateLisFromOption(this)}),this.$selectionUl.find(".ms-optgroup-label").hide(),t.options.selectableHeader&&t.$selectableContainer.append(t.options.selectableHeader),t.$selectableContainer.append(t.$selectableUl),t.options.selectableFooter&&t.$selectableContainer.append(t.options.selectableFooter),t.options.selectionHeader&&t.$selectionContainer.append(t.options.selectionHeader),t.$selectionContainer.append(t.$selectionUl),t.options.selectionFooter&&t.$selectionContainer.append(t.options.selectionFooter),t.$container.append(t.$selectableContainer),t.$container.append(t.$selectionContainer),i.after(t.$container),t.activeMouse(t.$selectableUl),t.activeKeyboard(t.$selectableUl);var n=t.options.dblClick?"dblclick":"click";t.$selectableUl.on(n,".ms-elem-selectable",function(){t.select(e(this).data("ms-value"))}),t.$selectionUl.on(n,".ms-elem-selection",function(){t.deselect(e(this).data("ms-value"))}),t.activeMouse(t.$selectionUl),t.activeKeyboard(t.$selectionUl),i.on("focus",function(){t.$selectableUl.focus()})}var o=i.find("option:selected").map(function(){return e(this).val()}).get();t.select(o,"init"),"function"==typeof t.options.afterInit&&t.options.afterInit.call(this,this.$container)},generateLisFromOption:function(t,i,n){for(var o=this,s=o.$element,a="",r=e(t),l=0;l<t.attributes.length;l++){var c=t.attributes[l];"value"!==c.name&&"disabled"!==c.name&&(a+=c.name+'="'+c.value+'" ')}var u=e("<li "+a+"><span>"+o.escapeHTML(r.text())+"</span></li>"),d=u.clone(),h=r.val(),p=o.sanitize(h);u.data("ms-value",h).addClass("ms-elem-selectable").attr("id",p+"-selectable"),d.data("ms-value",h).addClass("ms-elem-selection").attr("id",p+"-selection").hide(),(r.prop("disabled")||s.prop("disabled"))&&(d.addClass(o.options.disabledClass),u.addClass(o.options.disabledClass));var f=r.parent("optgroup");if(f.length>0){var g=f.attr("label"),m=o.sanitize(g),v=o.$selectableUl.find("#optgroup-selectable-"+m),b=o.$selectionUl.find("#optgroup-selection-"+m);if(0===v.length){var y='<ul class="ms-optgroup"><li class="ms-optgroup-label"><span>'+g+"</span></li></ul>";v=e('<li class="ms-optgroup-container"></li>'),b=e('<li class="ms-optgroup-container"></li>'),v.attr("id","optgroup-selectable-"+m),b.attr("id","optgroup-selection-"+m),v.append(e(y)),b.append(e(y)),o.options.selectableOptgroup&&(v.find(".ms-optgroup-label").on("click",function(){var t=f.children(":not(:selected, :disabled)").map(function(){return e(this).val()}).get();o.select(t)}),b.find(".ms-optgroup-label").on("click",function(){var t=f.children(":selected:not(:disabled)").map(function(){return e(this).val()}).get();o.deselect(t)})),o.$selectableUl.append(v),o.$selectionUl.append(b)}i=void 0===i?v.find("ul").children().length:i+1,u.insertAt(i,v.children()),d.insertAt(i,b.children())}else i=void 0===i?o.$selectableUl.children().length:i,u.insertAt(i,o.$selectableUl),d.insertAt(i,o.$selectionUl)},addOption:function(t){var i=this;void 0!==t.value&&null!==t.value&&(t=[t]),e.each(t,function(t,n){if(void 0!==n.value&&null!==n.value&&0===i.$element.find("option[value='"+n.value+"']").length){var o=e('<option value="'+n.value+'">'+n.text+"</option>"),s=(t=parseInt(void 0===n.index?i.$element.children().length:n.index),void 0===n.nested?i.$element:e("optgroup[label='"+n.nested+"']"));o.insertAt(t,s),i.generateLisFromOption(o.get(0),t,n.nested)}})},escapeHTML:function(t){return e("<div>").text(t).html()},activeKeyboard:function(t){var i=this;t.on("focus",function(){e(this).addClass("ms-focus")}).on("blur",function(){e(this).removeClass("ms-focus")}).on("keydown",function(n){switch(n.which){case 40:case 38:return n.preventDefault(),n.stopPropagation(),void i.moveHighlight(e(this),38===n.which?-1:1);case 37:case 39:return n.preventDefault(),n.stopPropagation(),void i.switchList(t);case 9:if(i.$element.is("[tabindex]")){n.preventDefault();var o=parseInt(i.$element.attr("tabindex"),10);return o=n.shiftKey?o-1:o+1,void e('[tabindex="'+o+'"]').focus()}n.shiftKey&&i.$element.trigger("focus")}if(e.inArray(n.which,i.options.keySelect)>-1)return n.preventDefault(),n.stopPropagation(),void i.selectHighlighted(t)})},moveHighlight:function(e,t){var i=e.find(this.elemsSelector),n=i.filter(".ms-hover"),o=null,s=i.first().outerHeight(),a=e.height();this.$container.prop("id");if(i.removeClass("ms-hover"),1===t){if(0===(o=n.nextAll(this.elemsSelector).first()).length)if((l=n.parent()).hasClass("ms-optgroup")){var r=l.parent().next(":visible");o=r.length>0?r.find(this.elemsSelector).first():i.first()}else o=i.first()}else if(-1===t){var l;if(0===(o=n.prevAll(this.elemsSelector).first()).length)if((l=n.parent()).hasClass("ms-optgroup")){var c=l.parent().prev(":visible");o=c.length>0?c.find(this.elemsSelector).last():i.last()}else o=i.last()}if(o.length>0){o.addClass("ms-hover");var u=e.scrollTop()+o.position().top-a/2+s/2;e.scrollTop(u)}},selectHighlighted:function(e){var t=e.find(this.elemsSelector),i=t.filter(".ms-hover").first();i.length>0&&(e.parent().hasClass("ms-selectable")?this.select(i.data("ms-value")):this.deselect(i.data("ms-value")),t.removeClass("ms-hover"))},switchList:function(e){e.blur(),this.$container.find(this.elemsSelector).removeClass("ms-hover"),e.parent().hasClass("ms-selectable")?this.$selectionUl.focus():this.$selectableUl.focus()},activeMouse:function(t){var i=this;this.$container.on("mouseenter",i.elemsSelector,function(){e(this).parents(".ms-container").find(i.elemsSelector).removeClass("ms-hover"),e(this).addClass("ms-hover")}),this.$container.on("mouseleave",i.elemsSelector,function(){e(this).parents(".ms-container").find(i.elemsSelector).removeClass("ms-hover")})},refresh:function(){this.destroy(),this.$element.multiSelect(this.options)},destroy:function(){e("#ms-"+this.$element.attr("id")).remove(),this.$element.off("focus"),this.$element.css("position","").css("left",""),this.$element.removeData("multiselect")},select:function(t,i){"string"==typeof t&&(t=[t]);var n=this,o=this.$element,s=e.map(t,function(e){return n.sanitize(e)}),a=this.$selectableUl.find("#"+s.join("-selectable, #")+"-selectable").filter(":not(."+n.options.disabledClass+")"),r=this.$selectionUl.find("#"+s.join("-selection, #")+"-selection").filter(":not(."+n.options.disabledClass+")"),l=o.find("option:not(:disabled)").filter(function(){return e.inArray(this.value,t)>-1});if("init"===i&&(a=this.$selectableUl.find("#"+s.join("-selectable, #")+"-selectable"),r=this.$selectionUl.find("#"+s.join("-selection, #")+"-selection")),a.length>0){a.addClass("ms-selected").hide(),r.addClass("ms-selected").show(),l.prop("selected",!0),n.$container.find(n.elemsSelector).removeClass("ms-hover");var c=n.$selectableUl.children(".ms-optgroup-container");if(c.length>0)c.each(function(){var t=e(this).find(".ms-elem-selectable");t.length===t.filter(".ms-selected").length&&e(this).find(".ms-optgroup-label").hide()}),n.$selectionUl.children(".ms-optgroup-container").each(function(){e(this).find(".ms-elem-selection").filter(".ms-selected").length>0&&e(this).find(".ms-optgroup-label").show()});else if(n.options.keepOrder&&"init"!==i){var u=n.$selectionUl.find(".ms-selected");u.length>1&&u.last().get(0)!=r.get(0)&&r.insertAfter(u.last())}"init"!==i&&(o.trigger("change"),"function"==typeof n.options.afterSelect&&n.options.afterSelect.call(this,t))}},deselect:function(t){"string"==typeof t&&(t=[t]);var i=this,n=this.$element,o=e.map(t,function(e){return i.sanitize(e)}),s=this.$selectableUl.find("#"+o.join("-selectable, #")+"-selectable"),a=this.$selectionUl.find("#"+o.join("-selection, #")+"-selection").filter(".ms-selected").filter(":not(."+i.options.disabledClass+")"),r=n.find("option").filter(function(){return e.inArray(this.value,t)>-1});if(a.length>0){s.removeClass("ms-selected").show(),a.removeClass("ms-selected").hide(),r.prop("selected",!1),i.$container.find(i.elemsSelector).removeClass("ms-hover");var l=i.$selectableUl.children(".ms-optgroup-container");if(l.length>0)l.each(function(){e(this).find(".ms-elem-selectable").filter(":not(.ms-selected)").length>0&&e(this).find(".ms-optgroup-label").show()}),i.$selectionUl.children(".ms-optgroup-container").each(function(){0===e(this).find(".ms-elem-selection").filter(".ms-selected").length&&e(this).find(".ms-optgroup-label").hide()});n.trigger("change"),"function"==typeof i.options.afterDeselect&&i.options.afterDeselect.call(this,t)}},select_all:function(){var t=this.$element,i=t.val();if(t.find('option:not(":disabled")').prop("selected",!0),this.$selectableUl.find(".ms-elem-selectable").filter(":not(."+this.options.disabledClass+")").addClass("ms-selected").hide(),this.$selectionUl.find(".ms-optgroup-label").show(),this.$selectableUl.find(".ms-optgroup-label").hide(),this.$selectionUl.find(".ms-elem-selection").filter(":not(."+this.options.disabledClass+")").addClass("ms-selected").show(),this.$selectionUl.focus(),t.trigger("change"),"function"==typeof this.options.afterSelect){var n=e.grep(t.val(),function(t){return e.inArray(t,i)<0});this.options.afterSelect.call(this,n)}},deselect_all:function(){var e=this.$element,t=e.val();e.find("option").prop("selected",!1),this.$selectableUl.find(".ms-elem-selectable").removeClass("ms-selected").show(),this.$selectionUl.find(".ms-optgroup-label").hide(),this.$selectableUl.find(".ms-optgroup-label").show(),this.$selectionUl.find(".ms-elem-selection").removeClass("ms-selected").hide(),this.$selectableUl.focus(),e.trigger("change"),"function"==typeof this.options.afterDeselect&&this.options.afterDeselect.call(this,t)},sanitize:function(e){var t,i=0;if(0==e.length)return i;var n;for(t=0,n=e.length;t<n;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;return i}},e.fn.multiSelect=function(){var i=arguments[0],n=arguments;return this.each(function(){var o=e(this),s=o.data("multiselect"),a=e.extend({},e.fn.multiSelect.defaults,o.data(),"object"==typeof i&&i);s||o.data("multiselect",s=new t(this,a)),"string"==typeof i?s[i](n[1]):s.init()})},e.fn.multiSelect.defaults={keySelect:[32],selectableOptgroup:!1,disabledClass:"disabled",dblClick:!1,keepOrder:!1,cssClass:""},e.fn.multiSelect.Constructor=t,e.fn.insertAt=function(e,t){return this.each(function(){0===e?t.prepend(this):t.children().eq(e-1).after(this)})}}(window.jQuery),function(e){var t,i,n,o,s=!1,a=300,r={overlay:!0,expandOnFocus:!1,transition:"fade",placeholder:"",maxWidth:"",maxHeight:"",onExpand:function(){},onMinimize:function(){}},l={init:function(a){if(r=r||{},e.extend(!0,r,r),e.extend(!0,r,a),(t=e(this)).is("textarea")){var c=""!==e.trim(t.val())?t.val():"";t.hide();var u=e('<div class="fs-editor-wrapper">                     <div class="fs-editor"><a href="#" class="fs-icon"></a>                     <div class="fs-editable" contenteditable="true"></div>                     </div></div>').insertAfter(this);return i=u.find(".fs-editor"),n=i.find(".fs-editable"),o=i.find(".fs-icon"),n.css("min-height",t.css("height")).parent(".fs-editor-wrapper").css("min-height",t.css("height")),e(window).on("keyup.fseditor",function(e){27==e.keyCode&&s&&l.minimize()}),r.expandOnFocus&&n.on("focus.fseditor",function(){l.expand()}),o.on("click.fseditor.icon",function(e){e.preventDefault(),l[s?"minimize":"expand"]()}),r.placeholder&&""==t.val()?l.placeholder():""!=t.val()&&n.html(c),i.closest("form").on("submit",function(e){var i=n.html().replace(/<div>/gi,"<br>").replace(/<\/div>/gi,"");t.html(i==r.placeholder?"":i)}),this}e.error("Error initializing FSEditor Plugin. It can only work on <textarea> element.")},showOverlay:function(){return e('<div class="fs-editor-overlay" />').appendTo("body").fadeTo(""==r.transition?0:a,1).click(function(){l.minimize()}),this},removeOverlay:function(){var t=e(".fs-editor-overlay");return t.length&&t.fadeTo(""==r.transition?0:a,0,function(){e(this).remove()}),this},expand:function(){return"fade"==r.transition&&i.fadeTo(0,0),r.maxWidth&&i.css("max-width",r.maxWidth),r.maxHeight&&i.css("max-height",r.maxHeight),r.overlay&&l.showOverlay(),e(window).on("resize.fseditor",function(){u(i)}),i.addClass("expanded transition-"+r.transition),c.fx(r.transition),this},minimize:function(){return e(window).off("resize.fseditor",u(i)),i.removeClass("expanded transition-"+r.transition).css({"max-width":"none","max-height":"none"}),"fade"==r.transition&&i.fadeTo(0,0),r.overlay&&l.removeOverlay(),c.fx(r.transition),this},placeholder:function(){if("string"==typeof r.placeholder)return n.addClass("placeholder").html(r.placeholder).on({focus:function(){n.html()==r.placeholder&&n.html("").removeClass("placeholder")},blur:function(){""==n.html()&&n.html(r.placeholder).addClass("placeholder")}}),this},destroy:function(){return l.removeOverlay(),t.show().nextAll(".fs-editor-wrapper").remove(),e(window).off("keyup.fseditor").off("resize.fseditor"),this}},c={fx:function(e){switch(u(i),e){case"fade":s?l.fadeComplete("minimize"):i.fadeTo(a,1,l.fadeComplete("expand"));break;case"slide-in":s?l.slideInComplete("minimize"):l.slideInComplete("expand");break;default:s?l.noTransition("minimize"):l.noTransition("expand")}},noTransition:function(e){"expand"==e?(r.placeholder||n.focus(),i.css("opacity",1),s=!0,r.onExpand.call(this)):"minimize"==e&&(r.placeholder||n.focus(),s=!1,r.onMinimize.call(this))},fadeComplete:function(e){"expand"==e?(r.placeholder||n.focus(),s=!0,r.onExpand.call(this)):"minimize"==e&&(i.fadeTo(0,1),r.placeholder||n.focus(),s=!1,r.onMinimize.call(this))},slideInComplete:function(t){"expand"==t?(i.css({top:-999,opacity:1}).animate({top:0|(e(window).height()-i.height())/2},a),s=!0,r.onExpand.call(this)):"minimize"==t&&(i.animate({top:-999},a),s=!1,r.onMinimize.call(this))}};function u(t){var i=0|(e(window).height()-t.height())/2,n=0|(e(window).width()-t.width())/2;t.css({top:i,left:n})}e.fn.fseditor=function(t){return e.extend(l,c),l[t]?l[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.fseditor"):l.init.apply(this,arguments)}}(jQuery),function(e){"use strict";var t="Microsoft Internet Explorer"==window.navigator.appName,i=function(t,i){if(this.$element=e(t),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||i.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=e('<input type="hidden" />'),this.$element.prepend(this.$hidden)),this.$preview=this.$element.find(".fileinput-preview");var n=this.$preview.css("height");"inline"!=this.$preview.css("display")&&"0px"!=n&&"none"!=n&&this.$preview.css("line-height",n),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};i.prototype.listen=function(){this.$input.on("change.bs.fileinput",e.proxy(this.change,this)),e(this.$input[0].form).on("reset.bs.fileinput",e.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",e.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",e.proxy(this.clear,this))},i.prototype.change=function(t){if(void 0===t.target.files&&(t.target.files=t.target&&t.target.value?[{name:t.target.value.replace(/^.+\\/,"")}]:[]),0!==t.target.files.length){this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var i=t.target.files[0];if(this.$preview.length>0&&(void 0!==i.type?i.type.match("image.*"):i.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var n=new FileReader,o=this.$preview,s=this.$element;n.onload=function(n){var a=e("<img>").attr("src",n.target.result);t.target.files[0].result=n.target.result,s.find(".fileinput-filename").text(i.name),"none"!=o.css("max-height")&&a.css("max-height",parseInt(o.css("max-height"),10)-parseInt(o.css("padding-top"),10)-parseInt(o.css("padding-bottom"),10)-parseInt(o.css("border-top"),10)-parseInt(o.css("border-bottom"),10)),o.html(a),s.addClass("fileinput-exists").removeClass("fileinput-new"),s.trigger("change.bs.fileinput",t.target.files)},n.readAsDataURL(i)}else this.$element.find(".fileinput-filename").text(i.name),this.$preview.text(i.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")}},i.prototype.clear=function(e){if(e&&e.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),t){var i=this.$input.clone(!0);this.$input.after(i),this.$input.remove(),this.$input=i}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),!1!==e&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},i.prototype.reset=function(){this.clear(!1),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},i.prototype.trigger=function(e){this.$input.trigger("click"),e.preventDefault()},e.fn.fileinput=function(t){return this.each(function(){var n=e(this),o=n.data("fileinput");o||n.data("fileinput",o=new i(this,t)),"string"==typeof t&&o[t]()})},e.fn.fileinput.Constructor=i,e(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(t){var i=e(this);if(!i.data("fileinput")){i.fileinput(i.data());var n=e(t.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');n.length>0&&(t.preventDefault(),n.trigger("click.bs.fileinput"))}})}(window.jQuery),function(e,t,i,n){var o="skylo",s={state:"info",inchSpeed:200,initialBurst:5};function a(t,i){this.element=t,this.options=e.extend({},s,i),this._defaults=s,this._width=0,this._shown=!1,this._name=o,this.init()}function r(t){(t.initialBurst>100||t.initialBurst<0)&&e.error("Skylo: Initial Burst must range from 0 to 100"),"info"!==t.state&&"success"!==t.state&&"danger"!==t.state&&"warning"!==t.state&&e.error('Skylo: Invalid state. Please choose one of these states: ["info","success","danger","warning"]')}a.prototype.init=function(){r(this.options)},a.prototype.show=function(t){if(!this._shown){var i=e("<div/>",{class:"progress-bar bar "+(this.options.state?"progress-bar-"+this.options.state+" bar-"+this.options.state:"")}).append(e("<span/>"));e("<div/>",{class:"progress progress-striped active skylo"}).append(i).appendTo("body"),this._shown=!0,this._width=0}"function"==typeof t&&t()},a.prototype.remove=function(){e(".skylo").remove(),this._shown=!1},a.prototype.set=function(t){clearTimeout(this.interval),this._width=t,e(".progress.skylo .bar").width(this.get()+"%")},a.prototype.inch=function(e){var t=this;e>0&&t.get()<=100&&(this.interval=setTimeout(function(){var i=t.get()+1;t.set(i),t.inch(--e)},t.options.inchSpeed))},a.prototype.start=function(){var e=this;this.show(function(){e.set(e.options.initialBurst)})},a.prototype.end=function(){var t,i=this;e(".progress.skylo .bar").width("100%"),t=(t=function(){i.remove()})||null,setTimeout(function(){e(".progress.skylo .bar").animate({opacity:0},1e3,t)},400)},a.prototype.get=function(){return this._width},e.fn[o]=function(t){var i=arguments,n=null;return this.each(function(){e.data(this,"plugin_"+o)||e.data(this,"plugin_"+o,new a(this,t));var s=e.data(this,"plugin_"+o);s[t]?n=s[t].apply(s,Array.prototype.slice.call(i,1)):"object"!=typeof t&&t?e.error("Skylo have no such methods"):(s.options=e.extend({},s.options,t),r(s.options))}),void 0===typeof n&&(n=this),n}}(jQuery,window,document);