<script>angular.module('theme.setup-campaign-builder2b',[]).controller('ActionsEditableController', function ($scope) {
    
    $scope.actions = [
      {id: 1, order: 'First', condition: '', status: 1, dothis: ''},
      {id: 2, order: 'Second', condition: '', status: 1, dothis: ''}
    ];
	
	$scope.statuses = [
      {value: 1, text: 'Send text alert to'},
      {value: 2, text: 'Tag call as'},
      {value: 3, text: 'Post a conversion event to'},
      {value: 4, text: 'Trigger the webhook'},
      {value: 5, text: 'Send call details to'},
      {value: 6, text: 'Flag for call back'}
    ];
	
	$scope.showStatus = function(action) {
      var selected = [];
      if(action.status) {
        selected = $filter('filter')($scope.statuses, {value: action.status});
      }
      return selected.length ? selected[0].text : 'Not set';
    };
	
	$scope.addAction = function() {
      $scope.inserted = {
        id: $scope.actions.length+1,
        name: '',
        status: null,
        group: null 
      };
      $scope.actions.push($scope.inserted);
    }; 

  })</script><div id="page-heading"><h1>Campaign Builder</h1></div><div class="container-fluid"><div class="row"><div class="col-md-12"><div class="container-fluid" ng-controller="FormComponentsController"><div class="panel panel-midnightblue"><div class="panel-heading"><h4>Campaign Details</h4></div><div class="panel-body collapse in"><form action="" class="form-horizontal row-border"><div class="form-group"><div class="col-sm-1"><div class="checkbox"><label><input ng-model="mustShow2" icheck type="checkbox" value=""> Active</label></div></div><label class="col-sm-2 control-label">Campaign Name</label><div class="col-sm-3"><input type="text" class="form-control" value="Another Campaign"></div><label class="col-sm-2 control-label">Campaign ID</label><div class="col-sm-3"><input type="text" class="form-control" placeholder="not required" value=""></div></div><div class="row mt20"><div class="col-sm-2 text-right"><label>Custom Hours</label></div><div class="col-sm-4"><input type="text" class="form-control" value=""></div><div class="col-sm-1 text-right"><label>Regions</label></div><div class="col-sm-4"><select ui-select2 ng-model="select2" data-placeholder="Region" multiple="multiple" style="width:100%"><optgroup label="Alaskan/Hawaiian Time Zone"><option value="AK">Alaska</option><option value="HI">Hawaii</option></optgroup><optgroup label="Pacific Time Zone"><option value="CA">California</option><option value="NV">Nevada</option><option value="OR">Oregon</option><option value="WA">Washington</option></optgroup><optgroup label="Mountain Time Zone"><option value="AZ">Arizona</option><option value="CO">Colorado</option><option value="ID">Idaho</option><option value="MT">Montana</option><option value="NE">Nebraska</option><option value="NM">New Mexico</option><option value="ND">North Dakota</option><option value="UT">Utah</option><option value="WY">Wyoming</option></optgroup><optgroup label="Central Time Zone"><option value="AL">Alabama</option><option value="AR">Arkansas</option><option value="IL">Illinois</option><option value="IA">Iowa</option><option value="KS">Kansas</option><option value="KY">Kentucky</option><option value="LA">Louisiana</option><option value="MN">Minnesota</option><option value="MS">Mississippi</option><option value="MO">Missouri</option><option value="OK">Oklahoma</option><option value="SD">South Dakota</option><option value="TX">Texas</option><option value="TN">Tennessee</option><option value="WI">Wisconsin</option></optgroup><optgroup label="Eastern Time Zone"><option value="CT">Connecticut</option><option value="DE">Delaware</option><option value="FL">Florida</option><option value="GA">Georgia</option><option value="IN">Indiana</option><option value="ME">Maine</option><option value="MD">Maryland</option><option value="MA">Massachusetts</option><option value="MI">Michigan</option><option value="NH">New Hampshire</option><option value="NJ">New Jersey</option><option value="NY">New York</option><option value="NC">North Carolina</option><option value="OH">Ohio</option><option value="PA">Pennsylvania</option><option value="RI">Rhode Island</option><option value="SC">South Carolina</option><option value="VT">Vermont</option><option value="VA">Virginia</option><option value="WV">West Virginia</option></optgroup></select></div></div></form></div></div></div><div class="container-fluid" ng-controller="TablesEditableController"><div class="row"><div class="col-md-12"><panel panel-class="panel-primary" data-heading="Phone Numbers"><table class="table table-condensed table-striped"><tr style="font-weight: bold"><td style="width:15%">Phone Number</td><td style="width:15%">Name</td><td style="width:20%">Channel</td><td style="width:10%">Value</td><td style="width:15%">Repeat Interval</td><td style="width:10%">Status</td><td style="width:25%">Actions</td></tr><tr ng-repeat="user in users2"><td><span editable-text="user.phone" e-name="phone" e-form="rowform" e-required>{{ user.phone || '' }}</span></td><td><span editable-text="user.name" e-name="name" e-form="rowform" e-required>{{ user.name || '' }}</span></td><td><span editable-select="user.status" e-name="status" e-form="rowform" e-ng-options="s.value as s.text for s in statuses">{{ showStatus(user) }}</span></td><td><span editable-select="user.value" e-name="value" e-form="rowform">{{ user.value || '' }}</span></td><td><span editable-select="user.rinterval" e-name="rinterval" e-form="rowform">{{ user.rinterval || '' }}</span></td><td><span editable-select="user.status" e-name="status" e-form="rowform" e-ng-options="g.id as g.text for g in groups">{{ user.status2 || '' }}</span></td><td style="white-space: nowrap"><form editable-form name="rowform" onbeforesave="saveUser($data, user.id)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == user"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-sm btn-primary">Save</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-sm btn-default">Cancel</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-sm btn-info" ng-click="rowform.$show()">Edit</button> <button class="btn btn-sm btn-primary" ng-click="showCallFlow">Call Flow</button> <button class="btn btn-sm btn-midnightblue" ng-click="mode = 'showPCA'">Call Actions</button> <button class="btn btn-sm btn-danger" ng-click="removeUser($index)">Delete</button></div></td></tr></table><button class="btn btn-default" ng-click="addUser()">Add row</button></panel></div></div></div><div class="container-fluid"><div class="row"><div class="col-md-12"><panel panel-class="panel-primary" data-heading="Call Flow"><div class="form-group"><div class="row"><div class="col-sm-2"><div class="checkbox"><label><input ng-model="mustShow" icheck type="checkbox" value=""> Active</label></div></div><div class="col-sm-2"><label class="control-label">Name</label><div class=""><input type="text" class="form-control" value="Mailer 2"></div></div><div class="col-sm-2"><label class="control-label">Channel</label><div class=""><select class="form-control" id="source"><optgroup label="Online"><option value="Paid Search">Paid Search</option><option value="Organic Search">Organic Search</option><option value="Display">Display</option><option value="Email">Email</option><option value="Social Media">Social Media</option><option value="Other">Other</option></optgroup><optgroup label="Mobile"><option value="Paid Search">Paid Search</option><option value="Organic Search">Organic Search</option><option value="Display">Display</option><option value="SMS">SMS</option><option value="Apps">Apps</option><option value="Other">Other</option></optgroup><optgroup label="Offline"><option value="Direct Mail">Direct Mail</option><option value="Magazine">Magazine</option><option value="Outdoor">Outdoor</option><option value="Radio">Radio</option><option value="TV">TV</option><option value="Insert">Insert</option><option value="Other">Other</option></optgroup></select></div></div><div class="col-sm-2"><label class="control-label">Value</label><div class=""><input type="text" class="form-control" value="500"></div></div><div class="col-sm-2"><label class="control-label">Repeat Interval</label><div class=""><input type="text" class="form-control" value="480"></div></div></div><div class="row mt20"><div class="col-sm-2"><div class="checkbox"><label><input ng-model="showDNI" icheck type="checkbox" value=""> Dynamic Number</label></div></div><div ng-show="showDNI"><div class="col-sm-2"><label class="control-label">Hostname</label><div class=""><input type="text" class="form-control" value=""></div></div><div class="col-sm-2"><label class="control-label">Referring Website</label><div class=""><select class="form-control" id="source"><optgroup label="Select One"><option value="add">Add New</option><option value="any">Any</option><option value="bing">*.bing.com</option><option value="g-organic">Google (organic)</option><option value="g-paid">Google (paid)</option><option value="y-organic">Yahoo (organic)</option><option value="y-paid">Yahoo (paid)</option></optgroup></select></div></div><div class="col-sm-2"><label class="control-label">DNI Type</label><div class=""><select class="form-control" id="source"><option value="URL">URL</option><option value="Source">Source</option><option value="Session">Session</option></select></div></div><div class="col-sm-2"><label class="control-label">HTML Class</label><div class=""><input type="text" class="form-control" value=""></div></div><div class="col-sm-1"><label class="control-label">TTL</label><div class=""><input type="text" class="form-control" value=""></div></div></div></div><div class="row mt20"><div class="col-sm-2"><label>At the start of the call:</label></div><div class="col-sm-4"><div class="col-sm-12"><select ng-model="callFlow" class="form-control" id="source"><option value="opt1">Forward to phone number</option><option value="opt2">Forward to nearest location</option><option value="opt3">Forward to voicemail</option><option value="opt4">Ask a question</option><option value="opt5">Ask a series of questions</option><option value="opt6">Send a text message</option><option value="opt7">Check a condition</option><option value="opt8">Hang up</option></select></div></div><div class="col-sm-12" ng-show="callFlow=='opt1'"><div class="row mt20"><div class="col-sm-3 col-sm-offset-1"><div class="checkbox"><label><input ng-model="recordCall1" icheck type="checkbox" value=""> Record Call</label></div></div><div ng-show="recordCall1"><div class="col-sm-6"><label class="col-sm-6 control-label">Play call recording disclaimer</label><div class="col-sm-6"><select class="form-control" id="source"><option value="Before">Before voice prompt</option><option value="After">After voice prompt</option><option value="Never">Never</option></select></div></div></div></div><div class="row mt20"><div class="col-sm-3 col-sm-offset-1"><div class="checkbox"><label><input ng-model="voicePrompt1" icheck type="checkbox" value=""> Play a voice prompt first</label></div></div><div ng-show="voicePrompt1"><div class="col-sm-8"><div class="col-sm-8"><input type="text" class="form-control" placeholder="Example: Please wait while we connect your call" value=""></div><div class="col-sm-2">play icon</div></div></div></div><div class="row mt20"><div class="col-sm-3 col-sm-offset-1"><div class="checkbox"><label><input ng-model="whisperPrompt1" icheck type="checkbox" value=""> Play whisper message before connecting</label></div></div><div ng-show="whisperPrompt1"><div class="col-sm-8"><div class="col-sm-8"><input type="text" class="form-control" placeholder="Example: You are receiving a call from Mailer 1a" value=""></div><div class="col-sm-2">play icon</div></div></div></div><div class="row mt20"><div class="col-sm-2"><label>Ring to Phone Number:</label></div><div class="col-sm-2"><input type="text" class="form-control" value=""></div><div class="col-sm-2"><div class="checkbox"><label><input ng-model="filterCalls" icheck type="checkbox" value=""> Filter spam calls</label></div></div></div></div><div class="col-sm-12" ng-show="callFlow=='opt2'"><div class="row mt20"><div class="col-sm-3 col-sm-offset-1"><div class="checkbox"><label><input ng-model="recordCall" icheck type="checkbox" value=""> Record Call</label></div></div><div ng-show="recordCall"><div class="col-sm-6"><label class="col-sm-6 control-label">Play call recording disclaimer</label><div class="col-sm-6"><select class="form-control" id="source"><option value="Before">Before voice prompt</option><option value="After">After voice prompt</option><option value="Never">Never</option></select></div></div></div></div><div class="row mt20"><div class="col-sm-3 col-sm-offset-1"><div class="checkbox"><label><input ng-model="voicePrompt1" icheck type="checkbox" value=""> Play a voice prompt first</label></div></div><div ng-show="voicePrompt1"><div class="col-sm-8"><div class="col-sm-8"><input type="text" class="form-control" placeholder="Example: Please wait while we connect your call" value=""></div><div class="col-sm-2">play icon</div></div></div></div><div class="row mt20"><div class="col-sm-3 col-sm-offset-1"><div class="checkbox"><label><input ng-model="whisperPrompt1" icheck type="checkbox" value=""> Play whisper message before connecting</label></div></div><div ng-show="whisperPrompt1"><div class="col-sm-8"><div class="col-sm-8"><input type="text" class="form-control" placeholder="Example: You are receiving a call from Mailer 1a" value=""></div><div class="col-sm-2">play icon</div></div></div></div><div class="row mt20"><div class="col-sm-1"><label>Route by:</label></div><div class="col-sm-2"><select style="width:auto;" class="form-control" id="source"><option value="zip">Zip Code</option><option value="area">Area Code</option></select></div><div class="col-sm-2"><script type="text/ng-template" id="myModalContent.html"><div class="modal-header">
                                                            <h3 class="modal-title">This is a modal!</h3>
                                                        </div>
                                                        <div class="modal-body">
                                                            <ul>
                                                                <li ng-repeat="item in items">
                                                                    <a ng-click="selected.item = item">{{ item }}</a>
                                                                </li>
                                                            </ul>
                                                            Selected: <b>{{ selected.item }}</b>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button class="btn btn-primary" ng-click="ok()">OK</button>
                                                            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
                                                        </div></script><button class="btn btn-primary btn-xs" ng-click="open('lg')">View/Edit Locations</button></div></div><div class="row mt20"><div class="col-sm-10">If the caller is more than: <input type="text" style="width:50px;display:inline;" class="form-control" value=""> miles from the nearest ring-to location, route calls to: <select style="width:auto;display:inline;" class="form-control" id="source"><option value="walnut">Walnut Creek Branch</option><option value="ocean">Ocean Gate Shop</option><option value="allstate">Allstate Store 37862</option><option value="parkside">Parkside Branch</option></select></div><div class="col-sm-2"><div class="checkbox"><label><input ng-model="filterCalls" icheck type="checkbox" value=""> Filter spam calls</label></div></div></div></div></div></div><div class="row col-md-offset-11"><button class="btn btn-default" ng-click="addUser()">Save</button></div></panel></div></div></div><div class="container-fluid" ng-controller="ActionsEditableController"><div class="row"><div class="col-md-12"><panel panel-class="panel-primary" data-heading="Call Actions"><div class="col-md-12"><ul class="timeline"><li class="timeline-midnightblue" ng-repeat="action in actions"><div class="timeline-icon"><i class="fa">{{ action.id }}</i></div><div class="timeline-body"><div class="timeline-header"><span class="date">{{ action.order }} Action</span></div><div class="timeline-content"><div class="row"><div class="col-sm-12"><h3 style="display:inline;">If</h3>{{ action.condition }}</div></div><div class="row mt20 mb20"><div class="col-sm-12"><h3 style="display:inline;">Then</h3>{{ action.status }} {{ action.dothis }}</div></div></div><div class="timeline-footer"><button class="btn btn-default" ng-click="addAction()">Add Step</button></div></div></li></ul></div><div class="row col-md-offset-11"><button class="btn btn-default" ng-click="addUser()">Save</button></div></panel></div></div></div></div></div></div>