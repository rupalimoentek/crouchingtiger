!function(){function a(b,c,d){c||(c=0);var e=a.resolve(b,c),f=a.m[c][e];if(!f)throw new Error('failed to require "'+b+'" from '+d);if(f.c&&(c=f.c,e=f.m,f=a.m[c][f.m],!f))throw new Error('failed to require "'+e+'" from '+c);return f.exports||(f.exports={},f.call(f.exports,f,f.exports,a.relative(e,c))),f.exports}a.resolve=function(b,c){var d=b,e=b+".js",f=b+"/index.js";return a.m[c][e]&&e?e:a.m[c][f]&&f?f:d},a.relative=function(b,c){return function(d){if("."!=d.charAt(0))return a(d,c,b);var e=b.split("/"),f=d.split("/");e.pop();for(var g=0;g<f.length;g++){var h=f[g];".."==h?e.pop():"."!=h&&e.push(h)}return a(e.join("/"),c,b)}},a.m=[],a.m[0]={radar_client:{exports:window.RadarClient},ember:{exports:window.Ember},handlebars:{exports:window.Handlebars},i18n:{exports:window.I18n},jquery:{exports:window.jQuery},underscore:{exports:window._},zd:{exports:window.Zendesk},"log.js":function(a,b,c){var d=c("support"),e=d.get,f=d.set,g=c("ember"),h=c("app_i18n"),i={},j=g.Mixin.create({init:function(){return f(this,"errorMessages",[]),this._super()},logError:function(a,b){var c=e(this,"hasErrors"),d=e(this,"errorMessages")||[],f=b.stack||b.message;d.pushObject(b.message),this.logToConsole(f),c?this._appendLatestErrors(a):this._appendNewError(a,b.message)},hasErrors:function(){return e(this,"errorMessages.length")>0}.property("errorMessages.length").cacheable(),latestErrors:function(){var a=e(this,"errorMessages")||[];return a.slice(0,4)}.property("errorMessages.length").cacheable(),logToConsole:function(a){"function"==typeof console.error?console.error(a):console.log(a)},_appendNewError:function(a,b){var c=a.$().find("header"),d=c.length?c.first():a.$(),e=h.t("txt.apps.error.javascript_exception");d.prepend('<span id="test" class="badge badge-warning app-warning-icon"><i class="icon-warning-sign"></i></span>'),d.find(".app-warning-icon").popover({content:b,placement:"left",title:e,trigger:"hover"})},_appendLatestErrors:function(a){var b=a.$().find(".app-warning-icon"),c=e(this,"latestErrors");b.attr("data-content",c.join("<br/>"))}});i.ErrorsMixin=j,a.exports=i},"app.js":function(a,b,c){function d(){var a,b=[];arguments.length&&(v.call(arguments,function(a){b.push(typeof a)}),a="%@: Argument(s) should be of type: [ %@ ]".fmt(this.name,b),Error.call(this,a),this.message=a)}function e(a){l.isFunction(console.warn)&&console.warn(a)}function f(a,b,c){var d=Handlebars.helpers;Handlebars.helpers=s,s.currentApp=b;var e=a.apply(b,c);return Handlebars.helpers=d,e}function g(a,b){var c=a.framework().Request,d={};return Object.keys(b).forEach(function(e){d[e]=new c(e,b[e],a)}),d}function h(a,b){null==a.processedRequests&&(a.processedRequests=g(a,a.requests));var c=a.processedRequests[b];return w("[App %@] No such request: %@".fmt(a.name,b),null!=c),c}function i(a){return n.detect(a.host)}function j(a){return!!a.$().length}function k(a){l.extend(this,a),this.adapters=[t],this.I18n=new r(this)}var l=c("jquery"),m=c("underscore"),n=(c("site"),c("app_container/bar")),o=c("support"),p=c("installed_app"),q=c("version"),r=c("app_i18n"),s=c("app_helpers"),t=c("lib/views/adapters/zd_menu"),u=Array.prototype.slice,v=Array.prototype.forEach,w=o.assert,x=o.runLater;l.extend(d.prototype,Error,{constructor:d,message:"Incorrect arguments provided",name:"ArgumentError"}),l.extend(k.prototype,{template:function(a){var b=this.templates[a];return w("[App %@] No such template: %@".fmt(this.name,a),null!=b),l.isFunction(b)||(b=Handlebars.compile(b),this.templates[a]=b),b},_isNoTemplate:function(){return m.isEmpty(this.templates)},setting:function(a){return"name"===a&&(a="title"),this.settings[a]},store:function(){var a=this.installation.dataStore;return a.store.apply(a,arguments)},installationId:function(){return this.installation.installation.id},assetURL:function(a){return"%@%@".fmt(this.assetUrlPrefix,a)},ajax:function(a){var b=h(this,a);return b.perform.apply(b,u.call(arguments,1))},framework:function(){return q.find(this.frameworkVersion)},promise:function(a){var b=l.Deferred();if("function"!=typeof a)throw new d(Function);return x(this,a,b.resolve,b.reject),b.promise()},when:function(){return l.when.apply(l,arguments)},trigger:function(a,b){var c=this,d=l.Event("%@.appview".fmt(a),b),e=function(a){try{a.$().trigger(d)}catch(b){c.host.logError(c,b)}};this.host.callWhenViewIsReady(this,e)},dependency:function(a){return this.deps[a]},launch:function(){},renderTemplate:function(a,b){var c=this._renderContext(b||{}),d=this.template(a);return f(d,this,[c])},renderCurrentState:function(){if(this.currentState){var a=this.renderTemplate(this.currentState,this.currentData);this.$main().html(a),this.applyViewAdapters()}},applyViewAdapters:function(){var a=this.$main();0!==this.adapters.length&&this.adapters.forEach(function(b){b(a)})},switchTo:function(a,b){this.currentState=a,this.currentData=b||{},(!i(this)||j(this))&&this.renderCurrentState()},$main:function(){var a=this.$("[data-main]");return w("[App %@] No DOM element marked as `main` (use a `data-main` attribute to indicate)",a.length),a},_renderContext:function(a){return l.extend({},{I18n:this.translations},this.containerContext(),{author:this.author},a)}}),k.install=function(a){p.push(this,a)},k.create=function(a){e("ZendeskApps.App.create is deprecated. Use new ZendeskApps.App");var b=this;return new b(a)},k.extend=function(a){function b(a){c.call(this,a)}var c=this;return b.reopen=function(a){return l.extend(this.prototype,a),this},b.reopenClass=function(a){return l.extend(this,a),this},b.reopen(new c(a)),b.reopenClass(this),b},a.exports=k},"i18n.js":function(a){var b=window.I18n,c={t:function(a,c,d){return"undefined"!=typeof b&&null!=b.translations[a]?b.t(a,c):d}};a.exports=c},"site.js":function(a){a.exports={NAV_BAR:"nav_bar",TICKET_SIDEBAR:"ticket_sidebar",NEW_TICKET_SIDEBAR:"new_ticket_sidebar",USER_SIDEBAR:"user_sidebar",TOP_BAR:"top_bar"}},"index.js":function(a,b,c){var d=c("jquery"),e=c("underscore"),f=(c("ember"),c("handlebars")),g=c("support").assert,h=window.require;g("jQuery is not available",null!=d),g("Underscore is not available",null!=e),g("Handlebars is not available",null!=f),e.each([Object.freeze,Object.keys,Function.prototype.bind,Array.prototype.forEach,Array.prototype.map,Array.prototype.reduce],function(a){try{a.call()}catch(b){g("Function is not available: "+b.message,e.isFunction(a))}});var i=c("installed_app"),j=c("app_scope"),k=c("app");h&&h.cache&&(h.cache["apps/framework/app_scope"]=j),a.exports={Reloader:c("reloader"),Store:c("storage"),Site:c("site"),AppScope:j,AppContainerHostView:c("app_container/host_view"),AppContainer:c("app_container/base"),BarAppContainer:c("app_container/bar"),TicketAppContainer:c("app_container/ticket"),UserAppContainer:c("app_container/user"),AppView:c("app_view/base"),DefaultAppViewClass:c("app_view/default"),InstalledApp:i,defineApp:k.extend.bind(k),installedAppsFor:i.forSite.bind(i)}},"closet.js":function(a){var b=function(a){return"SECURITY_ERR"===a||"SecurityError"===a},c=function(a){return a||!c.hasLocalStorage()?new c.NativeStore:new c.LocalStore};c.hasLocalStorage=function(){var a,c;try{return a=window.localStorage,null==a?!1:(a.setItem("__hasLocalStorage__","true"),c="true"===a.getItem("__hasLocalStorage__"),a.removeItem("hasLocalStorage"),c)}catch(d){if("QUOTA_EXCEEDED_ERR"===d.name||b(d.name))return!1;throw d}};var d,e,f=function(a,b){var c=[];b=new RegExp(b);for(var d in a)if(a.hasOwnProperty(d)){if(b&&!b.test(d))continue;c.push(d)}return c};c.NativeStore=function(){d={},e=function(){var a=0;for(var b in d)d.hasOwnProperty(b)&&(a+=1);this.length=a}},c.NativeStore.prototype={length:0,getItem:function(a){return"undefined"==typeof d[a]?null:d[a]},setItem:function(a,b){d[a]=b,e.call(this)},removeItem:function(a){delete d[a],e.call(this)},clear:function(){d={},e.call(this)},keys:function(a){return f(d,a)},storageType:function(){return"Native"}},c.LocalStore=function(){e=function(){this.length=window.localStorage.length}},c.LocalStore.prototype={length:0,getItem:function(a){try{return JSON.parse(window.localStorage.getItem(a))}catch(b){return null}},setItem:function(a,b){var c=window.localStorage.setItem(a,JSON.stringify(b));return e.call(this),c},removeItem:function(a){var b=window.localStorage.removeItem(a);return e.call(this),b},clear:function(){var a=window.localStorage.clear();return e.call(this),a},keys:function(a){return f(window.localStorage,a)},storageType:function(){return"LocalStorage"}},a.exports=c},"version.js":function(a,b,c){function d(a,b){$.extend(this,b,{versionNumber:a}),e[a]=this}var e={};d.prototype.toString=function(){return"Apps Framework Version %@".fmt(this.versionNumber)},d.find=function(a){return e[a]},new d("1.0",{Request:c("request")}),new d("0.5",{Request:c("0_5/request")}),a.exports=d},"helpers.js":function(a){var b=Array.prototype.slice,c=Function.prototype.call.bind(b);a.exports={fmt:function(a){return a.fmt.apply(a,c(arguments,1))},safeString:function(a){return new Handlebars.SafeString(a)}}},"support.js":function(a,b,c){function d(a,b,c,d){var e=b.split("."),g=e.pop();return e.forEach(function(b){a.hasOwnProperty(b)||d(a,b),a=a[b]}),f(a,g,c)}var e,f,g={},h=c("jquery"),i=c("underscore"),j=c("ember"),k=Array.prototype.slice,l=function(a,b){var c=function(){var c=this._super;this._super=a;var d=b.apply(this,arguments);return this._super=c,d};return c};j?(e=g.assert=j.assert||window.ember_assert,g.get=j.get,g.getPath=j.getPath,f=g.set=j.set,g.setPath=j.setPath,g.runLater=h.proxy(j.run.next,j.run)):(e=g.assert=function(a,b){if("function"==typeof b&&(b=b()!==!1),!b)throw new Error("assertion failed: "+a)},g.get=function(a,b){return e("You need to provide an object to `get`.",null!=a),e("You need to provide a key to `get`.",null!=b),-1!==b.indexOf(".")?g.getPath(a,b):a[b]},g.getPath=function(a,b){return e("You need to provide an object to `getPath`.",null!=a),e("You need to provide a path to `getPath`.",null!=b),b.split(".").reduce(function(a,b){return null==a?null:a[b]},a)},f=g.set=function(a,b,c){return e("You need to provide an object to `set`.",null!=a),e("You need to provide a key to `set`.",null!=b),-1!==b.indexOf(".")?g.setPath(a,b,c):a[b]=c,c},g.setPath=function(a,b,c){return e("You need to provide an object to `setPath`.",null!=a),e("You need to provide a path to `setPath`.",null!=b),d(a,b,c,function(a,b){e("Object in path %@ could not be found.".fmt(b),null!=a)})},g.runLater=function(a,b){var c=k.call(arguments);c.shift(),c.shift(),setTimeout(function(){b.apply(a,c)},1)}),g.setPath_p=function(a,b,c){return e("You need to provide an object to `setPath_p`.",null!=a),e("You need to provide a path to `setPath_p`.",null!=b),d(a,b,c,function(a,b){a[b]={}})},g.notifyPropertyChange=function(a){if(e("You need to provide an object to `notifyPropertyChange`",null!=a),i.isFunction(a.notifyPropertyChange)){var b=k.call(arguments,1);a.notifyPropertyChange.apply(a,b)}},g.extendSafely=function(a){if(arguments.length<2)return a;for(var b,c,d=k.call(arguments,1),e=0;e<d.length;e++){c=d[e],"function"==typeof c&&(c=c.prototype);for(b in c)c.hasOwnProperty(b)&&(a[b]="function"==typeof a[b]&&"function"==typeof c[b]?l(a[b],c[b]):c[b])}},a.exports=g},"request.js":function(a,b,c){function d(){return h(Zd,"currentUser.authenticity_token")}var e=c("jquery"),f=c("support"),g=f.runLater,h=f.get,i=Array.prototype.slice,j=function(a,b,c){this.name=a,this.options=b,this.app=c};j.prototype={_triggerEvent:function(a,b){this.app.trigger("%@.%@".fmt(this.name,a),{responseArgs:i.call(b)})},perform:function(){var a=this.options;e.isFunction(a)&&(a=a.apply(this.app,arguments)),this.useCors=e.support.cors&&h(a,"cors");var b=e.Deferred();return g(this,function(){this._addCallbacks(this._proxiedAJAX(this._addAuthenticityToken(a)),b)}),b.promise()},_addCallbacks:function(a,b){var c=this;a.fail(function(){c._triggerEvent("fail",arguments)}).done(function(){c._triggerEvent("done",arguments)}).always(function(){c._triggerEvent("always",arguments)}).fail(function(){b.rejectWith(c.app,arguments)}).done(function(){b.resolveWith(c.app,arguments)})},_addAuthenticityToken:function(a){var b=!this._urlShouldBeProxied(a.url,this.useCors)&&/^post|put|delete$/i.test(a.type);return b&&(a.data=a.data||{},a.data.authenticity_token=d()),a},_addCustomHeaders:function(a){var b=h(this,"app.installation.installation.id"),c=h(this,"app.installation.installation.app_id"),d=a.beforeSend;a.beforeSend=function(a,f){e.isFunction(d)&&d(a,f),a.setRequestHeader("X-Zendesk-App-Installation-Id",b),a.setRequestHeader("X-Zendesk-App-Id",c)}},_proxiedAJAX:function(a){return a.context=a.context||this.app,a.url=a.url||"",this._urlShouldBeProxied(a.url,this.useCors)?(this._addCustomHeaders(a),e.ajax(this._mungeOptionsForProxy(a))):e.ajax(a)},_mungeOptionsForProxy:function(a){var b,c=e.extend({},a),d=h(a,"oauth"),f="/proxy/to/%@",g=void 0===a.type||"GET"===a.type,i=a.url;return d&&(f="/apps/oauth/to/%@"),g&&a.data&&(b=i.indexOf("?")>0?"&":"?",i+=b+e.param(a.data)),c.url=f.fmt(encodeURIComponent(i)),c},_pageHost:function(){return window.location.host},_pageProtocol:function(){return window.location.protocol},_urlShouldBeProxied:function(a,b){if(b)return!1;var c,d=this.app,e=d.currentAccount()&&d.currentAccount().subdomain();if(e){var f=this._pageHost(),g=this._pageProtocol(),h=f.split(".")[0];c=h===e&&new RegExp("^%@\\/\\/%@\\/".fmt(g,f)).test(a)}return null!=a.match(/^https?:\/\//)&&!c}},a.exports=j},"storage.js":function(a,b,c){function d(a){this.id=a,this.closet=new e,this.hasExpired()&&this.clear()}var e=c("closet"),f=c("underscore"),g="install-%@.%@",h=30,i=function(a,b,c){return c?g.fmt(a+"-private",b):g.fmt(a,b)},j=function(a){return this.closet.getItem(a)},k=function(a,b){this.closet.setItem(a,b),this.closet.setItem(i(this.id,"timestamp",!0),new Date)};d.prototype.store=function(a,b){var c=i(this.id,a);return f.isString(a)&&1===arguments.length?j.call(this,c):(f.isObject(a)&&1===arguments.length?f.each(a,function(b,c){a.hasOwnProperty(c)&&this.store(c,b)},this):k.call(this,c,b),void 0)},d.prototype.hasExpired=function(){var a=i(this.id,"timestamp",!0),b=new Date(this.closet.getItem(a)),c=new Date;return b.setDate(b.getDate()+h),c>b&&"LocalStorage"===this.closet.storageType()},d.prototype.clear=function(){var a=new RegExp("install-"+this.id),b=this.closet.keys(a);f.each(b,function(a){this.closet.removeItem(a)},this)},a.exports=d},"app_i18n.js":function(a,b,c){function d(a){this.app=a}var e=c("jquery"),f=c("handlebars"),g=(c("ember"),c("support")),h=g.get,i=g.set;e.extend(d.prototype,{t:function(a,b){return this._template(a)(b)},_template:function(a){var b="app.translations.%@".fmt(a),c=h(this,b);return null==c&&(c="Missing translation: %@".fmt(a)),e.isFunction(c)||(c=f.compile(c),i(this,b,c)),c}}),a.exports=d},"reloader.js":function(a,b,c){var d=c("jquery"),e=d.queryParameters().zat,f="/api/v2/apps/installed.js",g=d.Callbacks("unique"),h=!1;e&&("true"===e?f="http://localhost:4567/app.js":e.match(/^http:\/\/localhost:\d+\/app.js$/)&&(f=e));var i={reload:function(a){a&&g.add(a),h||(h=!0,d.getScript(f).done(g.fire.bind(g)).always(function(){g.empty(),h=!1}))}};a.exports=i},"helpers/t.js":function(a,b,c){var d=c("app_helpers");a.exports=function(){return function(a,b){return d.currentApp.I18n.t(a,b.hash)}}},"app_scope.js":function(a,b,c){var d=c("jquery"),e=c("wrappers/ticket_field"),f=c("wrappers/ticket_type"),g=c("wrappers/ticket_priority"),h=c("wrappers/ticket_status"),i=c("core_services"),j=c("helpers");a.exports={require:void 0,undefined:void 0,document:void 0,window:void 0,jQuery:void 0,$:void 0,Ember:void 0,Em:void 0,Zendesk:void 0,Zd:void 0,JSON:{parse:d.proxy(JSON.parse,JSON),stringify:d.proxy(JSON.stringify,JSON)},TicketField:Object.freeze(e),TicketType:Object.freeze(f),TicketPriority:Object.freeze(g),TicketStatus:Object.freeze(h),services:Object.freeze(i),helpers:Object.freeze(j)}},"events/dom.js":function(a,b,c){function d(){}var e=(c("jquery"),c("support")),f=c("events/event"),g=e.extendSafely,h=e.get,i=function(a,b,c){return function(){return b&&b!==h(a,"currentState")?void 0:c.apply(a,arguments)}};g(d.prototype,f,{_wrapHandler:function(){return i(this.app,this.descriptor.state,this.handler)},init:function(a,b,c,d){this._super.apply(this,arguments),this.bind(d)},bind:function(a){var b=this.descriptor,c=b.name.replace(/\S+\b/g,function(a){return a+".appview"}),d=b.selector,e=this._wrappedHandler;""===d||a.$().is(d)&&!a.$(d).length?a.$().on(c,e):a.$().on(c,d,e)}}),a.exports=d},"events/hook.js":function(a,b,c){function d(){}var e=c("jquery"),f=c("events/event"),g=c("support"),h=g.extendSafely,i=(g.runLater,g.get);h(d.prototype,f,{run:function(){var a=this.app,b=this._wrappedHandler();if(b&&"function"==typeof b.then){var c=e.Deferred();return b.then(c.resolve.bind(c),function(b){c.reject({message:b,title:a.setting("title")})}),c}var d=e.Deferred(),f=b===!1||"string"==typeof b;return e.when(f?d.reject({message:b,title:a.setting("title")}):d.resolve())},init:function(){this._super.apply(this,arguments),i(this.app,"host.hooks").pushObject(this)},_wrapHandler:function(){return function(){return this.handler.call(this.app)}.bind(this)}}),a.exports=d},"0_5/request.js":function(a,b,c){function d(a,b,c){f.call(this,a,b,c)}var e=c("jquery"),f=c("request");d.prototype=new f,d.prototype._mungeOptionsForProxy=function(a){var b=e.extend({},a),c=a.url;if(a.proxy_v2){var d,f=void 0===a.type||"GET"===a.type;f&&a.data&&(d=c.indexOf("?")>0?"&":"?",c+=d+e.param(a.data)),b.url="/proxy/to/%@".fmt(encodeURIComponent(c))}else{var g="POST"===a.type||"PUT"===a.type,h=a.dataType,i="/proxy/direct?url=%@&timeout=10";null!=h&&"json"===h.toLowerCase()?(g&&(b.data="body=%@".fmt(encodeURIComponent(JSON.stringify(a.data))),b.processData=!1),i+="&contenttype=application/json"):g&&null!=h&&"xml"===h.toLowerCase()&&(b.data="body=%@".fmt(encodeURIComponent(a.data)),b.processData=!1),b.url=i.fmt(encodeURIComponent(c))}return b},a.exports=d},"app_helpers.js":function(a,b,c){function d(a){var b;try{b=c("helpers/%@".fmt(a.underscore()))()}catch(d){b=null}return b}var e=c("jquery"),f=c("handlebars"),g=e.extend({},f.helpers,{currentApp:null,t:null}),h=Array.prototype.slice,i=g.helperMissing;g.helperMissing=function(a){var b=d(a);return b?(g[a]=b,b.apply(this,h.call(arguments,1))):i.apply(this,arguments)},["assetURL","setting","store"].forEach(function(a){g[a]=function(b){return g.currentApp[a](b)}}),a.exports=g},"events/event.js":function(a,b,c){function d(){}var e=(c("jquery"),c("ember")),f=c("support").get,g=/^%([a-zA-Z0-9]+)$/,h=/^([a-zA-Z(\*\.)](?:[a-zA-Z0-9\._,\-]+))\s*(.*)$/,i=function(a){var b,c={},d=a.match(h);return c.name=d[1].replace(/,/g," "),b=d[2],d=b.match(g),d?c.state=d[1]:c.selector=b,c},j=function(a,b){if("function"===e.typeOf(a))return a;var c=a.match(g);return c?function(){b.switchTo(c[1])}:f(b,a)};d.prototype={_initialised:!1,init:function(a,b,c){if(!this._initialised){this._initialised=!0,this.app=a;var d=b.match(/custom_field_(\{\{(.+)\}\})/);d&&a.settings[d[2]]&&(b=b.replace(d[1],a.settings[d[2]])),this.descriptor=i(b),this.handler=j(c,a),this._wrappedHandler=this._wrapHandler()}},destroy:function(){this._initialised=!1,this.app=null,this.handler=null,this._wrappedHandler=null},_wrapHandler:function(){return this.handler}},a.exports=d},"app_view/base.js":function(a,b,c){var d=c("ember"),e=c("support"),f=c("events/event_factory"),g=e.get,h=e.set,i=d.Mixin.create({canvas:function(){return g(this,"element")}.property("element").cacheable(),didInsertElement:function(){return this.bindEvents(this),this.switchToDefaultState(),this._super.apply(this,arguments)},bindEvents:function(a){var b,c=g(this,"app"),d=g(this,"app.events")||{},e=[];for(b in d)d.hasOwnProperty(b)&&e.push(f.eventFor(c,b,d[b],a));h(this,"app.processedEvents",e)},switchToDefaultState:function(){var a=g(this,"app"),b=g(this,"app.defaultState");b&&a.switchTo(b)}});a.exports=i},"installed_app.js":function(a,b,c){function d(a,b){this.appClass=a,this.installation=b,this.settings=b.settings,this.site=this.appClass.location,this.active=!0,this.dataStore=new g(b.id),this.updated=b.updated}var d,e=c("jquery"),f=c("support"),g=c("storage"),h=(f.get,f.set,[]);d.prototype={exit:function(){this.active=!1}},d.forSite=function(a){return h.filter(function(b){return b.active?e.isArray(b.site)?-1!==e.inArray(a,b.site):b.site===a:!1})},d.push=function(a,b){var c,e=new d(a,b),f=h.length;for(c=0;f>c;c++)if(h[c].installation.id===e.installation.id)return h[c]=e,void 0;h.push(e)},d.clear=function(){h=[]},a.exports=d},"core_services.js":function(a,b,c){var d=c("jquery"),e=c("wrappers/apps_tray"),f=c("support").get;a.exports={appsTray:function(){var a=f(Zendesk,"appsController");return new e(a)},notify:function(a,b){b=b||"notice",d.jGrowl(a,{themeState:b,life:4e3})}}},"events/request.js":function(a,b,c){function d(){}var e=(c("jquery"),c("events/dom")),f=c("support"),g=f.extendSafely;g(d.prototype,e,{_wrapHandler:function(){var a=this.app,b=this._super();return function(c){b.apply(a,c.responseArgs)}}}),a.exports=d},"helpers/zd_menu.js":function(a,b,c){function d(a){return h[a]?a:"select"}var e=c("jquery"),f=c("handlebars"),g=c("templates/zd_menu.hdbs"),h={select:!0,combo_select:!0,search:!1};a.exports=function(){return function(a,b){var c=d(b.hash.type),h=e.extend({},b,{options:a,type:c});return new f.SafeString(g(h))}}},"helpers/spinner.js":function(a,b,c){var d=c("underscore"),e=c("handlebars");a.exports=function(){return function(a){return d.isObject(a)&&(a="dotted"),new e.SafeString('<div class="spinner %@"></div>'.fmt(a))}}},"app_view/default.js":function(a,b,c){var d=c("ember"),e=c("underscore"),f=c("app_view/base"),g=c("support").get,h=d.View.extend(f,{render:function(a){var b=g(this,"app");e.isEmpty(b.templates)||a.push(b.renderTemplate("layout"))}}).reopenClass({preservesContext:!0});a.exports=h},"app_container/bar.js":function(a,b,c){var d=c("jquery"),e=c("ember"),f=c("app_container/base"),g=c("support"),h=(g.get,g.runLater);a.exports=e.Mixin.create(f,{activeAppView:null,activateAppView:function(a,b){this.deactivateAppView(),a.get("app").trigger("pane.activated",b),this.set("activeAppView",a)},deactivateAppView:function(){var a=this.get("activeAppView");a&&(a.get("app").trigger("pane.deactivated"),this.set("activeAppView",null))},didInsertElement:function(){return h(this,function(){this.didActivate()}),this._super.apply(this,arguments)},removeApps:function(){this.deactivateAppView(),this._super()},willDestroyElement:function(){this.didDeactivate()},containerMethods:function(){var a=this;return d.extend({},this._super(),{setIconState:function(b,c){b&&c&&a.getAppView(this).setIconState(b,c)}})}})},"app_container/user.js":function(a,b,c){var d=c("jquery"),e=c("ember"),f=c("support"),g=f.get,h=c("site").USER_SIDEBAR,i=c("app_container/sidebar"),j=c("wrappers/user_wrapper"),k=(c("wrappers/group_wrapper"),c("wrappers/user_field_wrapper")),l=e.Mixin.create(i,{site:h,_user:function(){var a=g(this,"user");return a?new j(a):null}.property("user").cacheable(),_userFields:function(){return(g(this,"userFieldViews")||[]).filterProperty("isDestroyed",!1).map(function(a){return new k(a)})}.property("userFieldViews.@each.isDestroyed").cacheable(),containerMethods:function(){var a=this;return d.extend({},this._super(),{user:function(){return g(a,"_user")},groups:function(){return g(a,"_user").groups()},userFields:function(b){return void 0!==b?g(a,"_userFields").find(function(a){return a.name()===b}):g(a,"_userFields")}})},init:function(){this._super(),this.appContext=this.containerMethods()},eventPaths:{"user.name":"user.name","user.role":"user.role"}});a.exports=l},"wrappers/apps_tray.js":function(a,b,c){c("support").get;var d=function(a){this.hide=function(){return a.hideApps(),this},this.isVisible=function(){return a.get("isActive")},this.show=function(){return a.showApps(),this},Object.freeze(this)};a.exports=d},"app_container/base.js":function(a,b,c){function d(a){return a.forEach(function(a){"object"===Em.typeOf(a)&&f.keys(a).forEach(function(b){null!=a[b].call&&(a[b]=a[b].call(b))})}),a}var e=c("jquery"),f=c("underscore"),g=c("zd"),h=c("support"),i=(c("helpers"),h.get),j=h.set,k=h.setPath_p,l=h.runLater,m=c("wrappers/account_wrapper"),n=c("wrappers/user_wrapper"),o=c("log").ErrorsMixin,p=c("lib/views/deferred_activation_view_mixin"),q=c("running_apps_manager"),r=c("app_view/default");c("installed_app"),c("reloader"),a.exports=Em.Mixin.create(p,o,{isActive:!1,site:Em.required(),appsController:null,appsManager:null,appViewClass:r,init:function(){return j(this,"appsManager",new q(this)),j(this,"context",{}),j(this,"eventContext",{}),j(this,"hooks",[]),this._super()},runHooksFor:function(a){var b=i(this,"hooks").slice();return a&&(b=b.filter(function(b){return i(b,"descriptor.name")===a})),e.when.apply(e,b.map(function(a){return a.run()}))},_didActivate:function(){i(this,"appsLoaded")?i(this,"appsManager").notifyApps("app.activated",{firstLoad:!1}):(i(this,"appsManager").launchApps(),this.addEmptyViewIfNoVisibleApps(),j(this,"appsLoaded",!0)),j(this,"isActive",!0)},didDeactivate:function(){i(this,"isActive")&&(i(this,"appsManager").notifyApps("app.deactivated"),this.resetActivationState(),j(this,"isActive",!1))},removeApps:function(){this.didDeactivate(),i(this,"appsManager").removeApps(),j(this,"eventContext",{}),this.removeEmptyView(),j(this,"appsLoaded",!1),j(this,"hooks",[])},reloadApps:function(){var a=i(this,"isActive");this.removeApps(),i(this,"appsManager").reloadAllApps(function(){a&&this.didActivate()}.bind(this))},willDestroy:function(){i(this,"appsManager").destroy(),this._super.apply(this,arguments)},didInsertElement:function(){return this._setupObservers(),this.updateContainerContext(),this._super.apply(this,arguments)},addEmptyViewIfNoVisibleApps:function(){if(!i(this,"appsManager").hasVisibleApps()){var a=i(this,"emptyViewClass");if(null!=a){var b=this.createChildView(a.create());i(this,"childViews").pushObject(b)}}},removeEmptyView:function(){var a,b=i(this,"emptyViewClass");b&&(a=i(this,"childViews").find(function(a){return b.detectInstance(a)}),a&&a.destroy())},createViewForApp:function(a){var b=this.createAppView(a);return j(b,"app",a),a.$=function(a){var c=i(b,"canvas");return c&&a?Em.$(a,c):Em.$(c)},i(this,"childViews").pushObject(b),b},createAppView:function(a){var b=i(this,"appViewClass"),c="apps_"+i(this,"site"),d=a._renderContext({classNames:[i(a,"appClassName"),c,"app_view"],events:i(a,"events")});return a._isNoTemplate()&&d.classNames.push("hidden"),this.createChildView(b,d)},getAppView:function(a){var b=i(this,"appsManager").find(a);if(b)return b.view},_getAppTarget:function(a){if(a){var b=i(a,"target");return b?b:a}},callWhenViewIsReady:function(a,b){if("inDOM"===this.get("state")){var c=this.getAppView(a),d=this._getAppTarget(c);if(d)return"inDOM"!==i(d,"state")?(l(this,"callWhenViewIsReady",a,b),void 0):(b(c),void 0)}},_currentAccount:function(){return i(this,"currentAccount")?new m(i(this,"currentAccount")):null}.property("currentAccount").cacheable(),_currentUser:function(){return i(this,"currentUser")?new n(i(this,"currentUser")):null}.property("currentUser").cacheable(),addContainerMethods:function(a){e.extend(a,this.containerMethods())},containerMethods:function(){var a=this;return{currentAccount:function(){return i(a,"_currentAccount")},currentUser:function(){return i(a,"_currentUser")},containerContext:function(){return a.updateContainerContext(),a.context},currentLocation:function(){return i(a,"site")}}},updateContainerContext:function(){for(var a in this.eventPaths)this.eventPaths.hasOwnProperty(a)&&k(this.context,a,this.valueForPath(a))},valueForPath:function(a){var b=this.appContext;return a.split(".").forEach(function(a){b&&(b=a.match(/^custom_field_/)?b.customField(a):b[a].call(a))}),Em.isArray(b)&&(b=d(b)),b},_setupObservers:function(){var a,b=this,c={},d=this.eventPaths||{};Object.keys(d).forEach(function(d){e.makeArray(b.eventPaths[d]).forEach(function(e){a=b._makeObserver(d,e),c[e]=a,Em.addObserver(b,e,a),a()})}),j(this,"dependencyObservers",c)},_makeObserver:function(a){var b=this;return function(){Em.run.once(function(){if(0!==i(b,"appsManager").length()){var c,d;c=i(b.eventContext,a),d=b.valueForPath(a),b._isEqual(c,d)||(k(b.eventContext,a,d),i(b,"appsManager").notifyApps("%@.changed".fmt(a),d),i(b,"appsManager").notifyApps("*.changed",{propertyName:a,newValue:d}))}})}},_isEqual:function(a,b){return Em.isArray(a)&&Em.isArray(b)?0===e(a).not(b).length&&0===e(b).not(a).length:a==b},destroy:function(){var a,b=i(this,"dependencyObservers");for(a in b)Em.removeObserver(this,a,b[a]);return this._super.apply(this,arguments)},goToPath:function(a){g.Routes.setLocation("#/%@".fmt(encodeURI(a)))}})},"templates/zd_menu.hdbs":function(a,b,c){var d=c("handlebars");a.exports=d.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+="\n  <option",d=c.id||a.id,e=c["if"],j=l.program(2,g,b),j.hash={},j.fn=j,j.inverse=l.noop,d=e.call(a,d,j),(d||0===d)&&(f+=d),d=c.value||a.value,e=c["if"],j=l.program(4,h,b),j.hash={},j.fn=j,j.inverse=l.noop,d=e.call(a,d,j),(d||0===d)&&(f+=d),f+=">",d=c.label||a.label,typeof d===m?d=d.call(a,{hash:{}}):d===o&&(d=n.call(a,"label",{hash:{}})),f+=p(d)+"</option>\n"}function g(a){var b,d="";return d+=' id="',b=c.id||a.id,typeof b===m?b=b.call(a,{hash:{}}):b===o&&(b=n.call(a,"id",{hash:{}})),d+=p(b)+'"'}function h(a){var b,d="";return d+=' value="',b=c.value||a.value,typeof b===m?b=b.call(a,{hash:{}}):b===o&&(b=n.call(a,"value",{hash:{}})),d+=p(b)+'"'}c=c||a.helpers;var i,j,k="",l=this,m="function",n=c.helperMissing,o=void 0,p=this.escapeExpression,q=c.blockHelperMissing;return k+='<select data-zd-type="',i=c.type||b.type,typeof i===m?i=i.call(b,{hash:{}}):i===o&&(i=n.call(b,"type",{hash:{}})),k+=p(i)+'_menu">\n',i=c.options||b.options,j=l.program(1,f,e),j.hash={},j.fn=j,j.inverse=l.noop,i=typeof i===m?i.call(b,j):q.call(b,i,j),(i||0===i)&&(k+=i),k+="\n</select>\n"})},"events/notification.js":function(a,b,c){function d(){}var e=c("events/event"),f=c("notification_manager"),g=c("support").extendSafely;c("support").get,g(d.prototype,e,{init:function(a,b){this._super.apply(this,arguments),this._descriptorHandler=function(a){b.slice(b.indexOf(".")+1)===a.key&&this._wrappedHandler(a.value)}.bind(this),f.subscribe(a,this._descriptorHandler)},destroy:function(){f.unsubscribe(this.app,this._descriptorHandler),this._descriptorHandler=null,this._super()},_wrapHandler:function(){var a,b=this.app,c=this._super();return function(d){try{a=JSON.parse(d)}catch(e){a=d}c.apply(b,[a])}}}),a.exports=d},"events/event_factory.js":function(a,b,c){var d=c("underscore"),e=c("events/event"),f=c("events/dom"),g=c("events/request"),h=c("events/notification"),i=c("events/hook"),j={TICKET_SAVE:"ticket.save",is:function(a){return d.contains(d.values(this),a)}},k={dom:f,request:g,hook:i,notification:h},l=function(a){var b="dom";return j.is(a)&&(b="hook"),/\.(done|always|fail)$/.test(a)&&(b="request"),/^notification\./.test(a)&&(b="notification"),b};a.exports=Object.seal({eventFor:function(a,b){var c,d=l(b),f=k[d]||e;return c=new f,c.init.apply(c,arguments),c}})},"running_apps_manager.js":function(a,b,c){function d(a){this.app=new a.appClass({}),this.installation=a}function e(a){this.host=a,k(a,"appsController").addObject(this),l(this,"_runningApps",[])}var f=c("underscore"),g=c("installed_app"),h=c("reloader"),i=c("support"),j=c("helpers"),k=i.get,l=i.set;d.prototype={bootApp:function(a){var b=this.app,c=this.installation;b.helpers=j,b.installation=c,b.settings=c.settings,b.host=a.host,b.host.addContainerMethods(b),this.view=b.host.createViewForApp(b),b.trigger("app.activated",{firstLoad:!0}),b.launch(a,c.settings)},destroyEvents:function(){if(f.isArray(this.app.processedEvents)){var a=this.app.processedEvents.slice();this.app.processedEvents.clear(),f.invoke(a,"destroy")}},exit:function(){if(this.view){this.app.trigger("app.willDestroy"),this.destroyEvents();var a=k(this.view,"target");a&&a.destroy(),this.view.destroy()}}},e.prototype={length:function(){return k(this,"_runningApps").length||0
},appInstallations:function(){var a=k(this.host,"site");return g.forSite(a)},launchApps:function(){this.appInstallations().forEach(function(a){a.active&&this._launchApp(a)},this)},_launchApp:function(a){var b=new d(a);k(this,"_runningApps").pushObject(b),b.bootApp(this)},hasVisibleApps:function(){return f(k(this,"_runningApps")).any(function(a){return!a.app._isNoTemplate()})},find:function(a){return k(this,"_runningApps").find(function(b){return b.app===a})},notifyApps:function(a,b){k(this,"_runningApps").forEach(function(c){c.app.trigger(a,b)})},reloadAllApps:function(a){g.clear(),h.reload(a)},removeApps:function(){var a=k(this,"_runningApps");a.forEach(function(a){a.exit()}),a.clear()},destroy:function(){k(this.host,"appsController").removeObject(this)}},a.exports=e},"app_container/ticket.js":function(a,b,c){var d=c("jquery"),e=c("ember"),f=c("underscore"),g=c("support"),h=g.get,i=c("site").TICKET_SIDEBAR,j=c("app_container/sidebar"),k=c("wrappers/comment_wrapper"),l=c("wrappers/ticket_wrapper"),m=c("wrappers/ticket_field_wrapper"),n=e.Mixin.create(j,{init:function(){this._super(),this.deps={},this.appContext=this.containerMethods()},site:i,_comment:function(){return h(this,"ticket")&&h(this,"ticketController")?new k(h(this,"ticket"),h(this,"ticketController")):null}.property("ticket","ticketController").cacheable(),_ticket:function(){return h(this,"ticket")?new l(h(this,"ticket"),h(this,"ticketController"),h(this,"ticketFields"),h(this,"agreements")):null}.property("ticket","ticketController","ticketFields","agreements").cacheable(),_ticketFields:function(){return this.get("ticketFieldViews").filter(function(a){return!a.get("isDestroyed")}).map(function(a){return new m(a)})}.property("ticketFieldViews.@each.isDestroyed").cacheable(),eventPaths:{"comment.text":"workspace.ticket.comment.body","ticket.assignee.user.email":"workspace.ticket.assignee.email","ticket.assignee.user.externalId":"workspace.ticket.assignee.external_id","ticket.assignee.user.name":"workspace.ticket.assignee.name","ticket.assignee.user.id":"workspace.ticket.assignee.id","ticket.assignee.group.name":"workspace.ticket.group.name","ticket.collaborators":"workspace.ticket.collaborators.@each","ticket.description":"workspace.ticket.description","ticket.form.id":"workspace.ticketController.currentTicketFormId","ticket.requester.email":"workspace.ticket.requester.email","ticket.requester.externalId":"workspace.ticket.requester.external_id","ticket.requester.name":"workspace.ticket.requester.name","ticket.requester.id":"workspace.ticket.requester.id","ticket.sharedWith":["workspace.ticket.agreementIdToShare","workspace.ticket.related.shared.@each"],"ticket.status":"workspace.ticket.status_id","ticket.tags":"workspace.ticket.tags.@each"},supportedEvents:{"ticket.assignee.group.id":{attributeName:"group_id",path:"workspace.ticket.group.id"},"ticket.priority":{attributeName:"priority_id",path:"workspace.ticket.priority_id"},"ticket.subject":{attributeName:"subject",path:"workspace.ticket.subject"},"ticket.type":{attributeName:"ticket_type_id",path:"workspace.ticket.ticket_type_id"}},containerMethods:function(){var a=this;return d.extend({},this._super(),{comment:function(){return h(a,"_comment")},ticket:function(){return h(a,"_ticket")},ticketFields:function(b){return void 0!==b?h(a,"_ticketFields").find(function(a){return a.name()===b}):h(a,"_ticketFields")},disableSave:function(){var b=h(a,"ticketController");b&&b.set("submitButtonDisabled",!0)},enableSave:function(){var b=h(a,"ticketController");b&&b.set("submitButtonDisabled",!1)}})},didInsertElement:function(){return this._setupCustomFieldPaths(),this._setupEventPaths(),this._super.apply(this,arguments)},_setupEventPaths:function(){var a=this,b=h(this,"supportedEvents"),c=h(this,"ticketFields");f.each(b,function(b,d){c&&c.findProperty("attributeName",b.attributeName)&&(h(a,"eventPaths")[d]=b.path)})},_setupCustomFieldPaths:function(){var a=h(this,"ticketFields")||[];a.filter(function(a){return/^custom_field_/.test(h(a,"attributeName"))}).forEach(function(a){var b=h(a,"attributeName"),c=h(this,"eventPaths"),d="ticket.%@".fmt(b),e="workspace.%@".fmt(d);c[d]=e},this)}});a.exports=n},"wrappers/ticket_type.js":function(a){a.exports={0:"ticket",1:"question",2:"incident",3:"problem",4:"task",TICKET:0,QUESTION:1,INCIDENT:2,PROBLEM:3,TASK:4}},"notification_manager.js":function(a,b,c){function d(a){this._key=a,this._length=0}var e=c("underscore"),f=c("jquery"),g=c("radar_client"),h=c("support").get,i="apps_notifications";e.extend(d.prototype,{_key:null,_callbacks:null,_length:null,_scope:null,addCallback:function(a){var b=0===this.length();return this._callbacks||(this._callbacks=f.Callbacks()),this._callbacks.has(a)?!1:(this._callbacks.add(a),this._length++,b&&this.on(),!0)},removeCallback:function(a){return this._callbacks.has(a)?(this._callbacks.remove(a)&&(this._length--,this.length()||this.off()),!0):!1},removeAllCallbacks:function(){this._callbacks.empty(),this._length=0},length:function(){return this._length||0},on:function(a){this._getScope().done(function(b){b.subscribe(a)})},off:function(a){this._getScope().done(function(b){b.unsubscribe(a)})},_getScope:function(){var a=f.Deferred();return this._scope?a.resolveWith(this,[this._scope]):g.alloc(i,function(){this._scope=g.status(this._key),this._scope.on(this._eventEmitted.bind(this)),a.resolveWith(this,[this._scope])}.bind(this)),a.promise()},_eventEmitted:function(a){this._callbacks.fire(a)}}),a.exports=Object.seal({_scopeWrappers:{},_getWrapper:function(a){return this._scopeWrappers[a]||(this._scopeWrappers[a]=new d(a))},subscribe:function(a,b){var c="%@/%@".fmt(i,h(a,"installation.installation.app_id"));this._getWrapper(c).addCallback(b),this._getWrapper("%@/%@".fmt(c,a.currentUser().id())).addCallback(b)},unsubscribe:function(a,b){var c="%@/%@".fmt(i,h(a,"installation.installation.app_id"));this._getWrapper(c).removeCallback(b),this._getWrapper("%@/%@".fmt(c,a.currentUser().id())).removeCallback(b)}})},"wrappers/ticket_field.js":function(a){a.exports={PRIORITY:"priority",STATUS:"status",TYPE:"type"}},"app_container/sidebar.js":function(a,b,c){var d=c("jquery"),e=c("app_container/base"),f=c("app_container/host_view"),g=c("support"),h=g.get,i=g.runLater,j=Em.Mixin.create(e,{isAvailable:function(){return h(this,"workspace.active")&&h(this,"parentView.isVisible")}.property("workspace.active","parentView.isVisible").cacheable(),didInsertElement:function(){return this.registerWithContainerHost(),this.didSwitchContainer(),this._super.apply(this,arguments)},switchContainer:function(){if(h(this,"isAvailable")){if(h(this,"isActive"))return;i(this,function(){this.didActivate()})}else this.didDeactivate()},didSwitchContainer:function(){Em.run.once(this,this.switchContainer)}.observes("isAvailable"),readyToActivate:function(){return d.when(this._super(),h(this,"containerHostView").fetchedPromise())},registerWithContainerHost:function(){var a=h(this,"containerHostView");a&&a.registerAppContainer(this)},containerHostView:function(){for(var a=Em.get,b=this;b;){if(f.detect(b))return b;b=a(b,"parentView")}}.property().volatile(),willDestroy:function(){var a=h(this,"containerHostView");a&&a.unregisterAppContainer(this),this._super.apply(this,arguments)}});a.exports=j},"wrappers/user_wrapper.js":function(a,b,c){function d(a){this.id=j(a,"id"),this.email=j(a,"email"),this.name=j(a,"name"),this.role=j(a,"getRole"),this.externalId=function(b){return void 0!==b?(k(Zd.User,h(a,"id"),function(){i(a,"external_id",b),a.save().done(e.proxy(a.fetch,a))}),this):h(a,"external_id")},this.groups=function(){var b=h(a,"groups");return b?b.map(function(a){return new g(a)}):null}}var e=c("jquery"),f=c("support"),g=c("wrappers/group_wrapper"),h=f.get,i=f.set,j=c("wrappers/build_getter"),k=c("wrappers/fetch_and_execute");a.exports=d},"wrappers/build_getter.js":function(a,b,c){function d(a,b){return function(c){if(void 0!==c)throw new Error(g);return f(a,b)}}var e=c("i18n").t,f=c("support").get,g=e("txt.apps.error.field_getter_only",null,"This method is not a setter!");d.GETTER_ONLY_ERROR=g,a.exports=d},"wrappers/group_wrapper.js":function(a,b,c){var d=c("support"),e=(d.get,c("wrappers/build_getter"));a.exports=function(a){this.id=e(a,"id"),this.name=e(a,"name")}},"wrappers/ticket_status.js":function(a){a.exports={0:"new",1:"open",2:"pending",3:"solved",4:"closed",5:"deleted",6:"hold",NEW:0,OPEN:1,PENDING:2,SOLVED:3,CLOSED:4,DELETED:5,HOLD:6}},"app_container/host_view.js":function(a,b,c){var d=c("jquery"),e=c("support"),f=e.get,g=e.set,h=Em.Mixin.create({init:function(){var a=d.Deferred();return this.fetchedPromise=function(){return a.promise()},this.resolveFetched=function(){a.resolve()},this.resetFetched=function(){a=d.Deferred()},g(this,"appContainers",[]),this._super()},didChangeWorkspace:function(){this.resetFetched(),f(this,"workspace").on("@workspace:fetched",this,function(){this.resolveFetched()})}.observes("workspace"),unregisterAppContainer:function(a){f(this,"appContainers").removeObject(a)},registerAppContainer:function(a){f(this,"appContainers").pushObject(a)},reset:function(){"pending"!==this.fetchedPromise().state()&&this.resetFetched()}});a.exports=h},"wrappers/ticket_wrapper.js":function(a,b,c){function d(a,b,c,d){var h=d,s=a,t=c,u=function(a,b){var c=t.find(function(b){return a===i(b,"attributeName")});if(void 0!==c)return void 0!==b?(g.isNumber(b)&&!c.mapValueToString(b)&&(b=void 0),g.isString(b)&&(b=c.mapStringToValue(b)),void 0!==b&&j(s,a,b),this):(b=i(s,a),void 0===b&&/^custom_field_\d+/.test(a)&&i(s,"isFetched")&&(b=null),c.mapValueToString(b))},v=function(a,b){return f.extend(b.map(function(a){return new p(a)}),{add:function(b){b=b||{};var c=i(s,"collaborators"),d=b.email,f=b.id;if(void 0!==d&&d.toString().match(/.+@.+\..+/)){var g=c.find(function(a){return d===i(a,"email")});g||c.pushObject(e.User.create({email:d,name:d}))}else if(void 0!==f){var h=c.find(function(a){return f===i(a,"id")});h||l(e.User,f,function(a){c.pushObject(a)})}return a.collaborators()},remove:function(b){b=b||{};var c=i(s,"collaborators"),d=b.email,e=b.id;if(void 0!==d){var f=c.find(function(a){return d===i(a,"email")});f&&c.removeObject(f)}else if(void 0!==e){var g=c.find(function(a){return e===i(a,"id")});g&&c.removeObject(g)}return a.collaborators()}})},w=function(a,b){return f.extend(b,{add:function(b){if(void 0!==b){var c=f.makeArray(b).filter(function(a){return g.isString(a)});a.tags(a.tags().concat(c))}return a.tags()},remove:function(b){if(void 0!==b){var c=f.makeArray(b).filter(function(a){return g.isString(a)});c.forEach(function(a){i(s,"tags").removeObject(a)})}return a.tags()}})},x={assignee:function(a){a=a||{};var b=i(e,"Group"),c=a.groupId,d=a.userId;return void 0!==c&&l(b,c,function(a){j(s,"assignee",null),j(s,"group",a)}),void 0!==d&&l(e.User,d,function(a){if(!i(a,"isAgent"))throw"User '%@' is not an agent!".fmt(i(a,"name"));j(s,"assignee",a)}),{group:function(){return i(s,"group.id")?(b.create({id:i(s,"group.id")}).fetch(),new n(i(s,"group"))):void 0},user:function(){return i(s,"assignee.id")?(e.User.create({id:i(s,"assignee.id")}).fetch(),new p(i(s,"assignee"))):void 0}}},collaborators:function(a){if(void 0!==a)throw"This method is not a setter!";return v(this,i(s,"collaborators").toArray().copy())},customField:u,description:k(s,"description"),id:k(s,"id"),priority:function(a){return u("priority_id",a)},requester:function(a){a=a||{};var b=a.email,c=a.id;if(void 0!==b){var d=a.name?a.name:b.replace(/@.*$/,"");j(s,"requester",e.User.create({email:b,name:d}))}else void 0!==c&&l(e.User,c,function(a){j(s,"requester",a)});return i(s,"requester.id")||i(s,"requester.email")?new p(i(s,"requester")):void 0},sharedWith:function(a){var b=i(s,"related.shared.firstObject");if(void 0!==a){if(a=f.makeArray(a),1!==a.length)throw new Error(q);if(null!=b)throw new Error(r);var c=a[0]&&a[0].id;void 0!==c&&j(s,"agreementIdToShare",c)}var d=i(s,"agreementIdToShare"),e=d?h.find(function(a){return i(a,"id")==d}):b;return e?[new m(e)]:null},sharingAgreementOptions:function(a){return 0===arguments.length?i(s,"sharingAgreementOptions"):(j(s,"sharingAgreementOptions",a),this)},status:function(a){return u("status_id",a)},subject:function(a){return u("subject",a)},tags:function(a){if(void 0!==a){var b=a.uniq().filter(function(a){return null!=a});j(s,"tags",b)}return w(this,i(s,"tags").copy())},type:function(a){return u("ticket_type_id",a)},form:function(){if(arguments.length>0)throw new Error(k.GETTER_ONLY_ERROR);return new o(b)}};return u=f.proxy(u,x),x}var e=c("zd"),f=c("jquery"),g=c("underscore"),h=c("support"),i=h.get,j=h.set,k=c("wrappers/build_getter"),l=c("wrappers/fetch_and_execute"),m=c("wrappers/agreement_wrapper"),n=c("wrappers/group_wrapper"),o=c("wrappers/ticket_form_wrapper"),p=c("wrappers/user_wrapper"),q="Only one agreement allowed!",r="Ticket has already been shared!";d.ONLY_ONE_AGREEMENT=q,d.TICKET_IS_SHARED=r,a.exports=d},"wrappers/comment_wrapper.js":function(a,b,c){function d(a){var b=k(a,"commentMode");return m[b]}function e(a,b){switch(b){case"fbPrivateMessage":return k(a,"facebookPrivateMessageVisible");case"fbWallReply":return k(a,"facebookChannelVisible");case"twitterDm":case"twitterMention":return k(a,"twitterChannelsVisible");default:return!0}}function f(a){switch(a){case"fbPrivateMessage":case"fbWallReply":return"This is not a Facebook Ticket!";case"twitterDm":case"twitterMention":return"This is not a Twitter Ticket!";default:return""}}function g(a,b){var c;return j.each(a,function(a,d){a==b&&(c=d)}),c}function h(a,b){var c=a,h=b;return{type:function(a){if(void 0!==a){var b=g(m,a);if(null!=b){if(!e(h,b))throw f(b);h.toggleCommentMode(b)}return this}return d(h,"commentMode")},text:function(a){return void 0!==a?(l(c,"comment.body",a),this):k(c,"comment.body")}}}var i=c("support"),j=c("underscore"),k=i.get,l=i.set;c("wrappers/build_getter");var m={fbPrivateMessage:"facebookPrivateMessage",fbWallReply:"facebookWallReply",privateComment:"internalNote",publicComment:"publicReply",twitterDm:"twitterDirectMessage",twitterMention:"twitterReply"};a.exports=h},"wrappers/account_wrapper.js":function(a,b,c){var d=c("wrappers/build_getter");a.exports=function(a){this.id=d(a,"id"),this.planName=d(a,"planName"),this.subdomain=d(a,"subdomain")}},"wrappers/ticket_priority.js":function(a){a.exports={0:"-",1:"low",2:"normal",3:"high",4:"urgent",NONE:0,LOW:1,NORMAL:2,HIGH:3,URGENT:4}},"lib/views/adapters/zd_menu.js":function(a,b,c){var d=c("jquery"),e=c("underscore");a.exports=function(a){var b=a.find("select").filter('[data-zd-type$="_menu"]');b.each(function(a,b){var c,f,g,h=d(b);f=d.map(h.find("option"),function(a){return c=d(a),c.is(":selected")&&(g=c.val()),d.extend({},c.data(),{id:c.attr("id")||e.uniqueId(),label:c.text(),value:c.val()})});var i,j="zd_%@".fmt(h.data("zdType")).camelize(),k=h.parent()[j]().data(j),l=d(k.dom);k.loadData(f),l.addClass(h.attr("class")),i=e.defaults(l.data(),h.data()),l.data(e.extend(i,{menu:k})),g&&k.setValue(g),h.remove()})}},"wrappers/agreement_wrapper.js":function(a,b,c){var d=c("wrappers/build_getter");a.exports=function(a){this.id=d(a,"id"),this.name=d(a,"name"),this.partnerName=d(a,"partnerName")}},"wrappers/fetch_and_execute.js":function(a){a.exports=function(a,b,c){var d=a.create({id:b});d.fetch().done(function(){c(d)}).fail(function(){var c=a.toString().replace(/(\w*\.)/,"").toLowerCase();throw"Could not find %@ with id '%@'".fmt(c,b)})}},"wrappers/user_field_wrapper.js":function(a,b,c){var d=(c("underscore"),c("wrappers/user_field_option_wrapper")),e=c("support"),f=e.get,g=e.set,h=c("i18n").t,i=h("txt.apps.error.field_doesnt_support_options",null,"The user field you are accessing doesn't have any options available"),j=function(a){return{name:function(){return f(a,"name")},show:function(){return g(a,"isVisible",!0),this},hide:function(){return g(a,"isVisible",!1),this},toggle:function(){return this.isVisible()?this.hide():this.show()},isVisible:function(){return f(a,"isVisible")},options:function(){var b=f(a,"options");if(void 0===b)throw new Error(i);return b.map(function(a){return new d(a)})}}};a.exports=j},"wrappers/ticket_form_wrapper.js":function(a,b,c){var d=c("wrappers/build_getter");a.exports=function(a){this.id=d(a,"currentTicketFormId")}},"wrappers/ticket_field_wrapper.js":function(a,b,c){function d(a){var b,c=a,d={ticket_type_id:"type",priority_id:"priority",problem_id:"problem",ticket_sharing:"sharedWith"},f={type:h,priority:i,status:j},k=function(a){return a instanceof g?a:new g(a,c)},n=function(a,c){var d,g,h,i;e.isUndefined(b)&&(b={},e.each(a,function(a){d=k(a),g=d.value(),h=f[c]&&f[c][g]||g,i=!e.isUndefined(h),i&&(m(a,"symbolValue",h),b[h]=d),g!==h&&(b[g]=d)}))};return{name:function(){var a=l(c,"name");return d[a]||a},label:function(a){return a?m(c,"customLabelText",a):l(c,"labelText")},options:function(a){var d,f=l(c,"options");if(e.isUndefined(f))throw new Error(o);return d=p(f),n(d,this.name()),arguments.length?b[a]:e.map(d,function(a){return k(a)})},isRequired:function(){return l(c,"isRequired")},show:function(){return m(c,"isVisible",!0),this},hide:function(){return m(c,"isVisible",!1),this},toggle:function(){return this.isVisible()?this.hide():this.show()},isVisible:function(){return l(c,"isVisible")},disable:function(){return m(c,"disabled",!0),this},enable:function(){return m(c,"disabled",!1),this}}}var e=c("underscore"),f=c("support"),g=c("wrappers/ticket_field_option_wrapper"),h=(c("wrappers/ticket_field"),c("wrappers/ticket_type")),i=c("wrappers/ticket_priority"),j=c("wrappers/ticket_status"),k=c("i18n").t,l=f.get,m=f.set,n="::",o=k("txt.apps.error.field_doesnt_support_options",null,"The ticket field you are accessing doesn't have any options available"),p=function(a,b){var c,d,f=[],g=a.length,h=function(a){e.isEmpty(b)||m(a,"nestedLabel",b.join(n)+n+l(a,"label"))};return b=b||[],e.each(a,function(a){d=l(a,"label"),h(a),c=l(a,"children"),f.push(a),c&&(b.push(d),f.push.apply(f,p(c,b))),g--,!g&&b.length&&b.pop()}),f};a.exports=d},"wrappers/user_field_option_wrapper.js":function(a,b,c){function d(a){var b,c=a,d=function(){var a=e(c,"label");return a.toString()},f=function(){return null==b&&["value","id","label"].some(function(a){return b=e(c,a),null!=b}),b};return{label:function(){return d()},value:function(){return f()}}}var e=(c("underscore"),c("support").get);a.exports=d},"wrappers/ticket_field_option_wrapper.js":function(a,b,c){function d(a,b){var c,d=a,f=b,k=function(){return e.has(d,"nestedLabel")?new RegExp(j).test(h(d,"nestedLabel")):!1},l=function(a,b,c){if(h(a,b)===c)return c;var d=i(a,b,c);return g(f,"options"),d},m=function(a){var b,c;if(a)return b=l(d,"label",a),b===a&&k()&&(c=h(d,"nestedLabel").split(j),c.length>1&&(c=c.slice(0,-1),c.push(a)),i(f,"nestedLabel",c.join(j))),b},n=function(){var a;return a=k()?h(d,"nestedLabel"):h(d,"label"),a.toString()},o=function(){return null!=c?c:e.reduce(["symbolValue","value","id","label"],function(a,b){return null==a&&(a=c=h(d,b)),a},void 0)},p=function(){var a=o(),b=h(d,"symbolValue"),c=h(d,"value");return null!=a&&b===a&&e.isNumber(c)?c:a};return{label:function(a){return a?m(a):n()},value:function(){return o()},isEnabled:function(){return h(d,"enabled")},enable:function(){return l(d,"enabled",!0),this},disable:function(){return l(d,"enabled",!1),this},show:function(){return f.showOptions(p()),this},hide:function(){return f.hideOptions(p()),this},toggle:function(){return this.isVisible()?this.hide():this.show()},isVisible:function(){return f.optionIsVisible(p())}}}var e=c("underscore"),f=c("support"),g=f.notifyPropertyChange,h=f.get,i=f.set,j="::";a.exports=d},"lib/views/deferred_activation_view_mixin.js":function(a,b,c){var d=c("jquery"),e={PENDING:"pending",DEFERRED:"deferred",READY:"ready"},f=Em.Mixin.create({_didActivate:Em.required(),activationState:e.PENDING,isInState:function(a){return this.get("activationState")===a},init:function(){var a=d.Deferred();this._setViewIsReady=function(){a.resolve()},this._viewWillDestroy=function(){a.reject()},this._viewIsReadyPromise=function(){return a.promise()},this._super.apply(this,arguments)},didInsertElement:function(){this._setViewIsReady(),this._super()},willDestroyElement:function(){this._viewWillDestroy(),this._super()},didActivate:function(){this.isInState(e.READY)?this._didActivate():this.activateWhenReady()},activateWhenReady:function(){this.isInState(e.DEFERRED)||(this.set("activationState",e.DEFERRED),this.readyToActivate().then(function(){this._didActivate(),this.set("activationState",e.READY)}.bind(this)))},readyToActivate:function(){return this._viewIsReadyPromise()},resetActivationState:function(){this.set("activationState",e.PENDING)}});a.exports=f}},ZendeskApps=a("index.js")}();